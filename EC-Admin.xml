<?xml version="1.0" encoding="UTF-8"?>
<exportedData xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="commander.xsd" version="61" buildLabel="build_4.2_71224_2014.04.04_08:13:52" buildVersion="4.2.4.71224" passkey="a30cbf89cfdae202c5227ce40fe867512295566d">
  <exportPath>/projects/EC-Admin</exportPath>
  <project>
    <projectName>EC-Admin</projectName>
    <description>A set of tools to help with the administration of a Commander Server.</description>
    <resourceName></resourceName>
    <workspaceName></workspaceName>
    <propertySheet>
      <property>
        <propertyName>ec_dashboardReports</propertyName>
        <propertySheet>
          <property>
            <propertyName>Performance Report</propertyName>
            <propertySheet>
              <property>
                <propertyName>image</propertyName>
                <expandable>1</expandable>
                <value>/commander/jobSteps/1153604/images/custom6e720d891468f50a7851.png</value>
              </property>
              <property>
                <propertyName>link</propertyName>
                <expandable>1</expandable>
                <value>/commander/jobSteps/1153604/Performance Report.html</value>
              </property>
            </propertySheet>
          </property>
        </propertySheet>
      </property>
      <property>
        <propertyName>ec_reportData</propertyName>
        <propertySheet>
          <property>
            <propertyName>101057</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>795542</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>795542</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-04-02 02:00:21</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>102561</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>809962</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>809962</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-04-04 02:02:49</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>103546</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>819919</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>819919</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-04-15 02:01:40</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>105093</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>834705</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>834705</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-04-16 02:02:20</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>106896</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>855271</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>855271</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-04-18 02:01:27</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>108968</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>876280</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>876280</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-04-20 02:02:10</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>111500</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>901727</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>901727</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-04-22 02:01:52</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>113032</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>917120</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>917120</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-04-23 02:02:24</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>115104</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>940270</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>940270</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-04-29 02:00:31</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>118795</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>977713</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>977713</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-05-02 02:01:41</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>122261</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>1014313</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>1014313</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-05-17 02:01:09</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>123433</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>1026156</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>1026156</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-05-22 02:01:06</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>124975</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>1041289</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>1041289</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-05-24 02:01:18</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>128755</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>1077868</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>1077868</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-05-28 02:01:03</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>134914</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>1137980</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>1137980</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-06-11 02:01:17</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>136794</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>1153604</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>1153604</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-06-12 02:01:10</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>39294</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>236863</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>236863</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2013-11-27 13:34:00</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>40204</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>242421</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>242421</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2013-12-17 02:01:37</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>40817</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>247707</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>247707</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2013-12-20 02:00:41</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>41086</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>249438</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>249438</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2013-12-21 02:00:44</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>41280</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>251668</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>251668</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2013-12-22 02:00:40</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>41628</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>253766</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>253766</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2013-12-23 02:00:32</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>41985</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>255907</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>255907</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2013-12-24 02:00:54</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>42178</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>258456</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>258456</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2013-12-27 02:00:42</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>42506</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>262792</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>262792</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-01-04 02:00:28</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>42565</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>265083</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>265083</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-01-10 02:01:12</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>42720</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>266782</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>266782</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-01-11 02:00:36</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>42876</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>268485</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>268485</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-01-12 02:00:34</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>43020</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>270748</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>270748</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-01-14 02:00:31</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>43170</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>272401</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>272401</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-01-15 02:01:09</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>43339</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>274171</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>274171</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-01-16 02:00:41</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>43526</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>276715</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>276715</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-01-18 02:02:12</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>43665</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>278242</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>278242</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-01-19 02:00:43</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>43954</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>282108</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>282108</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-01-22 02:00:42</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>44095</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>283691</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>283691</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-01-23 02:00:37</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>44286</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>285561</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>285561</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-01-24 02:00:42</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>44365</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>286672</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>286672</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-01-25 02:00:39</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>44517</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>289171</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>289171</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-01-28 02:00:41</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>44718</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>290921</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>290921</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-01-29 02:00:43</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>44875</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>292575</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>292575</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-01-30 02:00:38</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>45189</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>296009</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>296009</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-02-01 02:00:55</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>45381</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>298620</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>298620</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-02-03 02:00:46</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>45459</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>299140</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>299140</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-02-03 14:02:57</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>45537</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>300269</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>300269</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-02-04 02:00:38</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>45707</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>302045</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>302045</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-02-05 02:00:45</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>46965</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>310280</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>310280</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-02-06 02:01:49</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>48931</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>323557</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>323557</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-02-08 02:02:41</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>51473</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>341685</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>341685</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-02-14 02:01:26</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>52480</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>348315</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>348315</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-02-15 02:06:38</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>57663</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>388731</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>388731</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-02-19 02:01:58</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>59205</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>402983</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>402983</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-02-20 02:03:17</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>65949</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>465528</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>465528</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-02-25 02:00:40</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>67496</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>479784</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>479784</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-02-26 02:02:12</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>73295</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>533981</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>533981</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-03-05 02:02:03</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>74452</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>544825</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>544825</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-03-06 02:01:49</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>75848</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>558025</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>558025</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-03-08 02:00:38</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>78995</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>586352</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>586352</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-03-10 03:01:49</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>80212</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>598496</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>598496</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-03-11 02:02:59</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>81674</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>612753</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>612753</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-03-12 02:01:48</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>83240</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>627040</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>627040</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-03-13 02:02:00</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>85471</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>648593</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>648593</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-03-16 02:00:34</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>86417</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>658207</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>658207</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-03-18 02:02:09</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>87941</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>672251</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>672251</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-03-19 02:00:29</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>89877</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>690506</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>690506</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-03-21 02:01:14</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>92564</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>716731</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>716731</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-03-25 02:01:08</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>95635</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>744863</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>744863</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-03-27 02:00:33</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>97593</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>763287</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>763287</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-03-29 02:01:12</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>99579</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>781905</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>781905</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2014-04-01 02:01:17</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
        </propertySheet>
      </property>
      <property>
        <propertyName>ec_savedSearches</propertyName>
        <propertySheet>
          <property>
            <propertyName>last500PerformanceMetricsJobs</propertyName>
            <description></description>
            <propertySheet>
              <property>
                <propertyName>displayFilter1</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>filterName</propertyName>
                    <expandable>1</expandable>
                    <value>procedureName</value>
                  </property>
                  <property>
                    <propertyName>operand1</propertyName>
                    <expandable>1</expandable>
                    <value>performanceMetrics</value>
                  </property>
                  <property>
                    <propertyName>operator</propertyName>
                    <expandable>1</expandable>
                    <value>equals</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>filter1</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>filterName</propertyName>
                    <expandable>1</expandable>
                    <value>procedureName</value>
                  </property>
                  <property>
                    <propertyName>operand1</propertyName>
                    <expandable>1</expandable>
                    <value>performanceMetrics</value>
                  </property>
                  <property>
                    <propertyName>operator</propertyName>
                    <expandable>1</expandable>
                    <value>equals</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>sort1</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>order</propertyName>
                    <expandable>1</expandable>
                    <value>descending</value>
                  </property>
                  <property>
                    <propertyName>sortName</propertyName>
                    <expandable>1</expandable>
                    <value>createTime</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>filterName</propertyName>
                <expandable>1</expandable>
                <value>jobSearch</value>
              </property>
              <property>
                <propertyName>filter_count</propertyName>
                <expandable>1</expandable>
                <value>1</value>
              </property>
              <property>
                <propertyName>maxIds</propertyName>
                <expandable>1</expandable>
                <value>500</value>
              </property>
              <property>
                <propertyName>maxResults</propertyName>
                <expandable>1</expandable>
                <value>20</value>
              </property>
              <property>
                <propertyName>objectType</propertyName>
                <expandable>1</expandable>
                <value>job</value>
              </property>
              <property>
                <propertyName>projectionCount</propertyName>
                <expandable>1</expandable>
                <value>0</value>
              </property>
              <property>
                <propertyName>relatedToCount</propertyName>
                <expandable>1</expandable>
                <value>0</value>
              </property>
              <property>
                <propertyName>resultsPage</propertyName>
                <expandable>1</expandable>
                <value>searchResults.php</value>
              </property>
              <property>
                <propertyName>sortCount</propertyName>
                <expandable>1</expandable>
                <value>1</value>
              </property>
              <property>
                <propertyName>textSearchCount</propertyName>
                <expandable>1</expandable>
                <value>0</value>
              </property>
            </propertySheet>
          </property>
        </propertySheet>
      </property>
      <property>
        <propertyName>performances</propertyName>
        <description>A property sheet for performance diagnostic</description>
        <propertySheet>
          <property>
            <propertyName>CORE</propertyName>
            <description>Tests for number of cores</description>
            <propertySheet>
              <property>
                <propertyName>BAD</propertyName>
                <description></description>
                <expandable>1</expandable>
                <value>&lt; 4</value>
              </property>
              <property>
                <propertyName>BEST</propertyName>
                <description></description>
                <expandable>1</expandable>
                <value>&gt; 6</value>
              </property>
              <property>
                <propertyName>GOOD</propertyName>
                <description></description>
                <expandable>1</expandable>
                <value>&lt;=6</value>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>CPU</propertyName>
            <description>Tests for CPU speed</description>
            <propertySheet>
              <property>
                <propertyName>BAD</propertyName>
                <description></description>
                <expandable>1</expandable>
                <value>&lt; 1.5</value>
              </property>
              <property>
                <propertyName>BEST</propertyName>
                <description></description>
                <expandable>1</expandable>
                <value>&gt; 2</value>
              </property>
              <property>
                <propertyName>GOOD</propertyName>
                <description></description>
                <expandable>1</expandable>
                <value>&lt;= 2.0</value>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>DBPERF</propertyName>
            <description>Test for Database Performance</description>
            <propertySheet>
              <property>
                <propertyName>BAD</propertyName>
                <description></description>
                <expandable>1</expandable>
                <value>&gt; .10</value>
              </property>
              <property>
                <propertyName>BEST</propertyName>
                <description></description>
                <expandable>1</expandable>
                <value>&lt;.07</value>
              </property>
              <property>
                <propertyName>GOOD</propertyName>
                <description></description>
                <expandable>1</expandable>
                <value>&gt;= .07</value>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>DISKREAD</propertyName>
            <description>Tests for Disk Reading Performance</description>
            <propertySheet>
              <property>
                <propertyName>BAD</propertyName>
                <description></description>
                <expandable>1</expandable>
                <value>&lt; 2</value>
              </property>
              <property>
                <propertyName>BEST</propertyName>
                <description></description>
                <expandable>1</expandable>
                <value>&gt;5</value>
              </property>
              <property>
                <propertyName>GOOD</propertyName>
                <description></description>
                <expandable>1</expandable>
                <value>&lt;=5</value>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>DISKWRITE</propertyName>
            <description>Tests for Disk Writing Performance</description>
            <propertySheet>
              <property>
                <propertyName>BAD</propertyName>
                <description></description>
                <expandable>1</expandable>
                <value>&lt; 2</value>
              </property>
              <property>
                <propertyName>BEST</propertyName>
                <description></description>
                <expandable>1</expandable>
                <value>&gt;5</value>
              </property>
              <property>
                <propertyName>GOOD</propertyName>
                <description></description>
                <expandable>1</expandable>
                <value>&lt;=5</value>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>PERF</propertyName>
            <description>Test for ping times to resources</description>
            <propertySheet>
              <property>
                <propertyName>BAD</propertyName>
                <description></description>
                <expandable>1</expandable>
                <value>&gt; 10</value>
              </property>
              <property>
                <propertyName>BEST</propertyName>
                <description></description>
                <expandable>1</expandable>
                <value>&lt; 5</value>
              </property>
              <property>
                <propertyName>GOOD</propertyName>
                <description></description>
                <expandable>1</expandable>
                <value>&gt;=5</value>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>PING</propertyName>
            <description>Test for ping times to resources</description>
            <propertySheet>
              <property>
                <propertyName>BAD</propertyName>
                <description></description>
                <expandable>1</expandable>
                <value>&gt; 2</value>
              </property>
              <property>
                <propertyName>BEST</propertyName>
                <description></description>
                <expandable>1</expandable>
                <value>&lt; 1</value>
              </property>
              <property>
                <propertyName>GOOD</propertyName>
                <description></description>
                <expandable>1</expandable>
                <value>&gt;=1</value>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>RAM</propertyName>
            <description>Test for RAM amount</description>
            <propertySheet>
              <property>
                <propertyName>BAD</propertyName>
                <description>Value below 4 GB is bad</description>
                <expandable>1</expandable>
                <value>&lt; 4</value>
              </property>
              <property>
                <propertyName>BEST</propertyName>
                <description>Anything over 8GB is perfect</description>
                <expandable>1</expandable>
                <value>&gt; 8</value>
              </property>
              <property>
                <propertyName>GOOD</propertyName>
                <description>RAM between 4GB and 8GB is acceptable</description>
                <expandable>1</expandable>
                <value>&lt;= 8</value>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>scripts</propertyName>
            <description>perl Library</description>
            <propertySheet>
              <property>
                <propertyName>perf.pm</propertyName>
                <description>checkvalue(PERF, value): test the value against BAD, GOOD and BEST logic tests for PERF test (in /myProject/performances/PERF)&#10;&#10;</description>
                <expandable>1</expandable>
                <value>$[/myProject/scripts/perlHeader]&#10;$[/myProject/scripts/perlLib]&#10;&#10;sub checkValue&#10;{&#10;  my $test=shift;            # the test to perform&#10;  my $value=shift;         # the value to test&#10;  my $summary=shift;   # the summary to display on the job page&#10;&#10;  printf("Value to test: %s\n", $value) if ($DEBUG);&#10;  printf("Checking Performance for %s: ", $test);&#10; &#10;  InvokeCommander("SuppressLog", "setProperty", "summary", $summary);&#10;  if (eval $value .  getP("/myProject/performances/$test/BAD")) {&#10;    printf("BAD\n");&#10;    InvokeCommander("SuppressLog", "setProperty", "outcome", "warning");&#10;    return -1;&#10;  } elsif (eval $value . getP("/myProject/performances/$test/GOOD")) {&#10;    printf("GOOD\n");&#10;    return 0;&#10;  } elsif(eval $value . getP("/myProject/performances/$test/BEST")) {&#10;    printf("BEST\n");&#10;    return +1;&#10;  } else {&#10;    printf ("\nTest for %s does not resolve. Verify your values in the performances property sheet\n", $test);&#10;    exit (2);&#10;  }&#10;}</value>
              </property>
            </propertySheet>
          </property>
        </propertySheet>
      </property>
      <property>
        <propertyName>scripts</propertyName>
        <description>A list of Perl helpers</description>
        <propertySheet>
          <property>
            <propertyName>jobTemplate</propertyName>
            <description></description>
            <expandable>1</expandable>
            <value>$[/myProcedure/procedureName]_$[/increment /server/counters/EC-Admin/jobCounter]</value>
          </property>
          <property>
            <propertyName>perlCommonLib</propertyName>
            <description>Perl Library (format agnostic) for:&#10;&#10; - getP: a simple getPropertycall. Return undef in case of error&#10; - humanSize: return a size in human readable string&#10; - compareVersion: a function to compare artifact version strings in the form of x.y.z....</description>
            <expandable>1</expandable>
            <value>#############################################################################&#10;#&#10;# Compare 2 version number strings like x.y.z... section by section&#10;# return 1 if V1 &gt; v2&#10;# return 0 if v1 == v2&#10;# return -1 if v1 &lt; v2&#10;#&#10;#############################################################################&#10;sub compareVersion {&#10;&#10;  my ($v1, $v2)=@_;&#10;  &#10;  my @v1Numbers = split('\.', $v1);&#10;  my @v2Numbers = split('\.', $v2);&#10;&#10;  for (my $index = 0; $index &lt; scalar(@v1Numbers); $index++) {&#10;    &#10;    # We ran out of V2 numbers =&gt; V1 is a bigger version&#10;    return 1 if (scalar(@v2Numbers) == $index);&#10;&#10;    # same value, go to next number&#10;    next if ($v1Numbers[$index] == $v2Numbers[$index]);&#10;        &#10;    # V1 is a bigger version&#10;    return 1 if ($v1Numbers[$index] &gt; $v2Numbers[$index]);&#10;           ;&#10;    # V2 is a bigger version&#10;    return -1;&#10;  }&#10;&#10;  # We ran out of V1 numbers&#10;  return -1 if(scalar(@v1Numbers) != scalar(@v2Numbers));&#10;&#10;  # Same number&#10;  return 0;&#10;}&#10;&#10;&#10;#############################################################################&#10;#&#10;# Return property value or undef in case of error (non existing)&#10;#&#10;#############################################################################&#10;sub getP&#10;{&#10;  my $prop=shift;&#10;&#10;  my($success, $xPath, $errMsg, $errCode)= InvokeCommander("SuppressLog IgnoreError", "getProperty", $prop);&#10;  return undef if ($success != 1);&#10;  my $val= $xPath-&gt;findvalue("//value");&#10;  return($val);&#10;}&#10;&#10;#############################################################################&#10;#&#10;# Return human readable size&#10;#&#10;#############################################################################&#10;sub humanSize {&#10;  my $size = shift();&#10;&#10;  if ($size &gt; 1099511627776) { # TB: 1024 GB&#10;      return sprintf("%.2f TB", $size / 1099511627776);&#10;  }&#10;  if ($size &gt; 1073741824) { # GB: 1024 MB&#10;      return sprintf("%.2f GB", $size / 1073741824);&#10;  }&#10;  if ($size &gt; 1048576) { # MB: 1024 KB&#10;      return sprintf("%.2f MB", $size / 1048576);&#10;  }&#10;  elsif ($size &gt; 1024) { # KiB: 1024 B&#10;      return sprintf("%.2f KB", $size / 1024);&#10;  }&#10;                                  # bytes&#10;  return "$size byte" . ($size &lt;= 1 ? "" : "s");&#10;}</value>
          </property>
          <property>
            <propertyName>perlHeader</propertyName>
            <description>default Perl Header to use the API</description>
            <expandable>1</expandable>
            <value>#############################################################################&#10;#&#10;# Copyright 2013 Electric-Cloud Inc.&#10;#&#10;#############################################################################&#10;use strict;&#10;use English;&#10;use ElectricCommander;&#10;$| = 1;&#10;&#10;my $DEBUG=0;&#10;&#10;# Create a single instance of the Perl access to ElectricCommander&#10;my $ec = new ElectricCommander();&#10;&#10;# Check for the OS Type&#10;my $osIsWindows = $^O =~ /MSWin/;&#10;</value>
          </property>
          <property>
            <propertyName>perlHeaderJSON</propertyName>
            <description>default Perl Header to use the API with JSON format</description>
            <expandable>1</expandable>
            <value>#############################################################################&#10;#&#10;# Copyright 2013 Electric-Cloud Inc.&#10;#&#10;#############################################################################&#10;use strict;&#10;use English;&#10;use ElectricCommander;&#10;use Data::Dumper;&#10;$| = 1;&#10;&#10;my $DEBUG=0;&#10;&#10;# Create a single instance of the Perl access to ElectricCommander&#10;my $ec = new ElectricCommander({'format' =&gt; "json"});&#10;&#10;# Check for the OS Type&#10;my $osIsWindows = $^O =~ /MSWin/;&#10;&#10;&#10;#### Line 20 ####</value>
          </property>
          <property>
            <propertyName>perlLib</propertyName>
            <description>Perl Libraries for:&#10; - InvokeCommander: Run an ElectricCommander function using the Perl API&#10; - getPS: return a Hash for porperties contained in a PropertySheet&#10;#-------------------------------------------------------------------------&#10;# Run an ElectricCommander function using the Perl API&#10;#&#10;# Params&#10;# optionFlags - "AllowLog" or "SuppressLog" or "SuppressResult"&#10;# combined with "IgnoreError"&#10;# commanderFunction&#10;# Variable Parameters&#10;# The parameters required by the ElectricCommander function&#10;# according to the Perl API. See the ElectricCommander&#10;# Help system for more information.&#10;# (the functions and paramenter are based on "ectool" - run it for documentation)&#10;#&#10;# Returns&#10;# success - 1 if no error was detected&#10;# xPath - an XML::XPath object with the result.&#10;# errMsg - a message string extracted from Commander on error&#10;# errCode - the code part &lt;code&gt; of the XML&#10;#-------------------------------------------------------------------------</description>
            <expandable>1</expandable>
            <value>$[/javascript &#10;var p;&#10;if (typeof(plugins["EC-Admin"].project.Version) == "undefined") {&#10;  p=projects["EC-Admin"].scripts.perlCommonLib;&#10;} else {&#10;  p=plugins["EC-Admin"].project.scripts.perlCommonLib;&#10;}&#10;p;&#10;];&#10;&#10;#############################################################################&#10;#&#10;# Invoke a API call&#10;#&#10;#############################################################################&#10;sub InvokeCommander {&#10;&#10;    my $optionFlags = shift;&#10;    my $commanderFunction = shift;&#10;    my $xPath;&#10;    my $success = 1;&#10;&#10;    my $bSuppressLog = $optionFlags =~ /SuppressLog/i;&#10;    my $bSuppressResult = $bSuppressLog || $optionFlags =~ /SuppressResult/i;&#10;    my $bIgnoreError = $optionFlags =~ /IgnoreError/i;&#10;&#10;    # Run the command&#10;    # print "Request to Commander: $commanderFunction\n" unless ($bSuppressLog);&#10;&#10;    $ec-&gt;abortOnError(0) if $bIgnoreError;&#10;    $xPath = $ec-&gt;$commanderFunction(@_);&#10;    $ec-&gt;abortOnError(1) if $bIgnoreError;&#10;&#10;    # Check for error return&#10;    my $errMsg = $ec-&gt;checkAllErrors($xPath);&#10;    my $errCode=$xPath-&gt;findvalue('//code',)-&gt;value();&#10;    if ($errMsg ne "") {&#10;        $success = 0;&#10;    }&#10;    if ($xPath) {&#10;        print "Return data from Commander:\n" .&#10;               $xPath-&gt;findnodes_as_string("/") . "\n"&#10;            unless $bSuppressResult;&#10;    }&#10;&#10;    # Return the result&#10;    return ($success, $xPath, $errMsg, $errCode);&#10;}&#10;&#10;&#10;#############################################################################&#10;#&#10;# Return a hash of the properties contained in a Property Sheet.&#10;# Args:&#10;#    1. Property Sheet path&#10;#    2. Recursive boolean&#10;#############################################################################&#10;sub getPS&#10;{&#10;  my $psPath=shift;&#10;  my $recursive=shift;&#10;  &#10;  my $hashRef=undef;&#10;  &#10;  my($success, $result, $errMsg, $errCode)=InvokeCommander("SuppressLog IgnoreError", "getProperties", {'path'=&gt;$psPath});&#10;  return $hashRef if (!$success);&#10;  &#10; my $nodeset=$result-&gt;find('//property');&#10;  foreach my $node ($nodeset-&gt;get_nodelist) {&#10;	my $propName=$result-&gt;findvalue('propertyName',    $node);&#10;    my $value   =$result-&gt;findvalue('value',           $node);&#10;    my $psId    =$result-&gt;findvalue('propertySheetId', $node);&#10;    &#10;    # this is not a nested PS    &#10;    if ($psId eq '') {&#10;      $hashRef-&gt;{$propName}=$value;&#10;    } else {&#10;      # nested PropertySheet&#10;      if ($recursive) {&#10;        $hashRef-&gt;{$propName}=getPS("$psPath/$propName");&#10;      } else {&#10;        $hashRef-&gt;{$propName}=undef;&#10;      }  &#10;    }&#10;  }&#10;  return $hashRef;&#10;}</value>
          </property>
          <property>
            <propertyName>perlLibJSON</propertyName>
            <description>Perl Libraries (JSON Format) for:&#10; - InvokeCommander: Run an ElectricCommander function using the Perl API&#10; - getPS: return a Hash for porperties contained in a PropertySheet&#10;&#10;#-------------------------------------------------------------------------&#10;# Run an ElectricCommander function using the Perl API&#10;#&#10;# Params&#10;# optionFlags - "AllowLog" or "SuppressLog" or "SuppressResult"&#10;# combined with "IgnoreError"&#10;# commanderFunction&#10;# Variable Parameters&#10;# The parameters required by the ElectricCommander function&#10;# according to the Perl API. See the ElectricCommander&#10;# Help system for more information.&#10;# (the functions and paramenter are based on "ectool" - run it for documentation)&#10;#&#10;# Returns&#10;# success - 1 if no error was detected&#10;# xPath - an XML::XPath object with the result.&#10;# errMsg - a message string extracted from Commander on error&#10;# errCode - the code part &lt;code&gt; of the XML&#10;#-------------------------------------------------------------------------</description>
            <expandable>1</expandable>
            <value>$[/javascript &#10;var p;&#10;if (typeof(plugins["EC-Admin"].project.Version) == "undefined") {&#10;  p=projects["EC-Admin"].scripts.perlCommonLib;&#10;} else {&#10;  p=plugins["EC-Admin"].project.scripts.perlCommonLib;&#10;}&#10;p;&#10;];&#10;&#10;#############################################################################&#10;#&#10;# Invoke a API call&#10;#&#10;#############################################################################&#10;sub InvokeCommander {&#10;&#10;    my $optionFlags = shift;&#10;    my $commanderFunction = shift;&#10;    my $result;&#10;    my $success = 1;&#10;	my $errMsg;&#10;	my $errCode;&#10;&#10;    my $bSuppressLog = $optionFlags =~ /SuppressLog/i;&#10;    my $bSuppressResult = $bSuppressLog || $optionFlags =~ /SuppressResult/i;&#10;    my $bIgnoreError = $optionFlags =~ /IgnoreError/i;&#10;&#10;    # Run the command&#10;    # print "Request to Commander: $commanderFunction\n" unless ($bSuppressLog);&#10;&#10;    $ec-&gt;abortOnError(0) if $bIgnoreError;&#10;    $result = $ec-&gt;$commanderFunction(@_);&#10;    $ec-&gt;abortOnError(1) if $bIgnoreError;&#10;&#10;    # Check for error return&#10;    if (defined ($result-&gt;{responses}-&gt;[0]-&gt;{error})) {&#10;    	$errCode=$result-&gt;{responses}-&gt;[0]-&gt;{error}-&gt;{code};&#10;    	$errMsg=$result-&gt;{responses}-&gt;[0]-&gt;{error}-&gt;{message};&#10;    }&#10;&#10;    if ($errMsg ne "") {&#10;        $success = 0;&#10;    }&#10;    if ($result) {&#10;        print "Return data from Commander:\n" .&#10;               Dumper($result) . "\n"&#10;            unless $bSuppressResult;&#10;    }&#10;&#10;    # Return the result&#10;    return ($success, $result, $errMsg, $errCode);&#10;}&#10;&#10;&#10;#############################################################################&#10;#&#10;# Return a hash of the properties contained in a Property Sheet.&#10;# Args:&#10;#    1. Property Sheet path&#10;#    2. Recursive boolean&#10;#############################################################################&#10;sub getPS&#10;{&#10;  my $psPath=shift;&#10;  my $recursive=shift;&#10;  &#10;  my $hashRef=undef;;&#10;  &#10;  my($success, $result, $errMsg, $errCode)=InvokeCommander("SuppressLog IgnoreError", "getProperties", {'path'=&gt;$psPath});&#10;  return $hashRef if (!$success);&#10;  &#10;  foreach my $node ($result-&gt;findnodes('//property')) {&#10;	my $propName=$node-&gt;{'propertyName'};&#10;    my $value=$node-&gt;{'value'};&#10;    if (defined ($value)) {&#10;      $hashRef-&gt;{$propName}=$node-&gt;{'value'};&#10;    } else {&#10;      # nested PropertySheet&#10;      if ($recursive) {&#10;        $hashRef-&gt;{$propName}=getPS("$psPath/$propName");&#10;      } else {&#10;        $hashRef-&gt;{$propName}=undef;&#10;      }  &#10;    }&#10;  }&#10;  return $hashRef;&#10;}</value>
          </property>
        </propertySheet>
      </property>
      <property>
        <propertyName>ec_setup</propertyName>
        <expandable>1</expandable>
        <value># Data that drives the create step picker registration for this plugin.&#10;my %acquireSemaphore = ( &#10;  label       =&gt; "EC-Admin - acquireSemaphore", &#10;  procedure   =&gt; "acquireSemaphore", &#10;  description =&gt; "Acquire a token in order to limit access to a set of procedures.", &#10;  category    =&gt; "Administration" &#10;);&#10;&#10;my %artifactsCleanup = ( &#10;  label       =&gt; "EC-Admin - artifactsCleanup", &#10;  procedure   =&gt; "artifactsCleanup", &#10;  description =&gt; "Delete old artifacts and clean caches.", &#10;  category    =&gt; "Administration" &#10;);&#10;&#10;my %artifactsCleanup_byQuantity = ( &#10;  label       =&gt; "EC-Admin - artifactsCleanup_byQuantity", &#10;  procedure   =&gt; "artifactsCleanup_byQuantity", &#10;  description =&gt; "Delete old artifacts and clean caches.", &#10;  category    =&gt; "Administration" &#10;);&#10;&#10;my %createPluginFromProject = ( &#10;  label       =&gt; "EC-Admin - createPluginFromProject", &#10;  procedure   =&gt; "createPluginFromProject", &#10;  description =&gt; "Transform a project into a plugin", &#10;  category    =&gt; "Administration" &#10;);&#10;&#10;my %deleteObjects = ( &#10;  label       =&gt; "EC-Admin - deleteObjects", &#10;  procedure   =&gt; "deleteObjects", &#10;  description =&gt; "A procedure to quickly delete jobs or workflows older than a specified number of days. It will NOT delete associated workspace job directories.", &#10;  category    =&gt; "Administration" &#10;);&#10;&#10;my %deleteWorkspaceOrphans = ( &#10;  label       =&gt; "EC-Admin - deleteWorkspaceOrphans", &#10;  procedure   =&gt; "deleteWorkspaceOrphans", &#10;  description =&gt; "Procedure to crawl a workspace directory to find orphan jobs (directories without a matching job)", &#10;  category    =&gt; "Administration" &#10;);&#10;&#10;my %jobCleanup_byResult = ( &#10;  label       =&gt; "EC-Admin - jobCleanup_byResult", &#10;  procedure   =&gt; "jobCleanup_byResult", &#10;  description =&gt; "Delete jobs and the associated workspace based on  result: keeping X goods/warning, and Y failed&#10;Report the number of jobs, the disk space and database space that could/was be deleted.", &#10;  category    =&gt; "Administration" &#10;);&#10;&#10;my %jobsCleanup = ( &#10;  label       =&gt; "EC-Admin - jobsCleanup", &#10;  procedure   =&gt; "jobsCleanup", &#10;  description =&gt; "Delete jobs older than a number of days, along with the associated workspace.", &#10;  category    =&gt; "Administration" &#10;);&#10;&#10;my %performanceMetrics = ( &#10;  label       =&gt; "EC-Admin - performanceMetrics", &#10;  procedure   =&gt; "performanceMetrics", &#10;  description =&gt; "Performance diagnostics for EC server and agents.", &#10;  category    =&gt; "Administration" &#10;);&#10;&#10;my %releaseSemaphore = ( &#10;  label       =&gt; "EC-Admin - releaseSemaphore", &#10;  procedure   =&gt; "releaseSemaphore", &#10;  description =&gt; "Procedure to release the token.", &#10;  category    =&gt; "Administration" &#10;);&#10;&#10;my %saveAllObjects = ( &#10;  label       =&gt; "EC-Admin - saveAllObjects", &#10;  procedure   =&gt; "saveAllObjects", &#10;  description =&gt; "This procedure brings a finer granularity to a full server export. For example to retrieve an object after a wrong action or a bad code change. By default it exports projects and each procedure individually. In addition by enabling the matching checkboxes, you can also export resources, resource pools, workspaces, users and groups.", &#10;  category    =&gt; "Administration" &#10;);&#10;&#10;my %saveProjects = ( &#10;  label       =&gt; "EC-Admin - saveProjects", &#10;  procedure   =&gt; "saveProjects", &#10;  description =&gt; "a framework to export projects.", &#10;  category    =&gt; "Administration" &#10;);&#10;&#10;my %synchronizePlugins = ( &#10;  label       =&gt; "EC-Admin - synchronizePlugins", &#10;  procedure   =&gt; "synchronizePlugins", &#10;  description =&gt; "A procedure to synchronize plugins between the server and a resource. Plugins are uploaded first as artifacts and downloaded on the resource if it does not already exist.", &#10;  category    =&gt; "Administration" &#10;);&#10;&#10;my %workflowCleanup = ( &#10;  label       =&gt; "EC-Admin - workflowCleanup", &#10;  procedure   =&gt; "workflowCleanup", &#10;  description =&gt; "Delete workflows older than a number of days.&#10;Report the number of workflows.", &#10;  category    =&gt; "Administration" &#10;);&#10;&#10;@::createStepPickerSteps = (\%acquireSemaphore, \%artifactsCleanup, \%artifactsCleanup_byQuantity, \%createPluginFromProject, \%deleteObjects, \%deleteWorkspaceOrphans, \%jobCleanup_byResult, \%jobsCleanup, \%performanceMetrics, \%releaseSemaphore, \%saveAllObjects, \%saveProjects, \%synchronizePlugins, \%workflowCleanup);&#10;</value>
      </property>
      <property>
        <propertyName>help</propertyName>
        <description>Help page for the plugin version</description>
        <expandable>1</expandable>
        <value>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"&#10;    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&#10;&#10;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&#10;&lt;head&gt;&#10;	&lt;meta content="text/html; charset=us-ascii" http-equiv="content-type" /&gt;&#10;	&lt;title&gt;EC-Admin Plugin&lt;/title&gt;&#10;	&lt;style&gt;&#10;/* pluginhelp.css -&#10; *&#10; * This file defines styles used for displaying plugin documentation.&#10; *&#10; * Copyright (c) 2006-2014 Electric Cloud, Inc.&#10; * All rights reserved&#10; */&#10;&#10;.help {&#10;    font-family: Times New Roman, Times, serif;&#10;    font-size: 16px;&#10;    margin: 10px 10px 0px 30px;&#10;}&#10;&#10;.help h1 {&#10;    font-family: Verdana, Helvetica, sans-serif;&#10;    font-size: 25.89px;&#10;    font-weight: bold;&#10;    color: #4670B8;&#10;    margin-left: -10px;&#10;}&#10;&#10;.help h2 {&#10;    font-family: Verdana, Helvetica, sans-serif;&#10;    font-size: 125%;&#10;    font-weight: bold;&#10;    color: #5981BD;&#10;    margin-left: -10px;&#10;}&#10;&#10;.help h3 {&#10;    font-family: Verdana, Helvetica, sans-serif;&#10;    font-size: 115%;&#10;    font-weight: bold;&#10;    color: #5981BD;&#10;}&#10;&#10;.help h4 {&#10;    font-family: Verdana, Helvetica, sans-serif;&#10;    font-size: 100%;&#10;    font-weight: bold;&#10;    font-style: italic;&#10;    color: #5981BD;&#10;}&#10;&#10;.help a {&#10;    color: #333333;&#10;    text-decoration: none;&#10;    padding: 1px;&#10;    background-image: url(../lib/images/dottedBorder1.gif);&#10;    background-position: bottom;&#10;    background-repeat: repeat-x;&#10;}&#10;&#10;.help a:hover {&#10;    color: #CC6600;&#10;    background-image: url(../lib/images/dottedBorder1Hover.gif);&#10;}&#10;&#10;.help ul li {&#10;    list-style-position: outside;&#10;    padding-bottom: 4px;&#10;    font-size: 110%;&#10;    margin-left: 5pt;&#10;}&#10;&#10;.help pre {&#10;    font-size: 100%;&#10;}&#10;&#10;.help img {&#10;    margin-top: 15px;&#10;    margin-bottom: 8 px;&#10;    margin-left: 30px;&#10;    border-style: solid;&#10;    border-width: 1px;&#10;}&#10;&#10;.grid {&#10;    border-collapse: collapse;&#10;    width: 900px;&#10;    margin: 15px 0px 0px 30px;&#10;}&#10;    &#10;.grid td {&#10;    border-style: solid;&#10;    border-width: 1px;&#10;    padding: 3px 10px 3px 5px;&#10;    font-size: 110%;&#10;   &#10;}&#10;&#10;.grid th {&#10;    border-style: solid;&#10;    border-width: 1px;&#10;    padding-right: 10px;&#10;    padding-left: 5px;&#10;    padding-top: 3px;&#10;    padding-bottom: 3px;&#10;    font-size: 110%;&#10;    text-align: left;&#10;    vertical-align: bottom;&#10;}&#10;&#10;.help .required {&#10;    font-weight: bold;&#10;    font-style: italic;&#10;}&#10;&#10;.help a:link {&#10;    text-decoration:underline;&#10;}&#10;&#10;.help div &gt; a {&#10;    display: none;&#10;}&#10;	&lt;/style&gt;&#10;&#10;&lt;/head&gt;&#10;&#10;&lt;body&gt;&#10;    &lt;div class="help"&gt;&#10;		&lt;h1&gt;EC-Admin&lt;/h1&gt;&#10;&lt;p&gt;Plugin Version $[/myProject/version]&lt;/p&gt;&#10;    	&lt;hr style="margin-left: -10px; margin-top: 10px; height: 1px; width: 100%; color: #5981BD;" noshade="noshade" /&gt;&#10;&#10;        &lt;p&gt;EC-Admin is a collection of administrative procedures to help you&#10;manage your server. Its inception was sparked by requests from customers&#10;during my Professional Services engagements. It has grown over the years to&#10;what it is now.&lt;/p&gt;&#10;&#10;		&lt;p&gt;It contains the following modules:&lt;/p&gt;&#10;		&lt;ul&gt;&#10;			&lt;li&gt;&lt;a href="#jobs"&gt;Jobs and Workspaces management&lt;/a&gt;&lt;/li&gt;&#10;			&lt;li&gt;&lt;a href="#plugin"&gt;Plugins&lt;/a&gt;&lt;/li&gt;&#10;			&lt;li&gt;&lt;a href="#artifacts"&gt;Artifacts management&lt;/a&gt;&lt;/li&gt;&#10;			&lt;li&gt;&lt;a href="#backup"&gt;Object export and backup&lt;/a&gt;&lt;/li&gt;&#10;			&lt;li&gt;&lt;a href="#semaphore"&gt;Semaphore management&lt;/a&gt;&lt;/li&gt;&#10;			&lt;li&gt;&lt;a href="#perf"&gt;Performance metrics&lt;/a&gt;&lt;/li&gt;&#10;		&lt;/ul&gt;&#10;&#10;		&lt;h2&gt;&lt;a name="installation"&gt;&lt;/a&gt;Installation&lt;/h2&gt;&#10;		&#10;        &lt;p&gt;This collection of procedures can be found on our &lt;a&#10;href="https://github.com/electriccommunity/electriccommander/tree/master/EC-&#10;Admin"&gt;community  repository on GitHub&lt;/a&gt;. It is available either as a simple&#10;XML project export or as  a plugin delivered in the form of a .jar file.&lt;/p&gt;&#10;&#10;		&lt;p&gt;To install the plugin, use the "Install from File/URL" tab in the&#10;			administration/Plugins or use the "installPlugin" API.&lt;/p&gt;&#10;		&lt;p&gt;To install the .xml project export, use the "import "API call as &#10;			following:&#10;		&lt;br/&gt;ectool import /path_to/EC-Admin.xml --disableSchedules 1&lt;/p&gt;&#10; &#10;		&lt;p&gt;To install on 4.0.x or or 4.1.x, import the EC_4.0.xml file. Be &#10;			aware that some features are not present as the original project &#10;			makes use of createJobStep() API which was introduced in 4.2.0:&lt;br/&gt;&#10;ectool import /path_to/EC-Admin_for_EC_4.0.xml --disableSchedules 1&lt;/p&gt;&#10;&#10;		&lt;p&gt;If you get an error with the passKey, use the "--force 1" option&lt;/p&gt;&#10;&#10;		&lt;h1&gt;&lt;a name="jobs"&gt;&lt;/a&gt;Jobs and Workspaces management&lt;/h1&gt;&#10;		&lt;p&gt;This set of procedures will help you manage your old jobs and the &#10;			associated workspaces.&lt;/p&gt;&#10;			&lt;h2&gt;jobsCleanup:&lt;/h2&gt; &#10;			&lt;p&gt;A procedure to delete jobs older than a specified number of&#10;days. It will also delete associated workspace job directories. You&#10;can also provide a property name, if this property is attached to the&#10;job, it won't be deleted no matter how old. A report only mode&#10;prevents any real deletion.&lt;/p&gt;&#10;&#10;			&lt;h2&gt;jobCleanup_byResult:&lt;/h2&gt; &#10;            &lt;p&gt;A procedure to delete jobs older than a specified number of days.&#10;It will also delete associated workspace job directories. It will keep the&#10;number of successful, failed and warning jobs you entered. You can also&#10;provide a property name, if this property is attached to the job, it won't be&#10;deleted no matter how old. A report only mode prevents any real deletion.&lt;/p&gt;&#10;&#10;			&lt;h2&gt;deleteWorksapceOrphans:&lt;/h2&gt; &#10;&#10;            &lt;p&gt;A procedure to crawl a workspace directory to find orphan jobs&#10;(directories without a matching job) on a specified resource.&lt;/p&gt;&#10;&#10;			&lt;h2&gt;deleteObjects:&lt;/h2&gt; &#10;            &lt;p&gt;A procedure to quickly delete jobs or workflows older than a&#10;specified number of days. It will &lt;b&gt;not&lt;/b&gt; delete associated workspace job&#10;directories. This is for customers with huge job or workflow database.&lt;/p&gt;&#10;&#10;&#10;		&lt;h1&gt;&lt;a name="plugin"&gt;&lt;/a&gt;Plugins&lt;/h1&gt;&#10;		&lt;h2&gt;Plugin Synchronization&lt;/h2&gt;&#10;		&lt;p&gt;This procedure synchronizes plugins between the server and &#10;		a resource. Plugins are uploaded first as artifacts it has not been &#10;		done already and then downloaded on the resource if it does not &#10;		already exist in the plugins directory.&lt;/p&gt;&#10;		&#10;		&lt;h2&gt;Plugin creation&lt;/h2&gt;&#10;		&lt;p&gt;&lt;b&gt;Note:&lt;/b&gt; This procedure requires access to the jar or zip &#10;			executable in the PATH.&lt;/p&gt;&#10;		&lt;p&gt;The procedure "createPluginFromProject" allows transforming a &#10;			project into a plugin. The parameters are the following:&lt;/p&gt;&#10;			&lt;dl&gt;&#10;				&lt;dt&gt;&lt;b&gt;Author:&lt;/b&gt;&lt;/dt&gt;&#10;				&lt;dd&gt;The author of the project to transform into a plugin&lt;/dd&gt;&#10;				&lt;dt&gt;&lt;b&gt;Email:&lt;/b&gt;&lt;/dt&gt;&#10;				&lt;dd&gt;The email of the author&lt;/dd&gt;&#10;				&lt;dt&gt;&lt;b&gt;Category&lt;/b&gt;:&lt;/dt&gt;&#10;				&lt;dd&gt;The category of the plugin. It helps filter the plugin in&#10;				the Plugins page and in the pickerList.&lt;/dd&gt;&#10;				&lt;dt&gt;&lt;b&gt;Description&lt;/b&gt;:&lt;/dt&gt;&#10;				&lt;dd&gt;The description of the plugin do display in the main &#10;					plugin page. If left empty it will default to the &#10;					description of the project.&lt;/dd&gt;&#10;				&lt;dt&gt;&lt;b&gt;installPlugin&lt;/b&gt;:&lt;/dt&gt;&#10;				&lt;dd&gt;A Boolean to install or not the plugin after creation&lt;/dd&gt;&#10;				&lt;dt&gt;&lt;b&gt;promotePlugin&lt;/b&gt;:&lt;/dt&gt;&#10;				&lt;dd&gt;A Boolean to promote or not the plugin after installation&lt;/dd&gt;&#10;				&lt;dt&gt;&lt;b&gt;Plugin&lt;/b&gt;:&lt;/dt&gt;&#10;				&lt;dd&gt;The name of the plugin. If left empty, it will default to&#10;				the project name.&lt;/dd&gt;&#10;				&lt;dt&gt;&lt;b&gt;Project&lt;/b&gt;:&lt;/dt&gt;&#10;				&lt;dd&gt;The name of the project to transform into a plugin&lt;/dd&gt;&#10;				&lt;dt&gt;&lt;b&gt;Version&lt;/b&gt;:&lt;/dt&gt;&#10;				&lt;dd&gt;Version of the plugin to create.&lt;/dd&gt;&#10;			&lt;/dl&gt;&#10;		&lt;p&gt;At the project level, you can define the following properties to &#10;			alter the behavior of the plugin creation:&lt;/p&gt;&#10;			&lt;dl&gt;&#10;				&lt;dt&gt;&lt;b&gt;ec_visibility:&lt;/b&gt;&lt;/dt&gt;&#10;				&lt;dd&gt;Choose &lt;b&gt;all&lt;/b&gt; to have the plugin shows in the project &#10;					list (like EC-Admin), or &lt;b&gt;pickListOnly&lt;/b&gt; (default) to &#10;					have your procedures available only through the plugin &#10;					procedure picker (when you choose plugin as a step).&lt;/dd&gt;&#10;				&lt;dt&gt;&lt;b&gt;help:&lt;/b&gt;&lt;/dt&gt;&#10;				&lt;dd&gt;This property allows you to create a Help page associated &#10;					with your plugin. The page you are currently reading is &#10;					created this way so feel free to explore the help property&#10;					 in the EC-Admin plugin/project for an example.&lt;/dd&gt;&#10;				&lt;dt&gt;&lt;b&gt;promoteAction&lt;/b&gt;&lt;/dt&gt;&#10;				&lt;dd&gt;This proeprty would contain some Perl code to take action&#10;					when the plugin change state. Look at the ec_setup property&#10;					in the plugins installed on your system to get a better idea&#10;					of what you can accomplish.&lt;/br&gt;&#10;					For example to set a property hwne the plugin is pomoted &#10;					you could add the the following code to the promoteAction&#10;					procedure:&lt;/br&gt;&#10;					&lt;code&gt;&#10;if ( $promoteAction eq 'promote' ) {&#10;    $batch-&gt;setProperty( "/projects/$pluginName/addedByPromote", "123" );&#10;}&#10;					&lt;/code&gt;&#10;				&lt;/dd&gt;&#10;			&lt;/dl&gt;&#10;		&lt;p&gt;In addition each procedure can modify the behavior with the &#10;			following 2 properties:&lt;/p&gt;&#10;			&lt;dl&gt;&#10;				&lt;dt&gt;&lt;b&gt;exposeToPlugin:&lt;/b&gt;&lt;/dt&gt;&#10;				&lt;dd&gt;This property if set to 1 will add the procedure to &#10;					ec_setup to be shown in the procedure pickerList when &#10;					choosing a plugin step.&lt;/dd&gt;&#10;				&lt;dt&gt;&lt;b&gt;descriptionForPlugin:&lt;/b&gt;&lt;/dt&gt;&#10;				&lt;dd&gt;This property will be shown as the description in the &#10;					pickerList mentioned above. If it's empty or non-existent,&#10;					 the description will be description of the procedure &#10;					 itself.&lt;/dd&gt;&#10;			&lt;/dl&gt;&#10;&#10;&#10;		&lt;h1&gt;&lt;a name="artifacts"&gt;&lt;/a&gt;Artifact Management&lt;/h1&gt;&#10;		&#10;		&lt;h2&gt;artifactsCleanup&lt;/h2&gt; &#10;		&#10;		&lt;p&gt;A procedure to delete artifact versions older than a specified number&#10;of days. Same as for jobs above, a property allows preventing the deletion. Once the&#10;artifacts have been deleted, artifact repositories and artifact caches are&#10;cleaned as well (deleting stale artifacts).  A report only mode prevents any&#10;real deletion.&lt;/p&gt;&#10;&#10;		&lt;h2&gt;artifactsCleanup_byQuantity&lt;/h2&gt;&#10;&#10;		&lt;p&gt;As "ArtifactsCleanup"", this procedure deletes artifact versions &#10;			older than a specified number&#10;of days but keeps only X per Artifact. Again, a property allows preventing the &#10;deletion. Once the&#10;artifacts have been deleted, artifact repositories and artifact caches are&#10;cleaned as well (deleting stale artifacts).  A report only mode prevents any&#10;real deletion.&lt;/p&gt;&#10;&#10;		&lt;h1&gt;&lt;a name="backup"&gt;&lt;/a&gt;Object export and backup&lt;/h1&gt;&#10;&#10;        &lt;p&gt;This set of procedures is to help you export objects from&#10;ElectricCommander for a potential inclusion into your SCM for&#10;versioning.&lt;/p&gt;&#10;		&#10;		&lt;h2&gt;saveProjects&lt;/h2&gt;&#10;&#10;        &lt;p&gt;This procedure simply exports your projects in a directory on the&#10;server. It is recommended to enable the nightly schedule associated&#10;with it to backup your projects on a regular basis.&lt;/p&gt;&#10;&#10;		&lt;h2&gt;saveAllObjects&lt;/h2&gt;&#10;&#10;        &lt;p&gt;This procedure brings a finer granularity to a full server export. For &#10;example to retrieve an object after a wrong action or a bad code change. By &#10;default it exports projects and each procedure individually. In addition by &#10;enabling the matching checkboxes, you can also export resources, &#10;resource pools, workspaces, users and groups.&lt;/p&gt;&#10;&#10;		&lt;h1&gt;&lt;a name="semaphore"&gt;&lt;/a&gt;Semaphore Management&lt;/h1&gt;&#10;&#10;		&lt;h2&gt;acquireSemaphore and releaseSemaphore:&lt;/h2&gt;&#10;			&#10;		&lt;p&gt;Those 2 procedures are used to create a &#10;gate for a set of steps. The important part is to use a resource with a step &#10;limit of one to ensure the atomicity of increasing and decreasing the gate &#10;value.&lt;/p&gt;&#10;&#10;		&lt;h1&gt;&lt;a name="perf"&gt;&lt;/a&gt;Performance metrics&lt;/h1&gt;&#10;		&lt;p&gt;This procedure returns some information about your &#10;			ElectricCommander server like number of processors, total RAM, &#10;			available RAM, &#10;ping times with agents, relative performance of agents, ... &#10;In addition it checks the amount of time spent running steps on the server &#10;local agents as this should be minimized as much as possible.&lt;/p&gt;&#10;&#10;		&lt;h1&gt;Contact author&lt;/h1&gt; &#10;  		&lt;p&gt;Laurent Rochette (&lt;a href="mailto:lrochette@electric-cloud.com"&gt;lrochette@electric-cloud.com&lt;/a&gt;) &lt;/p&gt;&#10;&#10;	&lt;h1&gt;Legal Jumbo&lt;/h1&gt;&#10; &#10;	&lt;p&gt;This module is free for use. Modify it however you see fit to better your &#10;experience using ElectricCommander. Share your enhancements and fixes.&lt;/p&gt;&#10;&#10;	&lt;p&gt;This module is not officially supported by Electric Cloud. It has undergone no &#10;formal testing and you may run into issues that have not been uncovered in the &#10;limited manual testing done so far.&lt;/p&gt;&#10;&#10;	&lt;p&gt;Electric Cloud should not be held liable for any repercussions of using this &#10;software.&lt;/p&gt;&#10;	&lt;/div&gt;&#10;&lt;/body&gt;&#10;&lt;/html&gt;</value>
      </property>
      <property>
        <propertyName>jobCounter</propertyName>
        <description>In preparation of changes in 5.0 with jobId.</description>
        <expandable>1</expandable>
        <value>20</value>
      </property>
      <property>
        <propertyName>pluginBuildNumber</propertyName>
        <description></description>
        <expandable>1</expandable>
        <value>41</value>
      </property>
      <property>
        <propertyName>version</propertyName>
        <description>Version of the EC-Admin project&#10;&#10;History:&#10;- version 1.9.0&#10;    + Added a hook to allow actions to be taken when the plugin changes state in createPluginFromProject&#10;&#10;- version 1.8.0&#10;    + Added feature to save plugin as an artifact version in createPluginFromProject&#10; &#10;- version 1.7.1&#10;    + Fixed location of the saved filter for RunReport_Performance_Schedule schedule&#10;&#10;- version 1.7.0&#10;    + Added a step to fix self reference to the project in createPluginFromProject&#10;&#10;- version 1.6.2&#10;     +   Fixed with resource default  workspace not being used in dynamic steps in performanceMetrics&#10;     +   Fixed subprocedure call to myProject instead of a fixed call to EC-Admin in performanceMetrics&#10;     +  Fixed ec_visbility in createPluginFromProject&#10;&#10;- version 1.6.1&#10;     +  Fixed problem with ec_setup and procedure names with dot (".") in createPluginFromProject&#10;&#10;- version 1.6.0&#10;     + increased perlHeaderJson length to exactly 20 lines&#10;     + add a procedure subPM-deploymentSize to calculate Commander environment size&#10;&#10;- version1.5.2&#10;     + Rewrote localUsage to access jobStepsDirectly&#10;     + localUsage is also now a standalone procedure (subPM-localUsage)&#10;&#10;- version1.5.1&#10;     + First user submitted patch by Kate McCormack: &#10;                   Adding setTimeout equal to 600 so the ec commands won't time out in saveAllObjects and saveProjects&#10;&#10;-version 1.5.0&#10;     + added synchronizePlugins procedure to copy plugins from the server to an agent&#10;     + fixed Email address URL in createPluginFromProject&#10;&#10;- version 1.4.5&#10;     + Use zip when jar is not available to package plugin&#10;- version 1.4.4&#10;     + Fixed Windows path issue for createPluginFromProject&#10;     + Fixed jar error not reported&#10;- version 1.4.3&#10;     + Ignored sub-steps for localUsage&#10;     + Added comparison for /server/hostIP and /server/hostName&#10;- version 1.4.2&#10;     + Updated help page&#10;- version 1.4.1&#10;     + Fixed percentage formatting&#10;- version 1.4.0&#10;     + Add localUsage statistics in performanceMetrics&#10;     + Remove project ec_tags and other meaningless properties&#10;&#10;- version 1.3.9&#10;     + Added a time limit for performanceMetric&#10;&#10;- version 1.3.8&#10;     + Fixed ec_visbility  bugs in createPluginFromProject&#10;     + Fixed descriptionForPlugin  bug in createPluginFromProject&#10;     + Fixed several procedure descriptions for the plugin&#10;     + Added help about project level properties for createPluginFromProject&#10;     +  Fixed problem with ec_setup and procedure names with dot (".") in createPluginFromProject&#10;&#10;- version 1.3.7&#10;    + removed jobId references in preparation of EC 5.0&#10;    + added artifactsCleanup_byQuantity t clean AV but keep at least X.&#10;&#10;- version 1.3.6&#10;    +  saveProject:&#10;        o Add chmod after directory creation for cases when server service and server agent service users are different.&#10;    + Added saveAllObjects procedure to export a bunch of objects individually for finer granularity in the backup&#10;    + Completed the plugin help&#10;    + Added license usage information in performanceMetrics&#10;    + Added a sort to deleteObjects to prevent job range overlapping.&#10;&#10;- version 1.3.5&#10;    + Added automatic performance charting&#10;    + Bug fixes&#10;    + Also available as a plugin.&#10;    +  jobsCleanup and jobCleanup_byResult:&#10;         o Add a parameter to skip the computation of the disk space used; to speed up the job&#10;    + Semaphore&#10;         o Added a local job counter to decrement the global gate value. Useful when aborting a job.&#10;           Simply a step that "always run" that will decrement your global gate by /myJob/localSemaphoreCounter&#10;    + createPluginFromProject &#10;         o Added to automatically create a plugin from a project&#10;&#10;- version 1.3.4&#10;    + Better resource management for artifactsCleanup and cleanupRepository&#10;    + perforrmanceMetrics:&#10;          o  Fix bug on Free available RAM with European numbers&#10;          o  Add error management on fsutil call (Windows)&#10;          o  Add a cleanup step for temporary file used in Disk Performance&#10;    + Refactor jobCleanup_byResult to include Workflow and schedule jobs&#10;       Add time parameter&#10;    + Add compareVersion in the PerlLib to compare number strings like x.y.z....&#10;&#10;- version 1.3.3&#10;    + Added getPS() function in perlLib (JSON and XML format)&#10;    + Added ec_parameterForm to artifactsCleanup to give it the same look and feel than jobCleanup&#10;    + Took advantage of createJobStep to simplify  artifactsCleanup&#10;&#10;- version 1.3.2&#10;    + Added "available disk space" information in performanceMetrics procedure&#10;    + Fixed bug with getP()&#10;    + Added Perl header and library for JSON format&#10;    + Added new parameters for saveProjects (relocatable, ACLs and notifiers)&#10;&#10;- version 1.3.1:&#10;    + Added "available memory" information in performanceMetrics procedure&#10;&#10;- version 1.3:&#10;    + New procedure to delete jobs by results&#10;    + New parameter to cleanupJobs to skip jobs matching a pattern&#10;&#10;- version 1.2:  &#10;    + New  performance diagnostic procedure&#10;    + provide a getP Perl function for easy getProperty&#10;    + New procedure to delete workspace orphan job directories&#10;&#10;- version 1.1: &#10;      semaphore management&#10;      saveProjects&#10;&#10;- version 1.0: &#10;      initial version including job and artifact management</description>
        <expandable>1</expandable>
        <value>1.8.0</value>
      </property>
    </propertySheet>
    <credential>
      <credentialName>adminLogin</credentialName>
      <description></description>
      <password>/DHePBz5RUcyoG7IRp4eyQ==</password>
      <userName>admin</userName>
      <propertySheet>
      </propertySheet>
    </credential>
    <credential>
      <credentialName>productionServerCreds</credentialName>
      <description>Credentials to log onto the production server to import a project or a set of procedures/workflows</description>
      <password>/DHePBz5RUcyoG7IRp4eyQ==</password>
      <userName>admin</userName>
      <propertySheet>
      </propertySheet>
    </credential>
    <procedure>
      <procedureName>acquireSemaphore</procedureName>
      <description>Procedure to acquire a token in order to limit access to a set of procedures&#10;&#10;Changelog:&#10;--------------&#10; 10-04-2013   lrochette   Add job counter to help abort a job.</description>
      <jobNameTemplate>$[/myProject/scripts/jobTemplate]</jobNameTemplate>
      <resourceName></resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName></workspaceName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>maxSemaphoreValue</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>semaphoreProperty</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>serializationResource</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>descriptionForPlugin</propertyName>
          <description>Description used in the pickerList when transformed into a plugin</description>
          <expandable>1</expandable>
          <value>Acquire a token in order to limit access to a set of procedures.</value>
        </property>
        <property>
          <propertyName>exposeToPlugin</propertyName>
          <description>So the procedure is shown in the pickerList</description>
          <expandable>1</expandable>
          <value>1</value>
        </property>
        <property>
          <propertyName>pluginExpose</propertyName>
          <description></description>
          <expandable>1</expandable>
          <value>1</value>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>maxSemaphoreValue</formalParameterName>
        <defaultValue></defaultValue>
        <description>The maximum sempahore value to gate some procedures.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>semaphoreProperty</formalParameterName>
        <defaultValue></defaultValue>
        <description>The path to the property used as a semaphore</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>serializationResource</formalParameterName>
        <defaultValue></defaultValue>
        <description>This should point to a resouce with a step limit of 1</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>acquireSemaphore</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>use strict;&#10;use ElectricCommander;&#10;$| = 1;&#10;&#10;my $ec = new ElectricCommander;&#10;my $xPath = $ec-&gt;getProperty("$[semaphoreProperty]");&#10;my $semaphore = $xPath-&gt;findvalue('//value')-&gt;string_value;&#10;print "First eval: semaphore = $semaphore\n";&#10;&#10;while ($semaphore &gt;= $[maxSemaphoreValue]){&#10;  $ec-&gt;setProperty("summary", "Waiting for Semaphore");&#10;  sleep(5);&#10;  $xPath = $ec-&gt;getProperty("$[semaphoreProperty]");&#10;  $semaphore = $xPath-&gt;findvalue('//value')-&gt;string_value;&#10;  print "in loop: semaphore = $semaphore\n";&#10;}&#10;&#10;# When we get here, a token is available. Acquire it.&#10;my $xPath = $ec-&gt;incrementProperty("$[semaphoreProperty]");&#10;&#10;# Increment local counter as well&#10;my $xPath = $ec-&gt;incrementProperty("/myJob/localSemaphoreCounter");&#10;&#10;$ec-&gt;setProperty("summary", "Semaphore acquired");&#10;</command>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName>$[serializationResource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>artifactsCleanup</procedureName>
      <description>Delete Artifacts and clean caches.&#10;A resource matching the Repository server is required or some steps will be skipped.&#10;&#10;Changelog:&#10;--------------&#10; 08-07-2013  lrochette     Better Resource management: test for existence, alive and enabled before invoking cleanupRepository.&#10;&#10; 07-29-2013  lrochette     Added ec_parameterForm to give it the same look and feel than jobCleanup&#10;                                         Took advantage of createJobStep to simplify the procedure</description>
      <jobNameTemplate>$[/myProject/scripts/jobTemplate]</jobNameTemplate>
      <resourceName></resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName></workspaceName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>adminLogin</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>artifactProperty</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>executeDeletion</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>olderThan</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>descriptionForPlugin</propertyName>
          <description>Description used in the pickerList when transformed into a plugin</description>
          <expandable>1</expandable>
          <value>Delete old artifacts and clean caches.</value>
        </property>
        <property>
          <propertyName>ec_parameterForm</propertyName>
          <description></description>
          <expandable>1</expandable>
          <value>&lt;editor&gt; &#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Delete artifact versions older than&lt;/label&gt; &#10;        &lt;property&gt;olderThan&lt;/property&gt; &#10;        &lt;documentation&gt;Indicate the numbers of days after which artifact versions  should be deleted&lt;/documentation&gt; &#10;        &lt;type&gt;select&lt;/type&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;1 month&lt;/name&gt; &#10;            &lt;value&gt;30&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;2 months&lt;/name&gt; &#10;            &lt;value&gt;60&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;3 months&lt;/name&gt; &#10;            &lt;value&gt;91&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;6 months&lt;/name&gt; &#10;            &lt;value&gt;182&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;1 year&lt;/name&gt; &#10;            &lt;value&gt;365&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;value&gt;91&lt;/value&gt; &#10;        &lt;required&gt;1&lt;/required&gt;&#10;    &lt;/formElement&gt; &#10;   &lt;formElement&gt; &#10;        &lt;label&gt;Artifact property&lt;/label&gt; &#10;        &lt;property&gt;artifactProperty&lt;/property&gt; &#10;        &lt;documentation&gt;Name of a property attached to your artifact versions. If this property is set, your artifact version won't be deleted.&#10;        &lt;/documentation&gt; &#10;        &lt;type&gt;entry&lt;/type&gt; &#10;        &lt;value&gt;doNotDelete&lt;/value&gt; &#10;        &lt;required&gt;1&lt;/required&gt;&#10;    &lt;/formElement&gt; &#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Delete&lt;/label&gt; &#10;        &lt;property&gt;executeDeletion&lt;/property&gt; &#10;        &lt;documentation&gt;If this option is not set, only report is done. No real data are deleted&lt;/documentation&gt; &#10;        &lt;type&gt;select&lt;/type&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;Report&lt;/name&gt; &#10;            &lt;value&gt;false&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;Delete&lt;/name&gt; &#10;            &lt;value&gt;true&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;value&gt;false&lt;/value&gt; &#10;    &lt;/formElement&gt; &#10;&#10;&lt;/editor&gt;</value>
        </property>
        <property>
          <propertyName>exposeToPlugin</propertyName>
          <description>So the procedure is shown in the pickerList</description>
          <expandable>1</expandable>
          <value>1</value>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>artifactProperty</formalParameterName>
        <defaultValue>doNotDelete</defaultValue>
        <description>Name of a property attached to your artifactVersions. If this property is set, your artifactVersions won't be deleted no matter how old it is.&#10;</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>executeDeletion</formalParameterName>
        <defaultValue>false</defaultValue>
        <description>If this option is not set, only report is done. No real data are deleted</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>olderThan</formalParameterName>
        <defaultValue>90</defaultValue>
        <description>Indicate the numbers of days after which artifactVersions should be deleted</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>deleteArtifactVersions</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>#############################################################################&#10;#&#10;#  deleteArtifactVersions -- Script to delete artifacts and caches&#10;#  Copyright 2013 Electric-Cloud Inc.&#10;#&#10;#############################################################################&#10;&#10;use DateTime;&#10;$[/myProject/scripts/perlHeader]&#10;$[/myProject/scripts/perlLib]&#10;&#10;#############################################################################&#10;#&#10;#  Assign Commander parameters to variables&#10;#&#10;#############################################################################&#10;my $artifactProperty = "$[artifactProperty]";&#10;my $timeLimit = $[olderThan];&#10;my $executeDeletion= "$[executeDeletion]";&#10;&#10;#############################################################################&#10;#&#10;#  Global Variables&#10;#&#10;#############################################################################&#10;&#10;#############################################################################&#10;#&#10;#  Main&#10;#&#10;#############################################################################&#10;&#10;printf("%s artifacts older than $timeLimit days (%s).\n", &#10;    $executeDeletion eq "true"?"Deleting":"Reporting", &#10;    calculateDate($timeLimit));&#10;&#10;my ($success, $xPath) = InvokeCommander("SuppressLog", "findObjects", &#10;										"artifact", {sort =&gt; [ {propertyName =&gt; "groupId",&#10;                                                    order =&gt; "ascending"} ]});&#10;# Loop over artifacts&#10;my $nodeset = $xPath-&gt;find('//artifact');&#10;foreach my $node ($nodeset-&gt;get_nodelist) {&#10;	my $artifactName=$xPath-&gt;findvalue('artifactName', $node);&#10;	printf("%s\n", $artifactName);&#10;&#10;	# create filterList&#10;	my @filterList;&#10;	push (@filterList, {"propertyName" =&gt; 'artifactName',&#10;                    "operator" =&gt; "equals",&#10;                    "operand1" =&gt; $artifactName});&#10;	push (@filterList, {"propertyName" =&gt; "createTime",&#10; 	                    "operator" =&gt; "lessThan",&#10; 	                  	"operand1" =&gt; calculateDate($timeLimit)});&#10;	push (@filterList, {"propertyName" =&gt; $artifactProperty,&#10;                    "operator" =&gt; "isNull"});&#10;	my ($success, $xPath) = InvokeCommander("SuppressLog", "findObjects", &#10;											"artifactVersion",&#10;					 						{'filter' =&gt; \@filterList});&#10;	my $versionset = $xPath-&gt;findnodes('//artifactVersion');&#10;	foreach my $version ($versionset-&gt;get_nodelist) {&#10;		#print $version-&gt;findnodes_as_string("/") . "\n";&#10;		my $versionNumber=$version-&gt;findvalue('./artifactVersionName', $node);&#10;		if ($executeDeletion eq "true") {&#10;			 my ($success, $xPath) = InvokeCommander("SuppressLog", "deleteArtifactVersion", &#10;                      $versionNumber);&#10;			printf("\tDeleting %s\n", $versionNumber);&#10;		} else {&#10;			printf("\t%s\n", $versionNumber);&#10;		}&#10;&#10;	}	&#10;	printf("\n");&#10;}&#10;#############################################################################&#10;#&#10;#  Calculate the size of the workspace directory&#10;#&#10;#############################################################################&#10;sub getDirSize {&#10;  my $dir  = shift;&#10;  my $size = 0;&#10;&#10;  opendir(D,"$dir") || return 0;&#10;  foreach my $dirContent (grep(!/^\.\.?/,readdir(D))) {&#10;     my $st=stat("$dir/$dirContent");&#10;     if (S_ISREG($st-&gt;mode)) {&#10;       $size += $st-&gt;size;&#10;     } elsif (S_ISDIR($st-&gt;mode)) {&#10;       $size += getDirSize("$dir/$dirContent");&#10;     }&#10;  }&#10;  closedir(D);&#10;  return $size;&#10;}&#10;&#10;#############################################################################&#10;#&#10;#  Calculate the Date based on now and the number of days required by&#10;#  the user before deleting jobs&#10;#&#10;#############################################################################&#10;sub calculateDate {&#10;    my $nbDays=shift;&#10;    return DateTime-&gt;now()-&gt;subtract(days =&gt; $nbDays)-&gt;iso8601() . ".000Z";&#10;}&#10;&#10;&#10;#############################################################################&#10;#&#10;#  Return human readable size&#10;#&#10;#############################################################################&#10;sub humanSize {&#10;  my $size = shift();&#10;&#10;  if ($size &gt; 1099511627776) {    #   TB: 1024 GB&#10;      return sprintf("%.2f TB", $size / 1099511627776);&#10;  }&#10;  if ($size &gt; 1073741824) {       #   GB: 1024 MB&#10;      return sprintf("%.2f GB", $size / 1073741824);&#10;  }&#10;  if ($size &gt; 1048576) {          #   MB: 1024 KB&#10;      return sprintf("%.2f MB", $size / 1048576);&#10;  }&#10;  elsif ($size &gt; 1024) {          #   KiB: 1024 B&#10;      return sprintf("%.2f KB", $size / 1024);&#10;  }&#10;                                  #   bytes&#10;  return "$size byte" . ($size &lt;= 1 ? "" : "s");&#10;}&#10;</command>
        <condition></condition>
        <description>Script to delete old Artifact Versions</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>dynamicCleanRepoProcedure</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>#############################################################################&#10;#&#10;#  Copyright 2013 Electric-Cloud Inc.&#10;#&#10;#############################################################################&#10;&#10;use DateTime;&#10;$[/myProject/scripts/perlHeader]&#10;$[/myProject/scripts/perlLib]&#10;&#10;#############################################################################&#10;#&#10;#  Assign Commander parameters to variables&#10;#&#10;#############################################################################&#10;my $executeDeletion="$[executeDeletion]";&#10;&#10;my ($success, $xPath) = InvokeCommander("SuppressLog", "getRepositories");&#10;my $nodeset = $xPath-&gt;find('//repository');&#10;&#10;foreach my $node ($nodeset-&gt;get_nodelist) {&#10;  my $repoName=$node-&gt;findvalue('repositoryName');&#10;  my $repoServerName = $node-&gt;findvalue('url');&#10;  my $repoDisabled = $node-&gt;findvalue('repositoryDisabled');&#10;  &#10;  printf("AR: %s\n", $repoName);&#10;  #&#10;  # Skip disable repositories&#10;  if ($repoDisabled) {&#10;    printf ("  Repository disabled: Skipping!\n");&#10;    next;&#10;  }&#10;  $repoServerName =~ s#https?://([\-\w]+)(:\d+)?#$1#;&#10;&#10;  # checking that the resource exist and is enabled&#10;  # &#10;  ($success, $xPath) = InvokeCommander("SuppressLog IgnoreError", "getResource", $repoServerName);&#10;  if (! $success) {&#10;    printf("  Associated resource '%s' does not exist. Skipping!\n", $repoServerName);&#10;    next;&#10;  }&#10;  my $resDisabled=$xPath-&gt;findvalue('//resource/resourceDisabled');&#10;  if ($resDisabled eq "1") {&#10;    printf("  Associated resource '%s' disabled. Skipping!\n", $repoServerName);&#10;    next;&#10;  }&#10;    &#10;  my $agentAlive=$xPath-&gt;findvalue('//resource/agentState/alive');&#10;  if ($agentAlive eq "0") {&#10;    printf("  Associated resource '%s' is not alive. Skipping!\n", $repoServerName);&#10;    next;&#10;  }&#10;  &#10;  my $stepName = "clean Step For ".$repoName;&#10;  $ec-&gt;createJobStep({'jobStepName' =&gt; $stepName, &#10;                      'subprocedure' =&gt; 'cleanupRepository', &#10;                      'actualParameter' =&gt; [{'actualParameterName' =&gt; 'executeDeletion', 'value'=&gt;$executeDeletion},&#10;                                         {'actualParameterName' =&gt; 'resource', 'value'=&gt;$repoServerName},&#10;                                        ]&#10;                  });&#10;}                      &#10;&#10;&#10;</command>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>dynamicCacheCleaningProcedure</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>#############################################################################&#10;#&#10;#  Copyright 2013 Electric-Cloud Inc.&#10;#&#10;#############################################################################&#10;&#10;use DateTime;&#10;&#10;$[/myProject/scripts/perlHeader]&#10;$[/myProject/scripts/perlLib]&#10;&#10;#############################################################################&#10;#&#10;#  Assign Commander parameters to variables&#10;#&#10;#############################################################################&#10;my $executeDeletion="$[executeDeletion]";&#10;my $days=$[olderThan];&#10;&#10;#Let's loop on Resources&#10;my ($success, $xPath) = InvokeCommander("SuppressLog", "getResources");&#10;my $nodeset = $xPath-&gt;find('//resource');&#10;&#10;foreach my $node ($nodeset-&gt;get_nodelist) {&#10;  my $resName=$node-&gt;findvalue('resourceName');&#10;  my $hostName=$node-&gt;findvalue('hostName');&#10;  my $resDisabled=$node-&gt;findvalue('resourceDisabled');&#10;  my $agentAlive=$node-&gt;findvalue('agentState/alive');&#10;  printf("%s\n\t Disabled: %s\n\t alive: %s\n", $resName, $resDisabled, $agentAlive);&#10;&#10;  #&#10;  # Create a sub-step only if agent is alive and not disabled&#10;  # to avoid to have to wait (and fail) for unavailable resources&#10;  if ( ($resDisabled eq "0") &amp;&amp; ($agentAlive eq "1")) {&#10;    my $resName=$node-&gt;findvalue('resourceName');&#10;    my $stepName = "clean Artifact Cache Step For ".$resName;&#10;    $ec-&gt;createJobStep({'jobStepName'=&gt;$stepName, &#10;                        'subprocedure' =&gt; 'cleanupCacheDirectory', &#10;                        'actualParameter' =&gt; [{'actualParameterName'=&gt;'executeDeletion', 'value'=&gt;$executeDeletion},&#10;                                         {'actualParameterName'=&gt;'olderThan', 'value'=&gt;$days},&#10;                                         {'actualParameterName'=&gt;'resource', 'value'=&gt;$resName}]&#10;                  });&#10;  }&#10;}                      &#10;</command>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>artifactsCleanup_byQuantity</procedureName>
      <description>Delete Artifact Versions, keeping only X by Artifact ; thenclean caches.&#10;A resource matching the Repository server is required or some steps will be skipped.&#10;&#10;Changelog:&#10;--------------&#10;</description>
      <jobNameTemplate>$[/myProject/scripts/jobTemplate]</jobNameTemplate>
      <resourceName></resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName></workspaceName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>adminLogin</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>artifactProperty</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>deleteDependencies</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>executeDeletion</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>nbToPreserve</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>options</propertyName>
                      <propertySheet>
                        <property>
                          <propertyName>list</propertyName>
                          <expandable>1</expandable>
                          <value>0|1|5|10|25|100</value>
                        </property>
                        <property>
                          <propertyName>type</propertyName>
                          <expandable>1</expandable>
                          <value>simpleList</value>
                        </property>
                      </propertySheet>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>olderThan</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>descriptionForPlugin</propertyName>
          <description>Description used in the pickerList when transformed into a plugin</description>
          <expandable>1</expandable>
          <value>Delete old artifacts and clean caches.</value>
        </property>
        <property>
          <propertyName>ec_parameterForm</propertyName>
          <description></description>
          <expandable>1</expandable>
          <value>&lt;editor&gt; &#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Delete artifact versions older than&lt;/label&gt; &#10;        &lt;property&gt;olderThan&lt;/property&gt; &#10;        &lt;documentation&gt;Indicate the numbers of days after which artifact versions  should be deleted&lt;/documentation&gt; &#10;        &lt;type&gt;select&lt;/type&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;1 month&lt;/name&gt; &#10;            &lt;value&gt;30&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;2 months&lt;/name&gt; &#10;            &lt;value&gt;60&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;3 months&lt;/name&gt; &#10;            &lt;value&gt;91&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;6 months&lt;/name&gt; &#10;            &lt;value&gt;182&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;1 year&lt;/name&gt; &#10;            &lt;value&gt;365&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;value&gt;91&lt;/value&gt; &#10;        &lt;required&gt;1&lt;/required&gt;&#10;    &lt;/formElement&gt; &#10;&#10;   &lt;formElement&gt; &#10;        &lt;label&gt;Artifact property&lt;/label&gt; &#10;        &lt;property&gt;artifactProperty&lt;/property&gt; &#10;        &lt;documentation&gt;Name of a property attached to your artifact versions. If this property is set, your artifact version won't be deleted.&#10;        &lt;/documentation&gt; &#10;        &lt;type&gt;entry&lt;/type&gt; &#10;        &lt;value&gt;doNotDelete&lt;/value&gt; &#10;        &lt;required&gt;1&lt;/required&gt;&#10;    &lt;/formElement&gt; &#10;&#10;   &lt;formElement&gt; &#10;        &lt;label&gt;Number to preserve&lt;/label&gt;    &#10;        &lt;property&gt;nbToPreserve&lt;/property&gt;    &#10;        &lt;documentation&gt;The number of artifact versions to preserve per artifact&lt;/documentation&gt; &#10;        &lt;type&gt;entry&lt;/type&gt;    &#10;        &lt;value&gt;5&lt;/value&gt; &#10;        &lt;required&gt;1&lt;/required&gt;&#10;    &lt;/formElement&gt; &#10;&#10;&#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Delete&lt;/label&gt; &#10;        &lt;property&gt;executeDeletion&lt;/property&gt; &#10;        &lt;documentation&gt;If this option is not set, only report is done. No real data are deleted&lt;/documentation&gt; &#10;        &lt;type&gt;select&lt;/type&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;Report&lt;/name&gt; &#10;            &lt;value&gt;false&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;Delete&lt;/name&gt; &#10;            &lt;value&gt;true&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;value&gt;false&lt;/value&gt; &#10;    &lt;/formElement&gt; &#10;&#10;&lt;/editor&gt;</value>
        </property>
        <property>
          <propertyName>exposeToPlugin</propertyName>
          <description>So the procedure is shown in the pickerList</description>
          <expandable>1</expandable>
          <value>1</value>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>artifactProperty</formalParameterName>
        <defaultValue>doNotDelete</defaultValue>
        <description>Name of a property attached to your artifactVersions. If this property is set, your artifactVersions won't be deleted no matter how old it is.&#10;</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>executeDeletion</formalParameterName>
        <defaultValue>false</defaultValue>
        <description>If this option is not set, only report is done. No real data are deleted</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>nbToPreserve</formalParameterName>
        <defaultValue>5</defaultValue>
        <description>indicate the number of version to keep for each artifact</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>select</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>olderThan</formalParameterName>
        <defaultValue>90</defaultValue>
        <description>Indicate the numbers of days after which artifactVersions should be deleted</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>deleteAV</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>#############################################################################&#10;#&#10;#  deleteArtifactVersions -- Script to delete artifacts and caches&#10;#  Copyright 2013-2014 Electric-Cloud Inc.&#10;#&#10;#############################################################################&#10;&#10;use DateTime;&#10;$[/myProject/scripts/perlHeaderJSON]&#10;&#10;&#10;####################################################a#########################&#10;#&#10;#  Assign Commander parameters to variables&#10;#&#10;#############################################################################&#10;my $artifactProperty = "$[artifactProperty]";&#10;my $executeDeletion  = "$[executeDeletion]";&#10;my $nbToPreserve     =  $[nbToPreserve];&#10;my $timeLimit       =  $[olderThan];&#10;&#10;#############################################################################&#10;#&#10;#  Global Variables&#10;#&#10;#############################################################################&#10;&#10;#############################################################################&#10;#&#10;#  Main&#10;#&#10;#############################################################################&#10;&#10;printf("%s artifact versions older than $timeLimit days (%s).\n", &#10;    $executeDeletion eq "true"?"Deleting":"Reporting", &#10;    calculateDate($timeLimit));&#10;printf("  Preserving %d artifact versions\n", $nbToPreserve);&#10;&#10;#&#10;# Loop over each Artifacts&#10;#&#10;my ($ok, $res) = InvokeCommander("SuppressLog", "getArtifacts");&#10;foreach my $art ($res-&gt;findnodes('//artifact')) {&#10;  	my $artifactName=$art-&gt;{artifactName};&#10;	printf("Processing artifact '%s'\n", $artifactName);&#10;&#10;	# create filterList&#10;	my @filterList;&#10;	push (@filterList, {"propertyName" =&gt; 'artifactName',&#10;                    "operator" =&gt; "equals",&#10;                    "operand1" =&gt; $artifactName});&#10;	push (@filterList, {"propertyName" =&gt; "createTime",&#10; 	                    "operator" =&gt; "lessThan",&#10; 	                  	"operand1" =&gt; calculateDate($timeLimit)});&#10;	push (@filterList, {"propertyName" =&gt; $artifactProperty,&#10;                    "operator" =&gt; "isNull"});&#10;	my ($ok2, $res2) = InvokeCommander("SuppressLog", "findObjects", "artifactVersion",&#10;					 						{'filter' =&gt; \@filterList,&#10;                       sort =&gt; [ {propertyName =&gt; "createTime",&#10;                                  order =&gt; "descending"} ]});&#10;  	my $count=1;&#10;  	foreach my $av ($res2-&gt;findnodes('//artifactVersion')) {&#10;    	my $avName=$av-&gt;{artifactVersionName};&#10;    	printf("\t%s\n", $avName);&#10;    	if ($count &lt;= $nbToPreserve) {&#10;      		printf("\t\tpreserving : %d out of %d\n", $count, $nbToPreserve);&#10;      		$count++;&#10;      		next;&#10;    	} &#10;		if ($executeDeletion eq "true") {&#10;			my ($success, $xPath) = InvokeCommander("SuppressLog", "deleteArtifactVersion", $avName);&#10;			printf("\t\tDeleting\n");&#10;		}&#10;&#10;	}	&#10;	printf("\n");&#10;}&#10;&#10;&#10;#############################################################################&#10;#&#10;#  Calculate the Date based on now and the number of days required by&#10;#  the user before deleting jobs&#10;#&#10;#############################################################################&#10;sub calculateDate {&#10;    my $nbDays=shift;&#10;    return DateTime-&gt;now()-&gt;subtract(days =&gt; $nbDays)-&gt;iso8601() . ".000Z";&#10;}&#10;&#10;&#10;$[/myProject/scripts/perlLibJSON]</command>
        <condition></condition>
        <description>Script to delete old Artifact Versions per Artifact</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>dynamicCleanRepoProcedure</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>#############################################################################&#10;#&#10;#  Copyright 2013 Electric-Cloud Inc.&#10;#&#10;#############################################################################&#10;&#10;use DateTime;&#10;$[/myProject/scripts/perlHeader]&#10;$[/myProject/scripts/perlLib]&#10;&#10;#############################################################################&#10;#&#10;#  Assign Commander parameters to variables&#10;#&#10;#############################################################################&#10;my $executeDeletion="$[executeDeletion]";&#10;&#10;my ($success, $xPath) = InvokeCommander("SuppressLog", "getRepositories");&#10;my $nodeset = $xPath-&gt;find('//repository');&#10;&#10;foreach my $node ($nodeset-&gt;get_nodelist) {&#10;  my $repoName=$node-&gt;findvalue('repositoryName');&#10;  my $repoServerName = $node-&gt;findvalue('url');&#10;  my $repoDisabled = $node-&gt;findvalue('repositoryDisabled');&#10;  &#10;  printf("AR: %s\n", $repoName);&#10;  #&#10;  # Skip disable repositories&#10;  if ($repoDisabled) {&#10;    printf ("  Repository disabled: Skipping!\n");&#10;    next;&#10;  }&#10;  $repoServerName =~ s#https?://([\-\w]+)(:\d+)?#$1#;&#10;&#10;  # checking that the resource exist and is enabled&#10;  # &#10;  ($success, $xPath) = InvokeCommander("SuppressLog IgnoreError", "getResource", $repoServerName);&#10;  if (! $success) {&#10;    printf("  Associated resource '%s' does not exist. Skipping!\n", $repoServerName);&#10;    next;&#10;  }&#10;  my $resDisabled=$xPath-&gt;findvalue('//resource/resourceDisabled');&#10;  if ($resDisabled eq "1") {&#10;    printf("  Associated resource '%s' disabled. Skipping!\n", $repoServerName);&#10;    next;&#10;  }&#10;    &#10;  my $agentAlive=$xPath-&gt;findvalue('//resource/agentState/alive');&#10;  if ($agentAlive eq "0") {&#10;    printf("  Associated resource '%s' is not alive. Skipping!\n", $repoServerName);&#10;    next;&#10;  }&#10;  &#10;  my $stepName = "clean Step For ".$repoName;&#10;  $ec-&gt;createJobStep({'jobStepName' =&gt; $stepName, &#10;                      'subprocedure' =&gt; 'cleanupRepository', &#10;                      'actualParameter' =&gt; [{'actualParameterName' =&gt; 'executeDeletion', 'value'=&gt;$executeDeletion},&#10;                                         {'actualParameterName' =&gt; 'resource', 'value'=&gt;$repoServerName},&#10;                                        ]&#10;                  });&#10;}                      &#10;&#10;&#10;</command>
        <condition>$[executeDeletion]</condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>dynamicCacheCleaningProcedure</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>#############################################################################&#10;#&#10;#  Copyright 2013 Electric-Cloud Inc.&#10;#&#10;#############################################################################&#10;&#10;use DateTime;&#10;&#10;$[/myProject/scripts/perlHeader]&#10;$[/myProject/scripts/perlLib]&#10;&#10;#############################################################################&#10;#&#10;#  Assign Commander parameters to variables&#10;#&#10;#############################################################################&#10;my $executeDeletion="$[executeDeletion]";&#10;my $days=$[olderThan];&#10;&#10;#Let's loop on Resources&#10;my ($success, $xPath) = InvokeCommander("SuppressLog", "getResources");&#10;my $nodeset = $xPath-&gt;find('//resource');&#10;&#10;foreach my $node ($nodeset-&gt;get_nodelist) {&#10;  my $resName=$node-&gt;findvalue('resourceName');&#10;  my $hostName=$node-&gt;findvalue('hostName');&#10;  my $resDisabled=$node-&gt;findvalue('resourceDisabled');&#10;  my $agentAlive=$node-&gt;findvalue('agentState/alive');&#10;  printf("%s\n\t Disabled: %s\n\t alive: %s\n", $resName, $resDisabled, $agentAlive);&#10;&#10;  #&#10;  # Create a sub-step only if agent is alive and not disabled&#10;  # to avoid to have to wait (and fail) for unavailable resources&#10;  if ( ($resDisabled eq "0") &amp;&amp; ($agentAlive eq "1")) {&#10;    my $resName=$node-&gt;findvalue('resourceName');&#10;    my $stepName = "clean Artifact Cache Step For ".$resName;&#10;    $ec-&gt;createJobStep({'jobStepName'=&gt;$stepName, &#10;                        'subprocedure' =&gt; 'cleanupCacheDirectory', &#10;                        'actualParameter' =&gt; [{'actualParameterName'=&gt;'executeDeletion', 'value'=&gt;$executeDeletion},&#10;                                         {'actualParameterName'=&gt;'olderThan', 'value'=&gt;$days},&#10;                                         {'actualParameterName'=&gt;'resource', 'value'=&gt;$resName}]&#10;                  });&#10;  }&#10;}                      &#10;</command>
        <condition>$[executeDeletion]</condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>cleanupCacheDirectory</procedureName>
      <description>Clear out all stale artifacts from a given artifact cache.&#10;Can be called manually on 1 resource or automatically on all</description>
      <jobNameTemplate></jobNameTemplate>
      <resourceName>$[resource]</resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName></workspaceName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>executeDeletion</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>olderThan</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>resource</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>executeDeletion</formalParameterName>
        <defaultValue>false</defaultValue>
        <description>If this option is not set, only report is done. No real data are deleted</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>olderThan</formalParameterName>
        <defaultValue>90</defaultValue>
        <description></description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>resource</formalParameterName>
        <defaultValue></defaultValue>
        <description>The resource on which to run this job. The agent running on this resource must have access to the specified artifact cache directory. Note that if no artifact cache directory is specified, the job will cleanup the default artifact cache used by the resource.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>clearInvalidArtifactVersions</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>$[/myProject/scripts/perlHeader]&#10;&#10;#############################################################################&#10;#&#10;#  Assign Commander parameters to variables&#10;#&#10;#############################################################################&#10;my $executeDeletion= "$[executeDeletion]";&#10;&#10;# We're going to try and find a valid cache directory. Mark the directory as invalid for now&#10;# and update it only once we find and validate the directory.&#10;$ec-&gt;setProperty("/myJob/cacheDirectoryIsValid", {value =&gt; 0});&#10;&#10;# Check the environment variable COMMANDER_ARTIFACT_CACHE.&#10;my $cacheEnv = "COMMANDER_ARTIFACT_CACHE";&#10;my $dir;&#10;if (defined($ENV{$cacheEnv})) {&#10;    $dir = $ENV{$cacheEnv};&#10;    print "Cache directory found in environment: \"$dir\".\n";&#10;} else {&#10;    # We came up empty; give up since we don't know what directory to cleanup.&#10;    warn "ERROR: No cache directory was found in the environment.\n";&#10;    $ec-&gt;setProperty("outcome", "warning");&#10;    $ec-&gt;setProperty("summary", "No cache directory");&#10;    exit(0);&#10;}&#10;&#10;if (! -d $dir) {&#10;    # The directory can't be read; no need to try to clean it up.&#10;    warn "ERROR: Cannot access directory \"$dir\".\n";&#10;    $ec-&gt;setProperty("outcome", "warning");&#10;    $ec-&gt;setProperty("summary", "Cache directory does not exit");&#10;    exit(0);&#10;}&#10;&#10;$ec-&gt;setProperty("/myJob/actualCacheDirectory", {value =&gt; $dir});&#10;$ec-&gt;setProperty("/myJob/cacheDirectoryIsValid", {value =&gt; 1});&#10;if ($executeDeletion eq "true") {&#10;    print "Cleaning up artifact cache.\n";&#10;    $ec-&gt;cleanupArtifactCache($dir, {'force' =&gt; 1});&#10;} else {&#10;    print "Would call cleanupArtifactCache on \"$dir\".\n";&#10;}</command>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>traverseCacheDirectory</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>$[/myProject/scripts/perlHeader]&#10;&#10;use ElectricCommander::Batch;&#10;use Data::Dumper;&#10;&#10;sub getContents($) {&#10;    my ($dir) = @_;&#10;    opendir(DIR, $dir) or die "ERROR: Couldn't open directory \"$dir\".\n";&#10;    my @contents = readdir(DIR);&#10;    closedir(DIR);&#10;    return @contents;&#10;}&#10;&#10;# Keep track of whether we found any candidates for time or space based deletion.&#10;$ec-&gt;setProperty("/myJob/candidatesForDeletion", {value =&gt; 0});&#10;&#10;# Get the value of the actualCacheDirectory property.&#10;my $cache = $ec-&gt;getProperty("actualCacheDirectory")-&gt;findvalue("//value");&#10;&#10;# Create a new parallel batch of getArtifactVersion requests. Use parallel mode&#10;# because we need to allow non-existent artifact versions, and single mode will&#10;# have a cascaded failure at the first error it encounters.&#10;my $gavBatch = $ec-&gt;newBatch('parallel');&#10;&#10;# Create a map of GAV =&gt; requestId so we can get the appropriate response and&#10;# store the needed data.&#10;my %gavMap = ();&#10;&#10;foreach my $g (getContents($cache)) {&#10;    # First level = (g)roup&#10;    if ($g eq "." || $g eq ".." || ! -d "$cache/$g") {&#10;        next;&#10;    } else {&#10;        foreach my $a (getContents("$cache/$g")) {&#10;            # Second level = (a)rtifact&#10;            if ($a eq "." || $a eq ".." || ! -d "$cache/$g/$a") {&#10;                next;&#10;            } else {&#10;                foreach my $v (getContents("$cache/$g/$a")) {&#10;                    # Third level = (v)ersion&#10;                    if ($v eq "." || $v eq ".." || ! -d "$cache/$g/$a/$v") {&#10;                        next;&#10;                    } else {&#10;                        # Check to see if "g:a:v" is an artifact version.&#10;                        my $gav = "$g:$a:$v";&#10;                        print "Potential artifact version: $gav\n";&#10;                        my $reqId = $gavBatch-&gt;getArtifactVersion($gav,&#10;                            {&#10;                                includeRetrieverJobSteps =&gt; 1,&#10;                                maxRetrievers =&gt; 1&#10;                            }&#10;                        );&#10;                        $gavMap{$gav} = $reqId;&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;if (keys %gavMap == 0) {&#10;    print "No potential GAV directories were found in \"$cache\".\n";&#10;    exit 0;&#10;}&#10;&#10;# Allow "no such aritfact version" errors.&#10;$ec-&gt;abortOnError(0);&#10;$gavBatch-&gt;submit();&#10;$ec-&gt;abortOnError(1);&#10;&#10;# Create a new parallel batch of getProperty requests.&#10;my $stepBatch = $ec-&gt;newBatch('single');&#10;&#10;foreach my $gav (keys %gavMap) {&#10;    my $reqId = $gavMap{$gav};&#10;    my $jobStepId = $gavBatch-&gt;findvalue($reqId, "artifactVersion/retriever/jobStepId")-&gt;string_value;&#10;    if ($jobStepId ne "") {&#10;        print "Artifact version \"$gav\" was last retrieved by job step $jobStepId.\n";&#10;        my $reqId = $stepBatch-&gt;getProperty("/jobSteps/$jobStepId/start");&#10;        $gavMap{$gav} = $reqId;&#10;    } else {&#10;        # Remove this artifact version from our map if no job step id was found,&#10;        # which would happen if the artifact was never retrieved in a job context.&#10;        delete $gavMap{$gav};&#10;    }&#10;}&#10;&#10;if (keys %gavMap == 0) {&#10;    print "No potential GAV directories were retrieved by job steps.\n";&#10;    exit 0;&#10;}&#10;&#10;$stepBatch-&gt;submit();&#10;&#10;# Get the start times for the last job step to access each artifact version and store&#10;# the artifact version =&gt; last access time in a property sheet on the job for future&#10;# steps to consume.&#10;foreach my $gav (keys %gavMap) {&#10;    my $reqId = $gavMap{$gav};&#10;    my $start = $stepBatch-&gt;findvalue($reqId, "property/value")-&gt;string_value;&#10;    $ec-&gt;setProperty("/myJob/validArtifactVersions/$gav", {value =&gt; $start});&#10;}&#10;&#10;$ec-&gt;setProperty("/myJob/candidatesForDeletion", {value =&gt; 1});</command>
        <condition>$[/javascript myJob.cacheDirectoryIsValid == '1']</condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>timeBaseDeletion</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>$[/myProject/scripts/perlHeader]&#10;&#10;use ElectricCommander::Batch;&#10;use File::Path;&#10;use Time::Local;&#10;&#10;#############################################################################&#10;#&#10;#  Assign Commander parameters to variables&#10;#&#10;#############################################################################&#10;my $days=$[olderThan];&#10;my $executeDeletion="$[executeDeletion]";&#10;&#10;# Get the value of the actualCacheDirectory property.&#10;my $cache = $ec-&gt;getProperty("actualCacheDirectory")-&gt;findvalue("//value");&#10;&#10;# Create a new parallel batch of deleteProperty requests for all artifact versions&#10;# that we are blowing away, so the /myJob/validArtifactVersions property sheet is&#10;# up to date for future steps that consume it.&#10;my $deleteBatch = $ec-&gt;newBatch('parallel');&#10;&#10;# Figure out the time limit for deletion based on the number of days specified.&#10;&#10;my ($sec, $min, $hour, $mday, $mon, $year) = gmtime(time() - (3600*24*$days));&#10;my $timeLimit = sprintf("%4d%02d%02d%02d%02d%02d", 1900+$year,&#10;                      $mon+1, $mday, $hour, $min, $sec);&#10;print "Time limit for deletion: $timeLimit\n";&#10;&#10;# Get the properties stored in /myJob/validArtifactVersions so we can go through&#10;# each one to figure out if we should delete it.&#10;my $validVersions = $ec-&gt;getProperties({path =&gt; "/myJob/validArtifactVersions"});&#10;&#10;foreach my $validVersion($validVersions-&gt;findnodes("//property")) {&#10;    my $accessTime = $validVersion-&gt;findvalue("value")-&gt;string_value;&#10;    $accessTime =~ s/[^.\d]//g;&#10;    if ($accessTime &lt; $timeLimit) {&#10;        my $gav = $validVersion-&gt;findvalue("propertyName")-&gt;string_value;&#10;        $gav =~ m/(.*):(.*):(.*)/;&#10;        my $dir = "$cache/$1/$2/$3";&#10;        if ($executeDeletion eq "true") {&#10;            print "Deleting \"$dir\" (last accessed $accessTime).\n";&#10;            rmtree($dir);&#10;        } else {&#10;           print "Would delete \"$dir\" (last accessed $accessTime).\n";&#10;        }&#10;    }&#10;}&#10;</command>
        <condition>$[/javascript myJob.candidatesForDeletion == '1']</condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>cleanupRepository</procedureName>
      <description>Clear out all stale artifacts from a repository's backing store.&#10;This procedure can be run on an individual repository or can be called on all repositories by "Artifact Cleanup"</description>
      <jobNameTemplate>$[/myProject/projectName]-$[/myProcedure/procedureName]_$[jobId]-$[/timestamp]</jobNameTemplate>
      <resourceName>$[resource]</resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName></workspaceName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>adminLogin</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>executeDeletion</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>resource</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>executeDeletion</formalParameterName>
        <defaultValue>false</defaultValue>
        <description>If this option is not set, only report is done. No real data are deleted</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>resource</formalParameterName>
        <defaultValue>local</defaultValue>
        <description>The resource on which to run this job. This resource must be running on the same machine as a repository server. The job will detect the repository's backing store location based on the assumption that the resource is installed along with the repository.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>clearInvalidArtifactVersions</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>$[/myProject/scripts/perlHeader]&#10;&#10;use warnings;&#10;use File::Spec;&#10;&#10;my $executeDeletion="$[executeDeletion]";&#10;my $response;&#10;&#10;my $dataEnv = "COMMANDER_DATA";&#10;my $dataDir;&#10;&#10;if (defined($ENV{$dataEnv})) {&#10;    $dataDir = $ENV{$dataEnv};&#10;    print "Data directory found in environment: \"$dataDir\".\n";&#10;} else {&#10;    # No data directory in the environment; probably a pre-4.0 agent.&#10;    die "ERROR: No data directory was found in the environment.\n";&#10;}&#10;&#10;if (! -d $dataDir) {&#10;    # The data directory is invalid.&#10;    die "ERROR: Cannot access data directory \"$dataDir\".\n";&#10;}&#10;&#10;my $propsFile = "$dataDir/conf/repository/server.properties";&#10;if (! -f $propsFile) {&#10;    # There's no repository server.properties.&#10;    die "ERROR: Cannot find repository configuration file \"$propsFile\".\n";&#10;}&#10;&#10;open PROPS, $propsFile or die "Could not open repository configuration file \"$propsFile\": $!";&#10;binmode PROPS;&#10;my $propsContents = join("", &lt;PROPS&gt;);&#10;close PROPS;&#10;$propsContents =~ m/REPOSITORY_BACKING_STORE=([^\n]*)/;&#10;my $backingStore = $1;&#10;&#10;if (!defined($backingStore) || $backingStore eq "") {&#10;    # Invalid backing store.&#10;    die "ERROR: Cannot find backing store in repository configuration file \"$propsFile\".\n";&#10;}&#10;&#10;# If the backing store isn't an absolute path, it is relative to the data directory.&#10;if (!File::Spec-&gt;file_name_is_absolute($backingStore)) {&#10;    $backingStore = "$dataDir/$backingStore";&#10;}&#10;&#10;if (! -d $backingStore) {&#10;    # The backing store directory is invalid.&#10;    die "ERROR: Cannot access backing store directory \"$backingStore\".\n";&#10;}&#10;&#10;if ($executeDeletion eq "true") {&#10;    # Get Admin user/password from project-level credential&#10;    # getFullCredential will not reveal the contents of the "password" field&#10;    my $xPath = $ec-&gt;getFullCredential("adminLogin");&#10;    my $user = $xPath-&gt;findvalue("//userName");&#10;    my $passwd = $xPath-&gt;findvalue("//password");&#10;&#10;    print "Cleaning up repository backing store \"$backingStore\".\n";&#10;    $ec-&gt;login($user, $passwd);&#10;    $ec-&gt;cleanupRepository($backingStore);&#10;} else {&#10;    print "Would call cleanupRepository on \"$backingStore\".\n";&#10;}</command>
        <condition></condition>
        <description>Check the environment variable COMMANDER_DATA, then check for a repository server.properties relative to this directory. Error out if the properties file can't be found, otherwise parse it for the backing store location. Once we have the backing store, call cleanupRepository on that directory.&#10;&#10;</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName>$[resource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
        <attachedCredentials>
          <credentialName>adminLogin</credentialName>
        </attachedCredentials>
      </step>
    </procedure>
    <procedure>
      <procedureName>createPluginFromProject</procedureName>
      <description>Create a plugin from a simple project&#10;&#10;Changelog:&#10;--------------&#10;&#10;2014-03-11  lrochette   Fixed jar error not reported&#10;                                      Fixed Windows path issue for&#10;                                      Use zip when jar is not available to package plugin&#10;2014-01-31  lrochette   Fixed descriptionForPlugin bug&#10;2014-01-26  lrochette   Fixed ec_visbility  (pickListOnly)&#10;2014-02-04  lrochette   Fixed problem with ec_setup and procedure names with dot (".")&#10;2014-04-02  lrochette   Fixed problem with ec_setup and procedure names with dot (".")&#10;2014-04-29  lrochette   Fixed ec_visbility&#10;2014-04-30  lrochette   Added a step to fix self reference to the project</description>
      <jobNameTemplate>$[/myProject/scripts/jobTemplate]</jobNameTemplate>
      <resourceName></resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName></workspaceName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>Author</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>Category</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>Description</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>Email</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>Plugin</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>Project</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>Version</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>createArtifact</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>fixSelfReferences</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>installPlugin</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>pluginName</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>promotePlugin</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>descriptionForPlugin</propertyName>
          <description>Description used in the pickerList when transformed into a plugin</description>
          <expandable>1</expandable>
          <value>Transform a project into a plugin</value>
        </property>
        <property>
          <propertyName>ec_parameterForm</propertyName>
          <description></description>
          <expandable>1</expandable>
          <value>&lt;editor&gt;&#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Project Name&lt;/label&gt; &#10;        &lt;property&gt;Project&lt;/property&gt; &#10;        &lt;documentation&gt;Choose a project to transform into a plugin.&lt;/documentation&gt; &#10;        &lt;type&gt;project&lt;/type&gt;&#10;        &lt;required&gt;1&lt;/required&gt;&#10;    &lt;/formElement&gt; &#10;&#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Plugin name&lt;/label&gt; &#10;        &lt;property&gt;Plugin&lt;/property&gt; &#10;        &lt;documentation&gt;The name of the plugin to create. If left empty, it will default to the project name.&lt;/documentation&gt; &#10;        &lt;type&gt;entry&lt;/type&gt;&#10;    &lt;/formElement&gt; &#10;&#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Category&lt;/label&gt; &#10;        &lt;property&gt;Category&lt;/property&gt; &#10;        &lt;documentation&gt;Category of the plugin. It helps filter the search for the plugin and its procedures in the picker list.&lt;/documentation&gt; &#10;        &lt;type&gt;entry&lt;/type&gt;&#10;    &lt;/formElement&gt; &#10;&#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Version&lt;/label&gt; &#10;        &lt;property&gt;Version&lt;/property&gt; &#10;        &lt;documentation&gt;The version of the plugin to create.&lt;/documentation&gt; &#10;        &lt;type&gt;entry&lt;/type&gt;&#10;        &lt;value&gt;1.0.0&lt;/value&gt;&#10;        &lt;required&gt;1&lt;/required&gt;&#10;    &lt;/formElement&gt; &#10;&#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Description&lt;/label&gt; &#10;        &lt;property&gt;Description&lt;/property&gt; &#10;        &lt;documentation&gt;Description of the plugin. If left empty, it will default to the description of the project.&lt;/documentation&gt; &#10;        &lt;type&gt;entry&lt;/type&gt;&#10;    &lt;/formElement&gt; &#10;&#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Author&lt;/label&gt; &#10;        &lt;property&gt;Author&lt;/property&gt; &#10;        &lt;documentation&gt;Author of the plugin.&lt;/documentation&gt; &#10;        &lt;type&gt;entry&lt;/type&gt;&#10;    &lt;/formElement&gt; &#10;&#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Author's email&lt;/label&gt; &#10;        &lt;property&gt;Email&lt;/property&gt; &#10;        &lt;documentation&gt;Email of the plugin author.&lt;/documentation&gt; &#10;        &lt;type&gt;entry&lt;/type&gt;&#10;    &lt;/formElement&gt; &#10;&#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Fix self references&lt;/label&gt;    &#10;        &lt;property&gt;fixSelfReferences&lt;/property&gt; &#10;        &lt;documentation&gt;Replace self reference to your project by an empty string.&lt;/documentation&gt; &#10;        &lt;type&gt;checkbox&lt;/type&gt;    &#10;        &lt;checkedValue&gt;true&lt;/checkedValue&gt; &#10;        &lt;uncheckedValue&gt;false&lt;/uncheckedValue&gt; &#10;        &lt;initiallyChecked&gt;0&lt;/initiallyChecked&gt; &#10;        &lt;value&gt;false&lt;/value&gt;    &#10;    &lt;/formElement&gt;&#10;&#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Create Artifact&lt;/label&gt;    &#10;        &lt;property&gt;createArtifact&lt;/property&gt; &#10;        &lt;documentation&gt;Save the new created Plugin as an artifact version.&lt;/documentation&gt; &#10;        &lt;type&gt;checkbox&lt;/type&gt;    &#10;        &lt;checkedValue&gt;true&lt;/checkedValue&gt; &#10;        &lt;uncheckedValue&gt;false&lt;/uncheckedValue&gt; &#10;        &lt;initiallyChecked&gt;0&lt;/initiallyChecked&gt; &#10;        &lt;value&gt;false&lt;/value&gt;    &#10;    &lt;/formElement&gt;&#10;&#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Install Plugin&lt;/label&gt;    &#10;        &lt;property&gt;installPlugin&lt;/property&gt; &#10;        &lt;documentation&gt;Check to install the plugin automatically after successful creation.&lt;/documentation&gt; &#10;        &lt;type&gt;checkbox&lt;/type&gt;    &#10;        &lt;checkedValue&gt;true&lt;/checkedValue&gt; &#10;        &lt;uncheckedValue&gt;false&lt;/uncheckedValue&gt; &#10;        &lt;initiallyChecked&gt;1&lt;/initiallyChecked&gt; &#10;        &lt;value&gt;true&lt;/value&gt;    &#10;    &lt;/formElement&gt;&#10;&#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Promote Plugin&lt;/label&gt;    &#10;        &lt;property&gt;promotePlugin&lt;/property&gt; &#10;        &lt;documentation&gt;Check to promote the plugin automatically after successful installation.&lt;/documentation&gt; &#10;        &lt;type&gt;checkbox&lt;/type&gt;    &#10;        &lt;checkedValue&gt;true&lt;/checkedValue&gt; &#10;        &lt;uncheckedValue&gt;false&lt;/uncheckedValue&gt; &#10;        &lt;initiallyChecked&gt;1&lt;/initiallyChecked&gt; &#10;        &lt;value&gt;true&lt;/value&gt;    &#10;    &lt;/formElement&gt;&#10;&#10;&lt;/editor&gt;</value>
        </property>
        <property>
          <propertyName>exposeToPlugin</propertyName>
          <description></description>
          <expandable>1</expandable>
          <value>1</value>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>Author</formalParameterName>
        <defaultValue></defaultValue>
        <description>One must take credit where credit is owed</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>Category</formalParameterName>
        <defaultValue></defaultValue>
        <description>The category used for the plugin list</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>createArtifact</formalParameterName>
        <defaultValue>false</defaultValue>
        <description>Check to save the plugin in the Artifact Repository</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>Description</formalParameterName>
        <defaultValue></defaultValue>
        <description>The description of your plugin</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>textarea</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>Email</formalParameterName>
        <defaultValue></defaultValue>
        <description>The email address of the author for support purpose</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>fixSelfReferences</formalParameterName>
        <defaultValue>false</defaultValue>
        <description></description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>installPlugin</formalParameterName>
        <defaultValue>true</defaultValue>
        <description>install the plugin or not at the end of the process</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>Plugin</formalParameterName>
        <defaultValue></defaultValue>
        <description>The name of the plugin you want to create. If it's empty it will use the source project name.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>Project</formalParameterName>
        <defaultValue></defaultValue>
        <description>Pick the source project for which you want to create a plugin</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>project</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>promotePlugin</formalParameterName>
        <defaultValue>false</defaultValue>
        <description></description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>Version</formalParameterName>
        <defaultValue>1.0.0</defaultValue>
        <description>Version of the plugin</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>Initialization</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>$[/myProject/scripts/perlHeaderJSON]&#10;&#10;###################################################################&#10;#&#10;# Parameters&#10;#&#10;###################################################################&#10;my $pluginName="$[Plugin]";&#10;my $project="$[Project]";&#10;my $version="$[Version]";&#10;&#10;if ($pluginName eq "") {&#10;  $pluginName=$project;&#10;}&#10;my $pluginBuildNumber=$[/increment /projects/$[Project]/pluginBuildNumber];&#10;my $completeVersion="$version.$pluginBuildNumber";&#10;&#10;$ec-&gt;setProperty("summary", "Processing plugin $project-$completeVersion");&#10;$ec-&gt;setProperty("/myJob/Version", $completeVersion);</command>
        <condition></condition>
        <description>Set up some job properties</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>createFileStructure</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>#&#10;# Create a uniq directory&#10;mkdir ("plugin.$[/myJob/jobId]");&#10;chdir("plugin.$[/myJob/jobId]");&#10;&#10;# Create the META-INF and pages directories&#10;mkdir("META-INF");&#10;mkdir ("pages");&#10;mkdir ("cgi-bin");&#10;mkdir ("htdocs");&#10;&#10;# Open persmission the project export can be written&#10;# in the case the server and agent run with 2 different users&#10;chmod (0777, "META-INF");</command>
        <condition></condition>
        <description>Create the file structure required for a plugin&#10;&#10;/&#10;	/ META-INF&#10;		/ plugin.xml&#10;		/ project.xml&#10;	/ pages&#10;		/ help.xml&#10;</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>fixSelfReferences</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>#############################################################################&#10;#&#10;# Copyright 2014 Electric-Cloud Inc.&#10;#&#10;#############################################################################&#10;&#10;$[/myProject/scripts/perlHeaderJSON]&#10;&#10;#############################################################################&#10;#&#10;# Parameters&#10;#&#10;#############################################################################&#10;my $prj="$[Project]";&#10;&#10;my $DEBUG=1;&#10;&#10;#&#10;# Schedules Loop&#10;# &#10;my $res=$ec-&gt;getSchedules($prj);&#10;&#10;foreach my $node ($res-&gt;findnodes("//schedule")) {&#10;    my $sched=$node-&gt;{'scheduleName'};&#10;	printf("Processing Schedule: %s\n", $sched);&#10;&#10;	if ($node-&gt;{'project'} eq "$prj") {&#10;    	printf("        *** Changing schedule project back to empty\n");&#10;    	$ec-&gt;setProperty('subproject', "", {projectName=&gt;$prj,  scheduleName=&gt;$sched});&#10;  	}&#10;}&#10;printf("\n\n\n");&#10;&#10;#&#10;# Workflow/State Definition Loop&#10;# &#10;$res=$ec-&gt;getWorkflowDefinitions($prj);&#10;&#10;foreach my $node ($res-&gt;findnodes("//workflowDefinition")) {&#10;	my $wkf=$node-&gt;{'workflowDefinitionName'};&#10;	printf("Processing Workflow: %s\n", $wkf);&#10;&#10;	my $json=$ec-&gt;getStateDefinitions($prj, $wkf);&#10;    &#10;	foreach my $state ($json-&gt;findnodes("//stateDefinition")) {&#10;    	my $stateName=$state-&gt;{'stateDefinitionName'};&#10;  		printf("    Process State %s\n", $stateName);&#10;        if ($state-&gt;{'subproject'} eq "$prj") {&#10;    		printf("        *** Changing state subproject back to empty\n");&#10;    		$ec-&gt;setProperty('subproject', "", {projectName=&gt;$prj, workflowDefinitionName=&gt;$wkf, stateDefinitionName=&gt;$stateName});&#10;  		}&#10;	}&#10;}&#10;printf("\n\n\n");&#10;&#10;#&#10;# Procedure/Step Loop&#10;# &#10;$res=$ec-&gt;getProcedures($prj);&#10;&#10;foreach my $node ($res-&gt;findnodes("//procedure")) {&#10;	my $proc=$node-&gt;{'procedureName'};&#10;	printf("Processing Procedure: %s\n", $proc);&#10;&#10;	my $json=$ec-&gt;getSteps($prj, $proc);&#10;    &#10;	foreach my $step ($json-&gt;findnodes("//step")) {&#10;    	my $stepName=$step-&gt;{'stepName'};&#10;  		printf("    Process Step %s\n", $stepName);&#10;        if ($step-&gt;{'subproject'} eq "$prj") {&#10;    		printf("        *** Changing step subproject back to empty\n");&#10;    		$ec-&gt;setProperty('subproject', "", {projectName=&gt;$prj, procedureName=&gt;$proc, stepName=&gt;$stepName});&#10;  		}&#10;	}&#10;}</command>
        <condition>$[fixSelfReferences]</condition>
        <description>Replace self references in states, schedules and steps to the current project by an empty String</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>createPlugin.xml</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>$[/myProject/scripts/perlHeaderJSON]&#10;&#10;my $pluginName="$[Plugin]";&#10;my $project="$[Project]";&#10;my $version="$[/myJob/Version]";&#10;my $description="$[Description]";&#10;my $author="$[Author]";&#10;my $email='$[Email]';&#10;my $category="$[Category]";&#10;&#10;if ($author eq "") {&#10;   $author="Electric Cloud";&#10;}&#10;if ($email eq "") {&#10;   $email="plugins\@electric-cloud.com";&#10;}&#10;if ($pluginName eq "") {&#10;  $pluginName="$[Project]";&#10;}&#10;if ($description eq "") {&#10;  $description=getP("/projects/$project/description");&#10;}&#10;&#10;my $file="plugin.$[/myJob/jobId]/META-INF/plugin.xml";&#10;unless (open FILE, '&gt;'.$file) {&#10;        printf("File: %s\n", $file);&#10;	die "\nUnable to create META-INF/plugin.xml\n";&#10;}&#10;&#10;printf(FILE '&lt;?xml version="1.0" encoding="UTF-8"?&gt;');&#10;printf(FILE "\n&lt;plugin&gt;\n");&#10;printf(FILE "  &lt;key&gt;%s&lt;/key&gt;\n", $pluginName);&#10;printf(FILE "  &lt;version&gt;%s&lt;/version&gt;\n", $version);&#10;printf(FILE "  &lt;label&gt;%s&lt;/label&gt;\n", $pluginName);&#10;printf(FILE "  &lt;description&gt;%s&lt;/description&gt;\n", $description);&#10;&#10;#&#10;# Create the help entry only if it exists&#10;my $help=getP("/projects/$project/help");&#10;if ($help ne "") {&#10;  printf(FILE "  &lt;help&gt;help.xml&lt;/help&gt;\n");&#10;}&#10;printf(FILE "  &lt;author&gt;%s&lt;/author&gt;\n", $author);&#10;printf(FILE "  &lt;authorUrl&gt;mailto:%s&lt;/authorUrl&gt;\n", $email);&#10;printf(FILE "  &lt;category&gt;%s&lt;/category&gt;\n&lt;/plugin&gt;\n", $category);&#10;close FILE;&#10;&#10;&#10;$[/myProject/scripts/perlLibJSON]</command>
        <condition></condition>
        <description>create the META-INF/plugin.xml</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>setProjectProperty-ec_visbility</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>$[/myProject/scripts/perlHeaderJSON]&#10;&#10;my $pName="$[Plugin]";&#10;my $pCategory="$[Category]";&#10;my $project="$[Project]";&#10;&#10;&#10;if (! getP("/projects/$project/ec_visibility")) {&#10;  $ec-&gt;setProperty("/projects/$[Project]/ec_visibility", "pickListOnly");&#10;} else {&#10;   $ec-&gt;setProperty("/myCall/ecVisibility",  getP("/projects/$project/ec_visibility") );&#10;}&#10;&#10;$[/myProject/scripts/perlLibJSON]</command>
        <condition></condition>
        <description>set the right properties to be able to see the project in the picketList&#10;&#10;$ec-&gt;setProperty("/projects/$[Project]/ec_visibility", "pickListOnly");&#10;&#10;</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>setProjectProperties-ec_setup</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>$[/myProject/scripts/perlHeader]&#10;&#10;my $pName="$[Plugin]";&#10;my $pCategory="$[Category]";&#10;my $project="$[Project]";&#10;&#10;if ($pName eq "") {&#10;  $pName=$project;&#10;}&#10;&#10;my $ECsetup="";&#10;&#10;#&#10;# Pickup code for Promote/demote&#10;#&#10;if (getP("/projects/$project/promoteAction")) {&#10;  $ECsetup .= "# promote/demote action\n";&#10;  $ECsetup .= getP("/projects/$project/promoteAction");&#10;  $ECsetup .= "\n\n";&#10;}&#10;&#10;$ECsetup .= "# Data that drives the create step picker registration for this plugin.\n";&#10;&#10;# Loop on each procedure&#10;my $proc;              # Loop variable&#10;my $xpath;&#10;my $pickerList="";&#10;&#10;my @procList=$ec-&gt;getProcedures($project)-&gt;findnodes("//procedure");&#10;foreach $xpath(@procList) {&#10;   my $procName=$xpath-&gt;findvalue("//procedureName");&#10;   &#10;   #&#10;   # Skip this procedure if property "exposeToPlugin" is not set to 1&#10;   #&#10;   next if (getP("/projects/$project/procedures/$procName/exposeToPlugin") != 1);&#10;   &#10;   #&#10;   #&#10;   # If property "descrirptionForPlugin" exists, use it&#10;   # if not, use the procedure description itself&#10;   #&#10;   my $description=getP("/projects/$project/procedures/$procName/descriptionForPlugin");&#10;   if (!$description) {&#10;     $description=$xpath-&gt;findvalue("//description");&#10;   }&#10;   my $procCleanName=$procName;&#10;   $procCleanName =~ s/[\s\-\.]/\_/g; # replace spaces, . and - by _&#10;&#10;# Create a block of perl Code for each procedure ala&#10;#my %startBuild = (&#10;#    label =&gt; "$Jenkins- Start a build",&#10;#    procedure =&gt; "startBuild",&#10;#    description =&gt; "Start a build.",&#10;#    category =&gt; "Other"&#10;#);&#10;&#10;#escape double quote in the description&#10;  $description =~ s/"/\\"/g;&#10;  &#10;   $ECsetup .= "my %" . "$procCleanName = ( &#10;  label       =&gt; \"$pName - $procName\", &#10;  procedure   =&gt; \"$procName\", &#10;  description =&gt; \"$description\", &#10;  category    =&gt; \"$pCategory\" &#10;);&#10;&#10;" ;&#10;&#10;  $pickerList .= "\\%". $procCleanName . ", "; &#10;} # end foreach loop&#10;&#10;&#10;# Create the picker List ala&#10;#@::createStepPickerSteps = (\%startBuild, \%getStatus, \%getLog, \%getDuration);&#10;&#10;#remote the trailing ", " from the picker List&#10;chop($pickerList); chop($pickerList);&#10;$ECsetup .= "\@::createStepPickerSteps = (" . $pickerList . ");\n";&#10;&#10;print "Code generated\n";&#10;print $ECsetup;&#10;$ec-&gt;setProperty("//projects/$[Project]/ec_setup", $ECsetup);&#10;&#10;$[/myProject/scripts/perlLib]&#10;</command>
        <condition></condition>
        <description>set the right properties to be able to see the project in the picketList.&#10;Procedure is added only if property pluginExpose is set</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>createProject.xml</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>$[/myProject/scripts/perlHeader]&#10;&#10;my $project="$[Project]";&#10;my $wkSpace="";&#10;&#10;if ($osIsWindows) {&#10;  $wkSpace=getP("/myWorkspace/agentUncPath");&#10;} else {&#10;  $wkSpace="$[/myWorkspace/agentUnixPath]";&#10;}  &#10;my $file="$wkSpace/$[/myJob/directoryName]/plugin.$[/myJob/jobId]/META-INF/project.xml";&#10;&#10;$ec-&gt;export($file, {path=&gt; "/projects/" . $project, relocatable =&gt; "true"});&#10;&#10;$[/myProject/scripts/perlLib]</command>
        <condition></condition>
        <description>Create the META-INF/project.xml</description>
        <errorHandling>abortJob</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName>local</resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>restore-ec_visibility</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>$[/myProject/scripts/perlHeaderJSON]&#10;&#10;my $pName="$[Plugin]";&#10;my $pCategory="$[Category]";&#10;my $project="$[Project]";&#10;&#10;$ec-&gt;deleteProperty("/projects/$[Project]/ec_visibility");&#10;if ( $[/javascript (typeof(myCall.ecVisibility) != "undefined") ?"1":"0" ] ) {&#10;   printf("Restoring ec_visibility\n");&#10;   $ec-&gt;setProperty("/projects/$[Project]/ec_visibility", getP("/myCall/ecVisibility") );&#10;}&#10;$[/myProject/scripts/perlLibJSON]</command>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>createHelp.xml</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>$[/myProject/scripts/perlHeaderJSON]&#10;$[/myProject/scripts/perlLibJSON]&#10;&#10;my $file="pages/help.xml";&#10;my $help=getP("/projects/$[Project]/help");&#10;my $HELP;&#10;&#10;if ($help ne "") {&#10;  chdir("plugin.$[/myJob/jobId]");&#10;  open($HELP, "&gt; $file") || die("Cannot open help.xml");&#10;&#10;  print $HELP "$help";&#10;  close($HELP);&#10;}</command>
        <condition></condition>
        <description>if the property "help" exist for the project, use it to create the pages/help.xml</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>packagePlugin</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>$[/myProject/scripts/perlHeader]&#10;use File::Which qw(which);&#10;use File::Copy qw(move);&#10;&#10;my $pluginName="$[Plugin]";&#10;my $Version="$[/myJob/Version]";&#10;if ($pluginName eq "") {&#10;  $pluginName="$[Project]";&#10;}&#10;&#10;chdir("plugin.$[/myJob/jobId]");&#10;&#10;if (my $jar_path=which('jar')) {&#10;  my @args=("jar cvf0 ../$pluginName-$Version.jar *");&#10;  system(@args) == 0 or die("system @args failed: $?");&#10;} else {&#10;  printf("jar not found in the path\n");&#10;  #&#10;  # Let's try with zip&#10;  if (my $zip_path=which('zip')) {&#10;  	printf("Let's try with zip instead\n");&#10;    my @args=("zip -r  ../$pluginName-$Version.zip *");&#10;    system(@args) == 0 or die("system @args failed: $?");&#10;    # let's rename the file&#10;    move("../$pluginName-$[Version].zip", "../$pluginName-$Version.jar");&#10;  } else {&#10;    printf("zip not found in the path\n");&#10;    printf("I need something to package the plugin\n");&#10;    $ec-&gt;setProperty("summary", "No jar or zip executable in the PATH");&#10;    exit(1);&#10;  }&#10;}&#10;&#10;$ec-&gt;setProperty("/myJob/report-urls/$pluginName-$Version.jar", "file:/$[/myWorkspace/agentUnixPath]/$[/myJob/directoryName]/$pluginName-$Version.jar");&#10;</command>
        <condition></condition>
        <description>Create the jar file for the plugin</description>
        <errorHandling>abortJob</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>savePluginAsArtifactVersion</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>#############################################################################&#10;#&#10;#  uploadPlugins -- upload all plugins in the Artifact Repository&#10;#  Copyright 2014 Electric-Cloud Inc.&#10;#&#10;#############################################################################&#10;&#10;$[/myProject/scripts/perlHeader]&#10;&#10;#&#10;# Parameters&#10;#&#10;my $plugin="$[Plugin]";&#10;my $Version="$[/myJob/Version]";&#10;if ($plugin eq "") {&#10;  $plugin="$[Project]";&#10;}&#10;&#10;#&#10;# Is this plugin already imported in an Artifact Version&#10;#&#10;my ($ok)=InvokeCommander("SuppressLog IgnoreError", 'getArtifactVersion', "plugins:$plugin:$Version");&#10;if ($ok) {&#10;	printf("\tArtifact Version already exists\n");&#10;    exit 1;    # Artifact already exist&#10;}&#10;&#10;#&#10;# Does the Artifact already exist?&#10;#&#10;($ok)=InvokeCommander("SuppressLog IgnoreError", 'getArtifact', "plugins:$plugin");&#10;if (! $ok) {&#10;	InvokeCommander("SuppressLog", 'createArtifact',&#10;		{&#10;        	groupId=&gt;"plugins", artifactKey=&gt;$plugin&#10;		}&#10;);&#10;}&#10;InvokeCommander("SuppressLog", 'publishArtifactVersion',&#10;		{&#10;        	groupId=&gt;"plugins", artifactKey=&gt;$plugin,  version=&gt;$Version,&#10;        	fromDirectory=&gt;".",&#10;            includePatterns=&gt;"*.jar"&#10;		}&#10;);&#10;&#10;$[/myProject/scripts/perlLib]</command>
        <condition>$[createArtifact]</condition>
        <description>Let's save the plugin in the Artifact Repository</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>installPlugin</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>$[/myProject/scripts/perlHeader]&#10;&#10;my $plugin="$[Plugin]";&#10;my $version="$[/myJob/Version]";&#10;&#10;if ($plugin eq "") {&#10;  $plugin="$[Project]";&#10;}&#10;&#10;printf("Installing plugin '$plugin-$version'\n");&#10;$ec-&gt;installPlugin("./$plugin-$version.jar");&#10;$ec-&gt;setProperty("summary", "$plugin-$version installed");</command>
        <condition>$[/javascript "$[installPlugin]" == "true" ]&#10;</condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>promotePlugin</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>$[/myProject/scripts/perlHeader]&#10;&#10;my $plugin="$[Plugin]";&#10;my $version="$[/myJob/Version]";&#10;&#10;if ($plugin eq "") {&#10;  $plugin="$[Project]";&#10;}&#10;&#10;printf("Promoting plugin '$plugin-$version'\n");&#10;$ec-&gt;promotePlugin("$plugin-$version");&#10;$ec-&gt;setProperty("summary", "$plugin-$version promoted");</command>
        <condition>$[/javascript "$[promotePlugin]" == "true" ]</condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>deleteObjects</procedureName>
      <description>A procedure to quickly delete jobs or workflows older than a&#10;specified number of days. It will NOT delete associated workspace job&#10;directories. This is for customers with huge job or workflow database&#10;&#10;Changelog:&#10;-------------&#10;12-23-2013  Tanay  Added a sort to prevent job ID range overlap as reporeted in ZD #109574&#10;</description>
      <jobNameTemplate>$[/myProject/scripts/jobTemplate]</jobNameTemplate>
      <resourceName></resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>seconds</timeLimitUnits>
      <workspaceName></workspaceName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>objectType</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>options</propertyName>
                      <propertySheet>
                        <property>
                          <propertyName>list</propertyName>
                          <expandable>1</expandable>
                          <value>job|workflow</value>
                        </property>
                        <property>
                          <propertyName>type</propertyName>
                          <expandable>1</expandable>
                          <value>simpleList</value>
                        </property>
                      </propertySheet>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>descriptionForPlugin</propertyName>
          <description></description>
          <expandable>1</expandable>
          <value>A procedure to quickly delete jobs or workflows older than a specified number of days. It will NOT delete associated workspace job directories.</value>
        </property>
        <property>
          <propertyName>ec_parameterForm</propertyName>
          <description></description>
          <expandable>1</expandable>
          <value>&lt;editor&gt; &#10;   &lt;formElement&gt; &#10;        &lt;label&gt;Object Type&lt;/label&gt; &#10;        &lt;property&gt;objectType&lt;/property&gt; &#10;        &lt;documentation&gt;The type of objects to delete&lt;/documentation&gt; &#10;        &lt;type&gt;select&lt;/type&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;Jobs&lt;/name&gt; &#10;            &lt;value&gt;job&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;Workflows&lt;/name&gt; &#10;            &lt;value&gt;workflow&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;value&gt;job&lt;/value&gt; &#10;        &lt;required&gt;1&lt;/required&gt;&#10;    &lt;/formElement&gt; &#10;&#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Delete objects older than&lt;/label&gt; &#10;        &lt;property&gt;daysLimit&lt;/property&gt; &#10;        &lt;documentation&gt;Indicate the numbers of days after which jobs should be deleted&lt;/documentation&gt; &#10;        &lt;type&gt;select&lt;/type&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;1 month&lt;/name&gt; &#10;            &lt;value&gt;30&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;2 months&lt;/name&gt; &#10;            &lt;value&gt;60&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;3 months&lt;/name&gt; &#10;            &lt;value&gt;91&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;6 months&lt;/name&gt; &#10;            &lt;value&gt;182&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;1 year&lt;/name&gt; &#10;            &lt;value&gt;365&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;value&gt;91&lt;/value&gt; &#10;        &lt;required&gt;1&lt;/required&gt;&#10;    &lt;/formElement&gt; &#10;&#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Maximum number of objects to delete&lt;/label&gt; &#10;        &lt;property&gt;maxObjects&lt;/property&gt; &#10;        &lt;documentation&gt;Indicate the maximum numbers of objects to delete&lt;/documentation&gt; &#10;        &lt;type&gt;select&lt;/type&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;200 objects&lt;/name&gt; &#10;            &lt;value&gt;200&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;500 objects&lt;/name&gt; &#10;            &lt;value&gt;500&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;1000 objects&lt;/name&gt; &#10;            &lt;value&gt;1000&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;2000 objects&lt;/name&gt; &#10;            &lt;value&gt;2000&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;5000 objects&lt;/name&gt; &#10;            &lt;value&gt;5000&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;value&gt;1000&lt;/value&gt; &#10;        &lt;required&gt;1&lt;/required&gt;&#10;    &lt;/formElement&gt; &#10;&#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Chunk size&lt;/label&gt; &#10;        &lt;property&gt;chunkSize&lt;/property&gt; &#10;        &lt;documentation&gt;Chunk size&lt;/documentation&gt; &#10;        &lt;type&gt;entry&lt;/type &gt; &#10;        &lt;value&gt;200&lt;/value&gt; &#10;        &lt;required&gt;1&lt;/required&gt;&#10;    &lt;/formElement&gt;&#10;&lt;/editor&gt;</value>
        </property>
        <property>
          <propertyName>exposeToPlugin</propertyName>
          <description>So the procedure is shown in the pickerList</description>
          <expandable>1</expandable>
          <value>1</value>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>chunkSize</formalParameterName>
        <defaultValue>20</defaultValue>
        <description>Iterate over chunks this size until maxObjects.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>daysLimit</formalParameterName>
        <defaultValue>30</defaultValue>
        <description>Delete jobs at least this many days old.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>maxObjects</formalParameterName>
        <defaultValue>2000</defaultValue>
        <description>Delete up to this many objects.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>objectType</formalParameterName>
        <defaultValue>job</defaultValue>
        <description>The type of object (job|workflow|etc).</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>select</type>
      </formalParameter>
      <step>
        <stepName>Delete</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>use strict;&#10;use warnings;&#10;use ElectricCommander;&#10;use DateTime;&#10;use POSIX;&#10;&#10;$| = 1;&#10;&#10;my $olderThan = DateTime-&gt;now()-&gt;subtract(days =&gt; "$[daysLimit]")-&gt;iso8601() . ".000Z";&#10;my $interval = floor($[chunkSize] / 20);&#10;# Maximum 60 seconds interval between checks no matter how large the chunk size is.&#10;if ($interval &gt; 60) {&#10;    $interval = 60;&#10;}&#10;&#10;if ($[maxObjects] &lt; $[chunkSize]) {&#10;    print STDERR "Error: maxObjects must be at least as large as chunkSize";&#10;    exit 1;&#10;}&#10;&#10;print "Chunk size: $[chunkSize]\nDays limit: $[daysLimit]\n"&#10;    . "Max objects: $[maxObjects]\nObject type: $[objectType]\n"&#10;    . "Poll interval: $interval" . "s\n\n";&#10;&#10;my $ec = new ElectricCommander;&#10;&#10;my $numReturned;&#10;my $numDeleted = 0;&#10;my $numChunks = 0;&#10;my $overallStart = time();&#10;my %deletedObjects = ();&#10;do {&#10;    $numChunks ++;&#10;    my $maxIds = $[chunkSize] &gt; ($[maxObjects] - $numDeleted) ? $[maxObjects] - $numDeleted : $[chunkSize];&#10;    my $result = $ec-&gt;deleteObjects("$[objectType]", {&#10;        maxIds     =&gt; $maxIds,&#10;        filter     =&gt; [{&#10;            propertyName =&gt; "finish",&#10;            operator     =&gt; "lessThan",&#10;            operand1     =&gt; $olderThan&#10;        }],&#10;        sort =&gt; [{&#10;            propertyName =&gt; "finish",&#10;            order =&gt; "ascending"&#10;        }]&#10;    });&#10;&#10;    $numReturned = $result-&gt;findnodes("/responses/response/objectId")-&gt;size();&#10;    $numDeleted += $numReturned;&#10;&#10;    foreach my $objectIdNode ($result-&gt;findnodes("/responses/response/objectId")) {&#10;        my $objectId = $objectIdNode-&gt;string_value;&#10;        if (exists($deletedObjects{$objectId})) {&#10;            my $error = "Error: $objectId is being deleted again";&#10;            $ec-&gt;setProperty("summary", $error);&#10;            print STDERR $error;&#10;            exit 1;&#10;        }&#10;        $deletedObjects{$objectId} = 1;&#10;    }&#10;&#10;    if ($numReturned &gt; 0) {&#10;        print "Waiting for $numReturned $[objectType]s to be deleted...\n";&#10;        my $lastId = $result-&gt;find("/responses/response/objectId[$numReturned]")-&gt;string_value;&#10;        $ec-&gt;abortOnError(0);&#10;        my $lastObject;&#10;        do {&#10;            sleep $interval;&#10;            $lastObject = $ec-&gt;getObjects({objectId=&gt;[$lastId]});&#10;        } while ($lastObject-&gt;findvalue("/responses/response/object/objectId"));&#10;        $ec-&gt;abortOnError(1);&#10;        my $overallTime = time() - $overallStart;&#10;        my $percent = ceil(($numDeleted / $[maxObjects]) * 100);&#10;        my $summary = "Deleted $numDeleted $[objectType]s ($percent%) | "&#10;            . sprintf("Total average deletion time: %.2fs", $overallTime / $numDeleted);&#10;        $ec-&gt;setProperty("summary", $summary);&#10;        print "$summary\n";&#10;    }&#10;} while ($numReturned &gt; 0 &amp;&amp; $[maxObjects] - $numDeleted &gt; 0);&#10;&#10;if ($numDeleted == 0) {&#10;    $ec-&gt;setProperty("summary", "No $[objectType]s to delete");&#10;}</command>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor>postp</postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
          <property>
            <propertyName>ec_customEditorData</propertyName>
            <propertySheet>
              <property>
                <propertyName>formType</propertyName>
                <expandable>1</expandable>
                <value>command</value>
              </property>
            </propertySheet>
          </property>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>deleteWorkspaceOrphans</procedureName>
      <description>Procedure to crawl a workspace directory to find orphan jobs (directories without a matching job)</description>
      <jobNameTemplate>$[/myProject/scripts/jobTemplate]</jobNameTemplate>
      <resourceName></resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName></workspaceName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>executeDeletion</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>options</propertyName>
                      <propertySheet>
                        <property>
                          <propertyName>option1</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Report</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>false</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option2</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Delete</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>true</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>optionCount</propertyName>
                          <expandable>1</expandable>
                          <value>2</value>
                        </property>
                        <property>
                          <propertyName>type</propertyName>
                          <expandable>1</expandable>
                          <value>list</value>
                        </property>
                      </propertySheet>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>olderThab</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>options</propertyName>
                      <propertySheet>
                        <property>
                          <propertyName>option1</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>1 month</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>30</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option2</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>3 months</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>91</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option3</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>6 months</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>182</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option4</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>1 year</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>365</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>optionCount</propertyName>
                          <expandable>1</expandable>
                          <value>4</value>
                        </property>
                        <property>
                          <propertyName>type</propertyName>
                          <expandable>1</expandable>
                          <value>list</value>
                        </property>
                      </propertySheet>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>olderThan</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>options</propertyName>
                      <propertySheet>
                        <property>
                          <propertyName>option1</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>1 month</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>30</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option2</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>3 months</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>91</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option3</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>6 months</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>182</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option4</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>1 year</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>365</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>optionCount</propertyName>
                          <expandable>1</expandable>
                          <value>4</value>
                        </property>
                        <property>
                          <propertyName>type</propertyName>
                          <expandable>1</expandable>
                          <value>list</value>
                        </property>
                      </propertySheet>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>resource</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>verboseMode</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>workspace</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>exposeToPlugin</propertyName>
          <description>So the procedure is shown in the pickerList</description>
          <expandable>1</expandable>
          <value>1</value>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>executeDeletion</formalParameterName>
        <defaultValue>false</defaultValue>
        <description>If this parameter is not true, no real data will be deleted.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>select</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>olderThan</formalParameterName>
        <defaultValue>91</defaultValue>
        <description>Indicate the number of days after which orphans job directories should be deleted</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>select</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>resource</formalParameterName>
        <defaultValue>local</defaultValue>
        <description>Choose a resource that have full access to the workspace</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>verboseMode</formalParameterName>
        <defaultValue>true</defaultValue>
        <description>Display information about directories that are skipped</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>workspace</formalParameterName>
        <defaultValue>default</defaultValue>
        <description>Name of the workspace t crawl for orphans</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>crawlWorkspace</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>#############################################################################&#10;#&#10;#  crawlWorkspace-- Script to find orphan job directories in a workspace&#10;#  Copyright 2013 Electric-Cloud Inc.&#10;#&#10;#############################################################################&#10;&#10;use File::Path;&#10;use File::stat;&#10;use Fcntl ':mode';&#10;use DateTime;&#10;use Time::localtime;&#10;&#10;$[/myProject/scripts/perlHeader]&#10;&#10;&#10;#############################################################################&#10;#&#10;#  Assign Commander parameters to variables&#10;#&#10;#############################################################################&#10;my $workspace       = "$[/myParent/workspace]";&#10;my $executeDeletion = "$[/myParent/executeDeletion]";&#10;my $nbDays          =  $[/myParent/olderThan];&#10;my $verboseMode     = "$[/myParent/verboseMode]";&#10;#############################################################################&#10;#&#10;#  Global Variables&#10;#&#10;#############################################################################&#10;my $osIsWindows = $^O =~ /MSWin/;&#10;my $totalWksSize=0;          # Size of workspace files&#10;my $totalNbJobs=0;           # Number of orphans job directories&#10;my $wksDir;&#10;my $timeLimit = time() - $nbDays*24*3600;&#10;&#10;#############################################################################&#10;#&#10;#  Main&#10;#&#10;#############################################################################&#10;&#10;printf ("%s'%s' workspace for orphan job directories older than %d days (%s)!\n",&#10;        $executeDeletion eq "true"?"Deleting":"Crawling", $workspace, $nbDays,&#10;         ctime($timeLimit));&#10;&#10;# Check the workspace&#10;my ($success, $xPath, $errorMsg) = InvokeCommander("SuppressLog", "getWorkspace", $workspace);&#10;if (! $success) {&#10;  printf("Cannot access workspace %s!\n%s\n", $workspace, $errorMsg);&#10;  exit 1;&#10;}&#10;&#10;if ($osIsWindows) {&#10;  $wksDir=$xPath-&gt;findvalue('//agentUncPath');&#10;  $wksDir=~ s#/#\\#g;&#10;} else {&#10;  $wksDir=$xPath-&gt;findvalue('//agentUnixPath');&#10;}&#10;printf ("Workspace directory: %s\n\n", $wksDir);&#10;opendir(D, $wksDir) || die "Cannot access workspace directory $wksDir!\n";&#10;foreach my $dir (grep(!/^\.\.?/, readdir(D))) {&#10;  my $fullPath=$wksDir . "/" . $dir;&#10;  my $fStat=stat($fullPath);&#10;  if (! (S_ISDIR($fStat-&gt;mode))) {              # skip non directories&#10;    printf ("%s: not a directory. Skipping!\n", $dir) if ($verboseMode eq "true");&#10;    next;&#10;  }&#10;  if ($dir !~ /[-_\(]\d{3,}/ ) {&#10;    printf("%s: does not match a job name pattern. Skipping!\n", $dir);&#10;    next;&#10;  }&#10;  my $fileTime = $fStat-&gt;mtime;         #Modification time&#10;&#10;  if ( $fileTime &gt; $timeLimit) {    # Check only older directories&#10;    printf("%s: too recent (%s). Skipping!\n", $dir, ctime($fileTime)) if ($verboseMode eq "true");&#10;    next;&#10;  }&#10;  ($success, $xPath, $errorMsg)=InvokeCommander("SuppressLog", "findObjects", "job", &#10;                                     {filter =&gt; [{"propertyName" =&gt; "directoryName", "operator" =&gt; "like",&#10;                                                  "operand1" =&gt; $dir}]&#10;                                     });&#10;  if (scalar($xPath-&gt;find('//object')-&gt;get_nodelist) == 0) {&#10;    printf("%s: Orphan\n", $dir);&#10;    my $wksSize = getDirSize("$fullPath");&#10;    printf ("  Size: %s\n", humanSize($wksSize));&#10;    $totalWksSize += $wksSize;&#10;    $totalNbJobs++;&#10;    if ($executeDeletion eq "true") {&#10;       printf("  Deleting\n");&#10;       rmtree ([$fullPath]);                &#10;    }       &#10;  }                           &#10;} # foreach $dir&#10;&#10;printf("SUMMARY\n");&#10;printf("Total number of jobs:  %d\n", $totalNbJobs);&#10;printf("Total File size:       %s\n", humanSize($totalWksSize));&#10;&#10;exit 0;&#10;&#10;&#10;#############################################################################&#10;#&#10;#  Calculate the size of a directory&#10;#&#10;#############################################################################&#10;sub getDirSize {&#10;  my $dir  = shift;&#10;  my $size = 0;&#10;&#10;  opendir(D,"$dir") || return 0;&#10;  foreach my $dirContent (grep(!/^\.\.?/,readdir(D))) {&#10;     my $st=stat("$dir/$dirContent");&#10;     if (S_ISREG($st-&gt;mode)) {&#10;       $size += $st-&gt;size;&#10;     } elsif (S_ISDIR($st-&gt;mode)) {&#10;       $size += getDirSize("$dir/$dirContent");&#10;     }&#10;}&#10;  closedir(D);&#10;  return $size;&#10;}&#10;&#10;&#10;&#10;$[/myProject/scripts/perlLib]</command>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName>$[resource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>jobCleanup_byResult</procedureName>
      <description>Delete jobs and the associated workspace based on  result: keeping X goods/warning, and Y failed&#10;Report the number of jobs, the disk space and database space that could/was be deleted.</description>
      <jobNameTemplate>$[/myProject/scripts/jobTemplate]</jobNameTemplate>
      <resourceName>local</resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName></workspaceName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>computeDiskUsage</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>delete Aborted Jobs</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>delete Error Jobs</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>delete Successful Jobs</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>deleteAbortedJobs</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>executeDeletion</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>options</propertyName>
                      <propertySheet>
                        <property>
                          <propertyName>option1</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Report</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>false</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option2</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Delete</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>true</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>optionCount</propertyName>
                          <expandable>1</expandable>
                          <value>2</value>
                        </property>
                        <property>
                          <propertyName>type</propertyName>
                          <expandable>1</expandable>
                          <value>list</value>
                        </property>
                      </propertySheet>
                    </property>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>jobLevel</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>options</propertyName>
                      <propertySheet>
                        <property>
                          <propertyName>option1</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Aborted</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>Aborted</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option2</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Error &amp; Aborted</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>Error</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option3</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>All</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>All</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>optionCount</propertyName>
                          <expandable>1</expandable>
                          <value>3</value>
                        </property>
                        <property>
                          <propertyName>type</propertyName>
                          <expandable>1</expandable>
                          <value>list</value>
                        </property>
                      </propertySheet>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>jobProperty</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>nbFailedJobs</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>nbGoodJobs</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>nbWarning</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>nbWarningJobs</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>olderThan</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>options</propertyName>
                      <propertySheet>
                        <property>
                          <propertyName>option1</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>1 month</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>30</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option2</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>2 months</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>60</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option3</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>3 months</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>91</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option4</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>6 months</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>182</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option5</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>1 year</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>365</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option6</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Now</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>0</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>optionCount</propertyName>
                          <expandable>1</expandable>
                          <value>6</value>
                        </property>
                        <property>
                          <propertyName>type</propertyName>
                          <expandable>1</expandable>
                          <value>list</value>
                        </property>
                      </propertySheet>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>skipPlugins</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>ec_parameterForm</propertyName>
          <description>Redefine UI</description>
          <expandable>1</expandable>
          <value>&lt;editor&gt; &#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Delete jobs older than&lt;/label&gt; &#10;        &lt;property&gt;olderThan&lt;/property&gt; &#10;        &lt;documentation&gt;Indicate the numbers of days after which jobs should be deleted&lt;/documentation&gt; &#10;        &lt;type&gt;select&lt;/type&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;Now&lt;/name&gt; &#10;            &lt;value&gt;0&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;1 month&lt;/name&gt; &#10;            &lt;value&gt;30&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;2 months&lt;/name&gt; &#10;            &lt;value&gt;60&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;3 months&lt;/name&gt; &#10;            &lt;value&gt;91&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;6 months&lt;/name&gt; &#10;            &lt;value&gt;182&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;1 year&lt;/name&gt; &#10;            &lt;value&gt;365&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;value&gt;0&lt;/value&gt; &#10;        &lt;required&gt;0&lt;/required&gt;&#10;    &lt;/formElement&gt; &#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Success Jobs&lt;/label&gt;	&#10;        &lt;property&gt;nbGoodJobs&lt;/property&gt;	&#10;        &lt;documentation&gt;The number of successful jobs to preserve per procedure&lt;/documentation&gt; &#10;        &lt;type&gt;entry&lt;/type&gt;	&#10;        &lt;value&gt;5&lt;/value&gt; &#10;        &lt;required&gt;1&lt;/required&gt;&#10;    &lt;/formElement&gt; &#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Warning Jobs&lt;/label&gt; &#10;        &lt;property&gt;nbWarningJobs&lt;/property&gt; &#10;        &lt;documentation&gt;The number of Warning jobs to preserve per procedure&lt;/documentation&gt; &#10;        &lt;type&gt;entry&lt;/type&gt;  &#10;        &lt;value&gt;1&lt;/value&gt; &#10;        &lt;required&gt;1&lt;/required&gt;&#10;    &lt;/formElement&gt; &#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Failed Jobs&lt;/label&gt; &#10;        &lt;property&gt;nbFailedJobs&lt;/property&gt; &#10;        &lt;documentation&gt;The number of failed jobs to preserve per procedure&lt;/documentation&gt; &#10;        &lt;type&gt;entry&lt;/type&gt;  &#10;        &lt;value&gt;5&lt;/value&gt; &#10;        &lt;required&gt;1&lt;/required&gt;&#10;    &lt;/formElement&gt; &#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Job property&lt;/label&gt; &#10;        &lt;property&gt;jobProperty&lt;/property&gt; &#10;        &lt;documentation&gt;Name of a property attached to your jobs. If this property is set, your job won't be deleted.&#10;        &lt;/documentation&gt; &#10;        &lt;type&gt;entry&lt;/type&gt;  &#10;        &lt;value&gt;doNotDelete&lt;/value&gt; &#10;        &lt;required&gt;1&lt;/required&gt;&#10;    &lt;/formElement&gt; &#10;&#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Delete&lt;/label&gt;	&#10;        &lt;property&gt;executeDeletion&lt;/property&gt; &#10;        &lt;documentation&gt;If this option is not set, only report is done. No real data are deleted&lt;/documentation&gt; &#10;        &lt;type&gt;select&lt;/type&gt;	&#10;        &lt;option&gt; &#10;            &lt;name&gt;Report&lt;/name&gt; &#10;            &lt;value&gt;false&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;Delete&lt;/name&gt; &#10;            &lt;value&gt;true&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;value&gt;false&lt;/value&gt;	&#10;    &lt;/formElement&gt; &#10;&#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Compute Disk Usage&lt;/label&gt;    &#10;        &lt;property&gt;computeDiskUsage&lt;/property&gt; &#10;        &lt;documentation&gt;Check off to skip the computation of file space used for the job. This will speed up the job.&lt;/documentation&gt; &#10;        &lt;type&gt;checkbox&lt;/type&gt;    &#10;        &lt;checkedValue&gt;true&lt;/checkedValue&gt; &#10;        &lt;uncheckedValue&gt;false&lt;/uncheckedValue&gt; &#10;        &lt;initiallyChecked&gt;1&lt;/initiallyChecked&gt; &#10;        &lt;value&gt;true&lt;/value&gt;    &#10;    &lt;/formElement&gt; &#10;&#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Skip plugins&lt;/label&gt;	&#10;        &lt;property&gt;skipPlugins&lt;/property&gt; &#10;        &lt;documentation&gt;A boolean to indicate to skip plugin projects or not&lt;/documentation&gt; &#10;        &lt;type&gt;checkbox&lt;/type&gt;	&#10;        &lt;checkedValue&gt;true&lt;/checkedValue&gt; &#10;        &lt;uncheckedValue&gt;false&lt;/uncheckedValue&gt; &#10;        &lt;initiallyChecked&gt;1&lt;/initiallyChecked&gt; &#10;        &lt;value&gt;true&lt;/value&gt;	&#10;    &lt;/formElement&gt;&#10;&lt;/editor&gt; </value>
        </property>
        <property>
          <propertyName>exposeToPlugin</propertyName>
          <description>So the procedure is shown in the pickerList</description>
          <expandable>1</expandable>
          <value>1</value>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>computeDiskUsage</formalParameterName>
        <defaultValue>true</defaultValue>
        <description>Crawl the workspace job directory to compute the disk space used. Unchecking it will speed runtime.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>executeDeletion</formalParameterName>
        <defaultValue>false</defaultValue>
        <description>If this option is not set, only report is done. No real data are deleted</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>select</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>jobProperty</formalParameterName>
        <defaultValue>doNotDelete</defaultValue>
        <description>Name of a property attached to your jobs. If this property is set, your job won't be deleted.&#10;</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>nbFailedJobs</formalParameterName>
        <defaultValue>3</defaultValue>
        <description>number of failed jobs to preserve</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>nbGoodJobs</formalParameterName>
        <defaultValue>5</defaultValue>
        <description>Number of good jobs to keep. Warning is considered good.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>nbWarningJobs</formalParameterName>
        <defaultValue>0</defaultValue>
        <description>Number of Warning jobs to keep</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>olderThan</formalParameterName>
        <defaultValue>0</defaultValue>
        <description>Indicate the numbers of days after which jobs should be deleted</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>select</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>skipPlugins</formalParameterName>
        <defaultValue>true</defaultValue>
        <description>A boolean to indicate to skip plugin projects or not</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <step>
        <stepName>deleteJobs.byProject</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>#############################################################################&#10;#&#10;#  deleteJobs_byResult -- Script to delete jobs and workspaces keeping&#10;#                         some good and failed ones.&#10;#  Copyright 2013 Electric-Cloud Inc.&#10;#&#10;#############################################################################&#10;&#10;#&#10;# Perl Commander Header&#10;$[/myProject/scripts/perlHeader]&#10;use File::Path;&#10;use File::stat;&#10;use Fcntl ':mode';&#10;use DateTime;&#10;&#10;#&#10;# Perl Commander library&#10;$[/myProject/scripts/perlLib]&#10;&#10;#############################################################################&#10;#&#10;#  Assign Commander parameters to variables&#10;#&#10;#############################################################################&#10;my $jobProperty     = "$[jobProperty]";&#10;my $executeDeletion = "$[executeDeletion]";&#10;my $nbGood          =  $[nbGoodJobs];&#10;my $nbFail          =  $[nbFailedJobs];&#10;my $nbWarn          =  $[nbWarningJobs];&#10;my $skipPluginBool  = "$[skipPlugins]";&#10;my $timeLimit       =  $[olderThan];&#10;my $computeDiskUsage= "$[computeDiskUsage]";&#10;&#10;#############################################################################&#10;#&#10;#  Global Variables&#10;#&#10;#############################################################################&#10;my $version="1.0";&#10;my $totalWksSize=0;          # Size of workspace files&#10;my $totalNbJobs=0;           # Number of jobs to delete potentially&#10;my $totalNbSteps=0;          # Number of steps to evaluate DB size&#10;my $DBStepSize=10240;        # Step is about 10K in DB&#10;&#10;my $procGood=0;				 # Number of good jobs in the procedure kept&#10;my $procFailed=0;		     # Number of failed jobs in the procedure kept&#10;my $procWarning=0;		     # Number of warning jobs in the procedure kept&#10;&#10;$DEBUG=0;&#10;&#10;#############################################################################&#10;#&#10;#  Main&#10;#&#10;#############################################################################&#10;printf("%s jobs older than $timeLimit days (%s)  based on results.\n", &#10;    $executeDeletion eq "true"?"Deleting":"Reporting",&#10;    calculateDate($timeLimit));&#10;printf("  Preserving %d GOOD    jobs\n", $nbGood);&#10;printf("  Preserving %d WARNING jobs\n", $nbWarn);&#10;printf("  Preserving %d FAIL    jobs\n\n", $nbFail);&#10;&#10;&#10;#&#10;# Loop over each project &#10;#&#10;my ($success, $pjPath) = InvokeCommander("SuppressLog", "getProjects");&#10;my $projSet = $pjPath-&gt;find('//project');&#10;foreach my $pjNode ($projSet-&gt;get_nodelist) {&#10;  my $projName  =$pjPath-&gt;findvalue('projectName', $pjNode);&#10;  my $pluginName=$pjPath-&gt;findvalue('pluginName',  $pjNode);&#10;  &#10;  # skip plugins if Boolean is set&#10;  next if (($pluginName ne "") &amp;&amp; ($skipPluginBool eq "true"));&#10;&#10;  printf("Project: %s\n", $projName);&#10;  my $previousProcName="";&#10;&#10;  # create filterList&#10;  my @filterList;&#10;&#10;  # only finished jobs&#10;  push (@filterList, {"propertyName" =&gt; "status",&#10;                      "operator" =&gt; "equals",&#10;                      "operand1" =&gt; "completed"});&#10;  # older than&#10;  push (@filterList, {"propertyName" =&gt; "finish",&#10;                    "operator" =&gt; "lessThan",&#10;                    "operand1" =&gt; calculateDate($timeLimit)});&#10;  # jobs of a specific project&#10;  push (@filterList, {"propertyName" =&gt; "projectName",&#10;                      "operator" =&gt; "equals",&#10;                      "operand1" =&gt; $projName});&#10;  # do not have specific job property&#10;  push (@filterList, {"propertyName" =&gt; $jobProperty,&#10;                        "operator" =&gt; "isNull"});&#10;&#10;  # Getting the list sorted by procedure&#10;  # then by date (or jobId)&#10;  my ($success, $xPath) = InvokeCommander("SuppressLog", "findObjects", "job",&#10;                                            {maxIds =&gt; 5000,&#10;                                             filter =&gt; \@filterList ,&#10;                                             sort =&gt; [ {propertyName =&gt; "procedureName",&#10;                                                        order =&gt; "ascending"} ,&#10;                                                       {propertyName =&gt; "jobId",&#10;                                                        order =&gt; "descending"} ]});&#10;&#10;  # Loop over all returned jobs&#10;  my $nodeset = $xPath-&gt;find('//job');&#10;  foreach my $node ($nodeset-&gt;get_nodelist) {&#10;    my $wksSize;&#10;&#10;    my $jobId     = $xPath-&gt;findvalue('jobId',   $node);&#10;    my $jobName   = $xPath-&gt;findvalue('jobName', $node);&#10;    my $jobOutcome= $xPath-&gt;findvalue('outcome', $node);&#10;    my $jobProcedure=$xPath-&gt;findvalue('procedureName', $node);&#10;    if ($jobProcedure ne $previousProcName) {&#10;      $previousProcName=$jobProcedure;&#10;      $procGood=0;&#10;      $procFailed=0;&#10;      $procWarning=0;&#10;      my $displayName=$jobProcedure;&#10;      # transforn procedure name to standard PROJ:PROC string&#10;      if ($displayName =~ m#/projects/([^/]+)/procedures/([^/]+)#) {&#10;        $displayName="$1:$2";&#10;      }&#10;      print "  Procedure: $displayName\n";    &#10;    }&#10;    print "    Job: $jobName\n";&#10;      &#10;    # Skiping over X GOOD and Y BAD&#10;    if (($procGood &lt; $nbGood) &amp;&amp; ($jobOutcome eq "success")) {&#10;      printf ("      Preserving job (GOOD)\n");&#10;      $procGood++;&#10;      next;&#10;    }&#10;    if (($procWarning &lt; $nbWarn) &amp;&amp; ($jobOutcome eq "warning")) {&#10;      printf ("      Preserving job (WARNING)\n");&#10;      $procWarning++;&#10;      next;&#10;    }&#10;    if (($procFailed &lt; $nbFail) &amp;&amp; ($jobOutcome eq "error")) {&#10;      printf ("      Preserving job (ERROR)\n");&#10;      $procFailed++;&#10;      next;&#10;    }&#10;&#10;    $totalNbJobs++;&#10;&#10;    #&#10;    # Find number of steps for the jobs&#10;    my ($success, $xPath) = InvokeCommander("SuppressLog", "findJobSteps", &#10;                    {'jobId' =&gt; $jobId});&#10;    my $nbSteps=scalar($xPath-&gt;findnodes('//object')-&gt;get_nodelist);&#10;    $totalNbSteps += $nbSteps;&#10;    printf("      Job steps:\t%d\n", $nbSteps) if ($DEBUG);&#10;&#10;    #  Find the workspaces (there may be more than one if some steps&#10;    #  were configured to use a different workspace)&#10;    my ($success, $xPath) = InvokeCommander("SuppressLog", "getJobInfo",&#10;                                               $jobId);&#10;    my $wsNodeset = $xPath-&gt;find('//job/workspace');&#10;    foreach my $wsNode ($wsNodeset-&gt;get_nodelist) {&#10;      my $workspace;&#10;      if ($osIsWindows) {&#10;        $workspace = $xPath-&gt;findvalue('./winUNC', $wsNode);&#10;        $workspace =~ s'/'\\'g;&#10;      } else {&#10;        $workspace = $xPath-&gt;findvalue('./unix', $wsNode);&#10;      }&#10;&#10;      print "      Workspace:\t$workspace\n" if (($workspace ne "") &amp;&amp;  ($DEBUG));&#10;&#10;      if ($computeDiskUsage eq "true") {&#10;        $wksSize = getDirSize($workspace);&#10;        printf ("        Size:\t%s\n", humanSize($wksSize)) if ($DEBUG);&#10;        $totalWksSize += $wksSize;&#10;      }&#10;      if ($executeDeletion eq "true") {&#10;        rmtree ([$workspace])  ;&#10;        print "        Deleting Workspace\n" if ($DEBUG);&#10;      }&#10;    }&#10;&#10;    # Delete the job&#10;&#10;    if ($executeDeletion eq "true") {&#10;      InvokeCommander("SuppressLog", "deleteJob", $jobId) ;&#10;      print "      Deleting Job\n\n";&#10;    } &#10;  } #job loop&#10;} #project loop&#10;&#10;printf("\nSUMMARY:\n");&#10;printf("Total number of jobs:  %d\n", $totalNbJobs);&#10;printf("Total File size:       %s\n", humanSize($totalWksSize))  if ($computeDiskUsage eq "true");&#10;printf("Total number of steps: %d\n", $totalNbSteps);&#10;printf("Total Database size:   %s\n", humanSize($totalNbSteps * $DBStepSize));&#10;&#10;$ec-&gt;setProperty("/myJob/numberOfJobs", $totalNbJobs);&#10;$ec-&gt;setProperty("/myJob/diskSpace", $totalWksSize) if ($computeDiskUsage eq "true");&#10;$ec-&gt;setProperty("/myJob/numbernumberOfSteps", $totalNbSteps);&#10;&#10;$ec-&gt;setProperty("summary", $totalNbJobs . " jobs deleted" ) if ($executeDeletion eq "true");&#10;&#10;exit(0);&#10;&#10;&#10;#############################################################################&#10;#&#10;#  Calculate the size of the workspace directory&#10;#&#10;#############################################################################&#10;sub getDirSize {&#10;  my $dir  = shift;&#10;  my $size = 0;&#10;&#10;  opendir(D,"$dir") || return 0;&#10;  foreach my $dirContent (grep(!/^\.\.?/,readdir(D))) {&#10;     my $st=stat("$dir/$dirContent");&#10;     if (S_ISREG($st-&gt;mode)) {&#10;       $size += $st-&gt;size;&#10;     } elsif (S_ISDIR($st-&gt;mode)) {&#10;       $size += getDirSize("$dir/$dirContent");&#10;     }&#10;  }&#10;  closedir(D);&#10;  return $size;&#10;}&#10;&#10;&#10;#############################################################################&#10;#&#10;#  Calculate the Date based on now and the number of days required by&#10;#  the user before deleting jobs&#10;#&#10;#############################################################################&#10;sub calculateDate {&#10;    my $nbDays=shift;&#10;    return DateTime-&gt;now()-&gt;subtract(days =&gt; $nbDays)-&gt;iso8601() . ".000Z";&#10;}&#10;</command>
        <condition></condition>
        <description>Script to delete all jobs and workspaces associated to a project&#10;It includes CI and workflows jobs.</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>jobsCleanup</procedureName>
      <description>Delete jobs older than a number of days, along with the associated workspace.&#10;Report the number of jobs, the disk space and database space that could/was be deleted.&#10;&#10;Changelog:&#10;--------------&#10;09-20-2013  lrochette    Rewritten using JSON to increase performance&#10;                                       Paramater is also now used to skip number of steps computation&#10; 09-12-2013  lrochette   Add a parameter to skip the computation of the disk space used; to speed up the job</description>
      <jobNameTemplate>$[/myProject/scripts/jobTemplate]</jobNameTemplate>
      <resourceName>local</resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName></workspaceName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>computeDiskUsage</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>computeUsage</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>delete Aborted Jobs</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>delete Error Jobs</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>delete Successful Jobs</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>deleteAbortedJobs</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>executeDeletion</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>options</propertyName>
                      <propertySheet>
                        <property>
                          <propertyName>option1</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Report</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>false</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option2</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Delete</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>true</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>optionCount</propertyName>
                          <expandable>1</expandable>
                          <value>2</value>
                        </property>
                        <property>
                          <propertyName>type</propertyName>
                          <expandable>1</expandable>
                          <value>list</value>
                        </property>
                      </propertySheet>
                    </property>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>jobLevel</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>options</propertyName>
                      <propertySheet>
                        <property>
                          <propertyName>option1</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Aborted</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>Aborted</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option2</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Error &amp; Aborted</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>Error</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option3</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>All</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>All</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>optionCount</propertyName>
                          <expandable>1</expandable>
                          <value>3</value>
                        </property>
                        <property>
                          <propertyName>type</propertyName>
                          <expandable>1</expandable>
                          <value>list</value>
                        </property>
                      </propertySheet>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>jobPatternMatching</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>jobProperty</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>olderThan</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>options</propertyName>
                      <propertySheet>
                        <property>
                          <propertyName>option1</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>1 month</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>30</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option2</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>2 months</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>60</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option3</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>3 months</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>91</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option4</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>6 months</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>182</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option5</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>1 year</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>365</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>optionCount</propertyName>
                          <expandable>1</expandable>
                          <value>5</value>
                        </property>
                        <property>
                          <propertyName>type</propertyName>
                          <expandable>1</expandable>
                          <value>list</value>
                        </property>
                      </propertySheet>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>descriptionForPlugin</propertyName>
          <description></description>
          <expandable>1</expandable>
          <value>Delete jobs older than a number of days, along with the associated workspace.</value>
        </property>
        <property>
          <propertyName>ec_parameterForm</propertyName>
          <description>Redefine UI</description>
          <expandable>1</expandable>
          <value>&lt;editor&gt; &#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Delete jobs older than&lt;/label&gt;    &#10;        &lt;property&gt;olderThan&lt;/property&gt;    &#10;        &lt;documentation&gt;Indicate the numbers of days after which jobs should be deleted&lt;/documentation&gt; &#10;        &lt;type&gt;select&lt;/type&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;1 month&lt;/name&gt; &#10;            &lt;value&gt;30&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;2 months&lt;/name&gt; &#10;            &lt;value&gt;60&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;3 months&lt;/name&gt; &#10;            &lt;value&gt;91&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;6 months&lt;/name&gt; &#10;            &lt;value&gt;182&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;1 year&lt;/name&gt; &#10;            &lt;value&gt;365&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;value&gt;91&lt;/value&gt;  &#10;        &lt;required&gt;1&lt;/required&gt;&#10;    &lt;/formElement&gt; &#10;&#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Type of jobs to delete&lt;/label&gt;    &#10;        &lt;property&gt;jobLevel&lt;/property&gt;    &#10;        &lt;documentation&gt;define what jobs you want to delete: Aborted, Error, All&lt;/documentation&gt; &#10;        &lt;type&gt;select&lt;/type&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;Aborted&lt;/name&gt; &#10;            &lt;value&gt;Aborted&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;Error and Aborted&lt;/name&gt; &#10;            &lt;value&gt;Error&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;All&lt;/name&gt; &#10;            &lt;value&gt;All&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;value&gt;Aborted&lt;/value&gt;  &#10;        &lt;required&gt;1&lt;/required&gt;&#10;    &lt;/formElement&gt; &#10;&#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Job property&lt;/label&gt; &#10;        &lt;property&gt;jobProperty&lt;/property&gt; &#10;        &lt;documentation&gt;Name of a property attached to your jobs. If this property is set, your job won't be deleted.&#10;        &lt;/documentation&gt; &#10;        &lt;type&gt;entry&lt;/type&gt; &#10;        &lt;value&gt;doNotDelete&lt;/value&gt; &#10;        &lt;required&gt;1&lt;/required&gt;&#10;    &lt;/formElement&gt; &#10;&#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Pattern matching&lt;/label&gt; &#10;        &lt;property&gt;jobPatternMatching&lt;/property&gt; &#10;        &lt;documentation&gt;a SQL pattern matching to automatically preserve some jobs. The pattern must solve for a LIKE statement.&lt;/documentation&gt; &#10;        &lt;type&gt;entry&lt;/type&gt;&#10;    &lt;/formElement&gt; &#10;&#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Delete&lt;/label&gt;    &#10;        &lt;property&gt;executeDeletion&lt;/property&gt; &#10;        &lt;documentation&gt;If this option is not set, only report is done. No real data are deleted&lt;/documentation&gt; &#10;        &lt;type&gt;select&lt;/type&gt;    &#10;        &lt;option&gt; &#10;            &lt;name&gt;Report&lt;/name&gt; &#10;            &lt;value&gt;false&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;Delete&lt;/name&gt; &#10;            &lt;value&gt;true&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;value&gt;false&lt;/value&gt;    &#10;    &lt;/formElement&gt; &#10;&#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Compute Usage&lt;/label&gt;	&#10;        &lt;property&gt;computeUsage&lt;/property&gt; &#10;        &lt;documentation&gt;Check off to skip the computation of the number of steps and the file space used for the job. This will speed up the execution.&lt;/documentation&gt; &#10;        &lt;type&gt;checkbox&lt;/type&gt;	&#10;        &lt;checkedValue&gt;true&lt;/checkedValue&gt; &#10;        &lt;uncheckedValue&gt;false&lt;/uncheckedValue&gt; &#10;        &lt;initiallyChecked&gt;1&lt;/initiallyChecked&gt; &#10;        &lt;value&gt;true&lt;/value&gt;	&#10;    &lt;/formElement&gt; &#10;&#10;&lt;/editor&gt;</value>
        </property>
        <property>
          <propertyName>exposeToPlugin</propertyName>
          <description>So the procedure is shown in the pickerList</description>
          <expandable>1</expandable>
          <value>1</value>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>computeUsage</formalParameterName>
        <defaultValue>true</defaultValue>
        <description>Crawl the workspace job directory and the number of steps to compute the space use. Unchecking it will speed runtime.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>executeDeletion</formalParameterName>
        <defaultValue>false</defaultValue>
        <description>If this option is not set, only report is done. No real data are deleted</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>select</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>jobLevel</formalParameterName>
        <defaultValue>Aborted</defaultValue>
        <description>define what jobs you want to delete: Aborted, Error, All</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>select</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>jobPatternMatching</formalParameterName>
        <defaultValue></defaultValue>
        <description>a SQL pattern matching to automatically preserve some jobs. The pattern must solve for a LIKE statement.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>jobProperty</formalParameterName>
        <defaultValue>doNotDelete</defaultValue>
        <description>Name of a property attached to your jobs. If this property is set, your job won't be deleted no matter how old it is.&#10;</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>olderThan</formalParameterName>
        <defaultValue>91</defaultValue>
        <description>Indicate the numbers of days after which jobs should be deleted</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>select</type>
      </formalParameter>
      <step>
        <stepName>deleteJobs</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>#############################################################################&#10;#&#10;#  deleteJobs -- Script to delete jobs and workspaces&#10;#  Copyright 2013 Electric-Cloud Inc.&#10;#&#10;#############################################################################&#10;&#10;#&#10;# Perl Commander Header&#10;$[/myProject/scripts/perlHeaderJSON]&#10;use File::Path;&#10;use File::stat;&#10;use Fcntl ':mode';&#10;use DateTime;&#10;&#10;#&#10;# Perl Commander library&#10;$[/myProject/scripts/perlLibJSON]&#10;&#10;#############################################################################&#10;#&#10;#  Assign Commander parameters to variables&#10;#&#10;#############################################################################&#10;my $jobProperty     = "$[jobProperty]";&#10;my $timeLimit       =  $[olderThan];&#10;my $executeDeletion = "$[executeDeletion]";&#10;my $jobLevel        = "$[jobLevel]";&#10;my $jobPattern      = "$[jobPatternMatching]"; &#10;my $computeUsage    = "$[computeUsage]";&#10;&#10;#############################################################################&#10;#&#10;#  Global Variables&#10;#&#10;#############################################################################&#10;my $version="1.0";&#10;my $totalWksSize=0;          # Size of workspace files&#10;my $totalNbJobs=0;           # Number of jobs to delete potentially&#10;my $totalNbSteps=0;          # Number of steps to evaluate DB size&#10;my $DBStepSize=10240;        # Step is about 10K in DB&#10;&#10;my $MAXJOBS=5000;            # Limiting the number of Objects returned&#10;my $nbObjs;                  # Number of Objects returned&#10;&#10;#############################################################################&#10;#&#10;#  Main&#10;#&#10;#############################################################################&#10;&#10;printf("%s jobs older than $timeLimit days (%s).\n", &#10;    $executeDeletion eq "true"?"Deleting":"Reporting", &#10;    calculateDate($timeLimit));&#10;printf("  Skipping over \"%s\" jobs.\n\n", $jobPattern) if ($jobPattern ne "");&#10;&#10;# create filterList&#10;my @filterList;&#10;# only finished jobs&#10;push (@filterList, {"propertyName" =&gt; "status",&#10;                    "operator" =&gt; "equals",&#10;                    "operand1" =&gt; "completed"});&#10;# older than&#10;push (@filterList, {"propertyName" =&gt; "finish",&#10;                    "operator" =&gt; "lessThan",&#10;                    "operand1" =&gt; calculateDate($timeLimit)});&#10;# do not have specific job property&#10;push (@filterList, {"propertyName" =&gt; $jobProperty,&#10;                    "operator" =&gt; "isNull"});&#10;# job pattern does not match&#10;if ($jobPattern ne "") {&#10;  push (@filterList, {"propertyName" =&gt; "jobName",&#10;                      "operator" =&gt; "notLike",&#10;                      "operand1" =&gt; $jobPattern});&#10;}              &#10;# check for jobLevel&#10;if ($jobLevel eq "Aborted") {&#10;  push (@filterList, {"propertyName" =&gt; "abortStatus",&#10;                      "operator" =&gt; "equals",&#10;                      "operand1" =&gt; "FORCE_ABORT"});&#10;} elsif ($jobLevel eq "Error") {&#10;  push (@filterList, {"propertyName" =&gt; "outcome",&#10;                       "operator" =&gt; "equals",&#10;                       "operand1" =&gt; "error"});&#10;}&#10;&#10;do {&#10;  my ($success, $xPath) = InvokeCommander("SuppressLog", "findObjects", "job",&#10;                                        {maxIds =&gt; $MAXJOBS, &#10;                                         numObjects =&gt; $MAXJOBS,&#10;                                         filter =&gt; \@filterList ,&#10;                                         sort =&gt; [ {propertyName =&gt; "finish",&#10;                                                    order =&gt; "ascending"} ]});&#10;&#10;  # Loop over all returned jobs&#10;  my @nodeset=$xPath-&gt;findnodes('//job');&#10;  $nbObjs=scalar(@nodeset);&#10;  printf("Search Status:\t$success. %s objects returned\n", $nbObjs);&#10;  &#10;  foreach my $node (@nodeset) {&#10;        $totalNbJobs++;&#10;        my $wksSize;&#10;&#10;        my $jobId   = $node-&gt;{'jobId'};&#10;        my $jobName = $node-&gt;{'jobName'};&#10;&#10;        print "Job: $jobName\n";&#10;&#10;        #&#10;        # Find abort status and outcome&#10;        if ($node-&gt;{'abortStatus'} eq "FORCE_ABORT") {&#10;          printf("  Outcome:\tAborted\n");&#10;        } else {&#10;        printf("  Outcome:\t%s\n", $node-&gt;{'outcome'});&#10;        }&#10;        #&#10;        # Find number of steps for the jobs&#10;        if ($computeUsage eq "true") {&#10;          my ($success, $xPath) = InvokeCommander("SuppressLog", "findJobSteps", &#10;                      {'jobId' =&gt; $jobId});&#10;          my $nbSteps=scalar($xPath-&gt;findnodes('//object'));&#10;          $totalNbSteps += $nbSteps;&#10;          printf("  Job steps:\t%d\n", $nbSteps);&#10;        }&#10;        #  Find the workspaces (there may be more than one if some steps&#10;        #  were configured to use a different workspace)&#10;        my ($success, $xPath) = InvokeCommander("SuppressLog", "getJobInfo",&#10;                                                 $jobId);&#10;        foreach my $wsNode ($xPath-&gt;findnodes('//job/workspace')) {&#10;            my $workspace;&#10;            if ($osIsWindows) {&#10;                $workspace = $wsNode-&gt;{'winUNC'};&#10;                $workspace =~ s'/'\\'g;&#10;            } else {&#10;                $workspace = $wsNode-&gt;{'unix'};&#10;            }&#10;&#10;            print "  Workspace:\t$workspace\n" if ($workspace ne "");&#10;&#10;            if ($computeUsage eq "true") {&#10;              $wksSize = getDirSize($workspace);&#10;              printf ("    Size:\t%s\n", humanSize($wksSize));&#10;              $totalWksSize += $wksSize;&#10;            }&#10;            if ($executeDeletion eq "true") {&#10;               rmtree ([$workspace])  ;&#10;               print "    Deleting Workspace\n";&#10;            }&#10;        }&#10;&#10;        # Delete the job&#10;&#10;        if ($executeDeletion eq "true") {&#10;            InvokeCommander("SuppressLog", "deleteJob", $jobId) ;&#10;            print "  Deleting Job\n\n";&#10;        } &#10;  }  # End for loop&#10;} while (($executeDeletion eq "true") &amp;&amp; ($nbObjs == $MAXJOBS));&#10;&#10;printf("\nSUMMARY:\n");&#10;printf("Total number of jobs:  %d\n", $totalNbJobs);&#10;$ec-&gt;setProperty("/myJob/numberOfJobs", $totalNbJobs);&#10;&#10;if ($totalNbJobs == $MAXJOBS) {&#10;  printf("There are potentially more jobs to access. Click Run again!\n");&#10;  $ec-&gt;setProperty("summary", $totalNbJobs . " jobs deleted. RUN AGAIN!" ) if ($executeDeletion eq "true");&#10;} else {&#10;  $ec-&gt;setProperty("summary", $totalNbJobs . " jobs deleted" ) if ($executeDeletion eq "true");&#10;}&#10;if ($computeUsage eq "true") {&#10;  printf("Total File size:       %s\n", humanSize($totalWksSize));&#10;  $ec-&gt;setProperty("/myJob/diskSpace", $totalWksSize);&#10;  printf("Total number of steps: %d\n", $totalNbSteps);&#10;  printf("Total Database size:   %s\n", humanSize($totalNbSteps * $DBStepSize));&#10;  $ec-&gt;setProperty("/myJob/numbernumberOfSteps", $totalNbSteps);&#10;}&#10;&#10;&#10;exit(0);&#10;&#10;&#10;#############################################################################&#10;#&#10;#  Calculate the Date based on now and the number of days required by&#10;#  the user before deleting jobs&#10;#&#10;#############################################################################&#10;sub calculateDate {&#10;    my $nbDays=shift;&#10;    return DateTime-&gt;now()-&gt;subtract(days =&gt; $nbDays)-&gt;iso8601() . ".000Z";&#10;}&#10;&#10;&#10;#############################################################################&#10;#&#10;#  Calculate the size of the workspace directory&#10;#&#10;#############################################################################&#10;sub getDirSize {&#10;  my $dir  = shift;&#10;  my $size = 0;&#10;&#10;  opendir(D,"$dir") || return 0;&#10;  foreach my $dirContent (grep(!/^\.\.?/,readdir(D))) {&#10;     my $st=stat("$dir/$dirContent");&#10;     if (S_ISREG($st-&gt;mode)) {&#10;       $size += $st-&gt;size;&#10;     } elsif (S_ISDIR($st-&gt;mode)) {&#10;       $size += getDirSize("$dir/$dirContent");&#10;     }&#10;  }&#10;  closedir(D);&#10;  return $size;&#10;}&#10;</command>
        <condition></condition>
        <description>Script to delete jobs and workspaces</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>performanceMetrics</procedureName>
      <description>Performance diagnostics for EC server and agents&#10;&#10;Changelog:&#10;--------------&#10; 08-09-2013  lrochette    Fixed bug on Free available RAM with European numbers&#10; 08-30-2013  lrochette    Added fsutil error management &#10; 08-30-2013  lrochette    Added a cleanup step for the disk performance temporary file&#10; 12-21-2013  lrochette    Added license usage information&#10; 04-16-2014  lrochette    Fixed subprocedure call to myProject instead of a fixed call&#10; 04-18-2014  lrochette    Fixed with resource default  workspace not being used in dynamic steps</description>
      <jobNameTemplate>$[/myProject/scripts/jobTemplate]</jobNameTemplate>
      <resourceName></resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName></workspaceName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>debugMode</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>nbJobSteps</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>numberOfGB</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>options</propertyName>
                      <propertySheet>
                        <property>
                          <propertyName>option1</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>1 GB</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>1</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option2</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>5 GB</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>5</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option3</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>10 GB</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>10</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option4</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>20 GB</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>20</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>optionCount</propertyName>
                          <expandable>1</expandable>
                          <value>4</value>
                        </property>
                        <property>
                          <propertyName>type</propertyName>
                          <expandable>1</expandable>
                          <value>list</value>
                        </property>
                      </propertySheet>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>numberOfJobSteps</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>numberOfSteps</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>descriptionForPlugin</propertyName>
          <description></description>
          <expandable>1</expandable>
          <value>Performance diagnostics for EC server and agents.</value>
        </property>
        <property>
          <propertyName>exposeToPlugin</propertyName>
          <description>So the procedure is shown in the pickerList</description>
          <expandable>1</expandable>
          <value>1</value>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>debugMode</formalParameterName>
        <defaultValue>0</defaultValue>
        <description>debug Mode</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>numberOfGB</formalParameterName>
        <defaultValue>1</defaultValue>
        <description>Indicate the numbers of GB of data you can write in your workspace to test disk performance</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>select</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>numberOfJobSteps</formalParameterName>
        <defaultValue>5000</defaultValue>
        <description>The number of job steps to evaluate for the localUsage</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>numberOfSteps</formalParameterName>
        <defaultValue>500</defaultValue>
        <description>Number of Steps to create for the Database Performance</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>Server RAM Amount</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>$[/myProject/performances/scripts/perf.pm]&#10;&#10;#&#10;# Param&#10;#&#10;$DEBUG=$[debugMode];&#10;&#10;my $RAM=0;     # Amount of RAM in GB&#10;if ($OSNAME =~ /MSWin/) {&#10;  $RAM=`wmic OS get TotalVisibleMemorySize /Value`;&#10;  chomp $RAM;&#10;  $RAM =~ s/TotalVisibleMemorySize=(\d+)/$1/m;&#10;  $RAM = int($RAM);&#10;  printf("RAM amount: %d\n", $RAM) if ($DEBUG);&#10;  $RAM /= 1048576;  &#10;} elsif ($OSNAME eq "linux") {&#10;  $RAM=`cat /proc/meminfo | grep MemTotal | awk '{print \$2}'`;&#10;  chomp $RAM;&#10;  printf("RAM amount: %d\n", $RAM) if ($DEBUG);&#10;   $RAM /= 1048576;&#10;}  else {&#10;  printf ("OS: %s not supported for Commander Server\n", $OSNAME); &#10;  exit(2);&#10;}&#10;&#10;#&#10;# &#10;#&#10;if ($RAM == 0) {&#10;  printf ("Error getting the RAM amount on %s\n", $OSNAME);&#10;  exit(2);&#10;}&#10;&#10;my $str=sprintf("%3.1f GB\n", $RAM);&#10;printf("RAM amount: $str\n");&#10;checkValue("RAM", $RAM, $str);&#10;</command>
        <condition></condition>
        <description>Check the amount of memory for the EC server&#10;Default values:&#10;Bad: &lt; 8 GB&#10;Good: Between 8 and 12 GB&#10;Best: More than 12 GB</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName>local</resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>Free RAM</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>$[/myProject/performances/scripts/perf.pm]&#10;&#10;#&#10;# Param&#10;#&#10;$DEBUG=$[debugMode];&#10;&#10;my $freeRAM=0;     # Amount of RAM in GB&#10;if ($OSNAME =~ /MSWin/) {&#10;  $freeRAM=`systeminfo | find "Available Physical Memory"`;&#10;  chomp $freeRAM;&#10;  printf("free RAM amount: %s\n", $freeRAM) if ($DEBUG);&#10;  # Available Physical Memory: 4,948 MB   or 4,948 in Europe&#10;  $freeRAM =~ s/Available Physical Memory:\s+([\d,.]+) MB/$1/m;&#10;  $freeRAM =~ s/,//;&#10;  printf("RAM amount: %d\n", $freeRAM) if ($DEBUG);&#10;} elsif ($OSNAME eq "linux") {&#10;  $freeRAM=`/usr/bin/free -m | grep "cache:" | awk '{print \$3}'`;&#10;  chomp $freeRAM;&#10;  printf("free RAM amount: %d\n", $freeRAM) if ($DEBUG);&#10;  $freeRAM /= 1024&#10;}  else {&#10;  printf ("OS: %s not supported for Commander Server\n", $OSNAME); &#10;  exit(2);&#10;}&#10;&#10;#&#10;# &#10;#&#10;if ($freeRAM == 0) {&#10;  printf ("Error getting the RAM amount on %s\n", $OSNAME);&#10;  exit(2);&#10;}&#10;&#10;my $str=sprintf("%3.1f MB\n", $freeRAM);&#10;printf("RAM amount: $str\n");&#10;InvokeCommander("SuppressLog", "setProperty", "summary", $str);&#10;&#10;</command>
        <condition></condition>
        <description>Check the amount of  free memory for the EC server&#10;Information only</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName>local</resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>Disk Space Available</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>$[/myProject/performances/scripts/perf.pm]&#10;&#10;#&#10;# Param&#10;#&#10;$DEBUG=$[debugMode];&#10;&#10;my $freeDisk=0;     # Amount of available disk on the Data partition&#10;my $diskPartition="$[/server/Electric Cloud/dataDirectory]";&#10;&#10;if ($OSNAME =~ /MSWin/) {&#10;  my $drive=substr($diskPartition,0,2);&#10;  printf("Drive:'%s'\n", $drive);&#10;  system('fsutil volume diskfree $drive 2&gt;&amp;1') if ($DEBUG);&#10;  $freeDisk=`fsutil volume diskfree $drive 2&gt;&amp;1`; # | find "avail free"&#10;  chomp $freeDisk;&#10;  if ($freeDisk =~ /avail free/) {&#10;    $freeDisk =~ m/avail free bytes\s+:\s*(\d+)/;&#10;    printf("free Disk Space for %s: %s\n", $diskPartition, $freeDisk) if ($DEBUG);&#10;    $freeDisk=humanSize($freeDisk); &#10;  } else {&#10;    printf("Error:\n$freeDisk\n");&#10;    InvokeCommander("SuppressLog", "setProperty", "summary", $freeDisk);&#10;    exit(1);&#10;  }&#10;} elsif ($OSNAME eq "linux") {&#10;  $freeDisk=`/bin/df -h $diskPartition | tail -1 | awk '{print \$4}'`;&#10;  chomp $freeDisk;&#10;  # Make the unit  as the other ones&#10;  $freeDisk =~ s/G/ GB/;&#10;  $freeDisk =~ s/M/ MB/;&#10;  printf("free Disk Space for %s: %s\n", $diskPartition, $freeDisk) if ($DEBUG);&#10;}  else {&#10;  printf ("OS: %s not supported for Commander Server\n", $OSNAME); &#10;  exit(2);&#10;}&#10;&#10;printf("Disk space available: %s\n", $freeDisk);&#10;InvokeCommander("SuppressLog", "setProperty", "summary", $freeDisk);&#10;&#10;</command>
        <condition></condition>
        <description>Check the amount of  available disk space for the EC server&#10;Information only</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName>local</resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>Java Heap</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>$[/myProject/performances/scripts/perf.pm]&#10;$DEBUG=1;&#10;&#10;my $wrapperFile="$[/server/Electric Cloud/dataDirectory]/conf/wrapper.conf";&#10;my $javaInitMem=0;&#10;my $javaMaxMem=0;&#10;&#10;open FILE, "&lt; $wrapperFile" || die "Cannot open the file $wrapperFile\n";&#10;while (&lt;FILE&gt;) {&#10;  next if /^#/;&#10;  # &#10;  # Let's look at init memory value that is not commented&#10;  if (/^wrapper.java.initmemory/) {&#10;    if (/\.percent/) {&#10;      # wrapper.java.initmemory.percent=20&#10;      $_ =~ m/=\s*(\w+)/;   &#10;      $javaInitMem= $1."%";&#10;    } else {&#10;      # wrapper.java.initmemory=2048&#10;      $_ =~ m/=\s*(\w+)/;   &#10;      $javaInitMem= $1."mb";&#10;    }  &#10;  } elsif (/^wrapper.java.maxmemory/) {&#10;    if (/\.percent/) {&#10;      # wrapper.java.maxmemory.percent=40&#10;      $_ =~ m/=\s*(\w+)/;   &#10;      $javaMaxMem= $1."%";&#10;    } else {&#10;      # wrapper.java.maxmemory=4096&#10;      $_ =~ m/=\s*(\w+)/;   &#10;      $javaMaxMem= $1."mb";&#10;    }  &#10;  }&#10;}&#10;close(FILE);&#10;&#10;my $str=sprintf("Init Java memory: %s\nMax Java memory: %s\n", $javaInitMem, $javaMaxMem);&#10;printf($str);&#10;&#10;InvokeCommander("SuppressLog", "setProperty", "summary", $str);&#10;&#10;exit(0);&#10;</command>
        <condition></condition>
        <description>Report Java size information&#10;&#10;# Initial Java Heap Size (in %)&#10;wrapper.java.initmemory.percent=20&#10;&#10;# Initial Java Heap Size (in mb)&#10;#wrapper.java.initmemory=2048&#10;&#10;# Maximum Java Heap Size (in %)&#10;wrapper.java.maxmemory.percent=40&#10;&#10;# Maximum Java Heap Size (in mb)&#10;#wrapper.java.maxmemory=4096&#10;</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName>local</resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>Number of Cores</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>$[/myProject/performances/scripts/perf.pm]&#10;&#10;my $nbCores;     # Number of cores&#10;if ($OSNAME =~ /MSWin/) {&#10;  $nbCores=$ENV{NUMBER_OF_PROCESSORS};&#10;} elsif ($OSNAME eq "linux") {&#10;  $nbCores=`nproc`;&#10;  chomp $nbCores;&#10;}  else {&#10;  printf ("OS: %s not supported for COmmander server\n", $OSNAME); &#10;  exit(2);&#10;}&#10;&#10;my $str=sprintf("%2d cores\n", $nbCores);&#10;printf("Number of cores: $str\n");&#10;checkValue("CORE", $nbCores, $str);&#10;</command>
        <condition></condition>
        <description>Check the number of cores for the EC server&#10;Default values:&#10;Bad: &lt; 4&#10;Good: Between 4 and 6&#10;Best: More than 6</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName>local</resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>Server CPU Speed</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>$[/myProject/performances/scripts/perf.pm]&#10;&#10;my $CPUspeed;     # Amount of RAM in GB&#10;if ($OSNAME =~ /MSWin/) {&#10;  my @result=`wmic cpu get MaxClockSpeed`; # result on 2nd line&#10;  $CPUspeed = int($result[1])/1000;&#10;} elsif ($OSNAME eq "linux") {&#10;  $CPUspeed=`cat /proc/cpuinfo | grep "cpu MHz" | head -1 |awk '{print \$4}'`;&#10;  chomp $CPUspeed;&#10;  #printf("CPU speed: %s\n", $CPUspeed);&#10;   $CPUspeed /= 1000;&#10;}  else {&#10;  printf ("OS: %s not supported for Commander server\n", $OSNAME); &#10;  exit(2);&#10;}&#10;&#10;my $str=sprintf("%2.1f GHz\n", $CPUspeed);&#10;printf("CPU speed: $str\n");&#10;checkValue("CPU", $CPUspeed, $str);&#10;</command>
        <condition></condition>
        <description>Check the CPU speed for the EC server&#10;Default values:&#10;Bad: &lt; 1.5 GHz&#10;Good: Between 1.5 and 2 GHz&#10;Best: More than 2 GHz</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName>local</resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>License Usage</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>$[/myProject/scripts/perlHeaderJson]&#10;&#10;my $res=$ec-&gt;getLicenseUsage()-&gt;{responses}-&gt;[0]-&gt;{licenseUsage};&#10;print Dumper($res);&#10;my $str="";&#10;&#10;#&#10;# Concurrent Resources&#10;#&#10;if ($res-&gt;{concurrentResources}-&gt;{maxHosts} ne 'unlimited') {&#10;  $str .= sprintf("%d of %d hosts\n", $res-&gt;{concurrentResources}-&gt;{inUseHosts}, $res-&gt;{concurrentResources}-&gt;{maxHosts}); &#10;}&#10;if ($res-&gt;{concurrentResources}-&gt;{maxProxiedHosts} ne 'unlimited') {&#10;  $str .= sprintf("%d of %d proxies\n", $res-&gt;{concurrentResources}-&gt;{inUseProxiedHosts}, $res-&gt;{concurrentResources}-&gt;{maxProxiedHosts}); &#10;}&#10;&#10;print $res-&gt;{concurrentSteps}-&gt;{maxConcurrentSteps};&#10;#&#10;# Concurrent Steps&#10;#&#10;if ($res-&gt;{concurrentSteps}-&gt;{maxConcurrentSteps} ne 'unlimited') {&#10;  $str .= sprintf("%d of %d steps\n", $res-&gt;{concurrentSteps}-&gt;{runningSteps}, $res-&gt;{concurrentSteps}-&gt;{maxConcurrentSteps}); &#10;}&#10;&#10;#&#10;# Concurrent users&#10;#&#10;if ($res-&gt;{concurrentUsers}-&gt;{maxLicenses} != 999999) {&#10;  $str .= sprintf("%d of %d users\n", $res-&gt;{concurrentUsers}-&gt;{inUseLicenses}, $res-&gt;{concurrentUsers}-&gt;{maxLicenses}); &#10;}&#10;$ec-&gt;setProperty("summary", $str);&#10;</command>
        <condition></condition>
        <description>Display information about license usage.</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>deploymentSize</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <parallel>0</parallel>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <subprocedure>subPM-deploymentSize</subprocedure>
        <subproject>$[/myProject/projectName]</subproject>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>localUsage</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <parallel>0</parallel>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <subprocedure>subPM-localUsage</subprocedure>
        <subproject>$[/myProject/projectName]</subproject>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workspaceName></workspaceName>
        <actualParameters>
          <property>
            <propertyName>debugMode</propertyName>
            <expandable>1</expandable>
            <value>0</value>
          </property>
          <property>
            <propertyName>number</propertyName>
            <expandable>1</expandable>
            <value>5000</value>
          </property>
        </actualParameters>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>Performance</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>$[/myProject/performances/scripts/perf.pm]&#10;&#10;my %hostsHash; # List of agents already tested&#10;#Let's loop on Resources&#10;my ($success, $xPath) = InvokeCommander("SuppressLog", "getResources");&#10;my $nodeset = $xPath-&gt;find('//resource');&#10;&#10;foreach my $node ($nodeset-&gt;get_nodelist) {&#10;  my $resName=$node-&gt;findvalue('resourceName');&#10;  my $resDisabled=$node-&gt;findvalue('resourceDisabled');&#10;  my $agentAlive=$node-&gt;findvalue('agentState/alive');&#10;  my $hostName=$node-&gt;findvalue('hostName');&#10;  printf("%s\n\t Disabled: %s\n\t alive: %s\n", $resName, $resDisabled, $agentAlive) if ($DEBUG);&#10;  #&#10;  # Create a sub-step only if agent is alive and not disabled&#10;  # to avoid to have to wait (and fail) for unavailable resources&#10;  if ( ($resDisabled eq "0") &amp;&amp; ($agentAlive eq "1") &amp;&amp; !exists($hostsHash{$hostName})) {&#10;    my $hostName=$node-&gt;findvalue('hostName');&#10;	$ec-&gt;createJobStep({'jobStepName' =&gt; $resName,&#10;                        'subprocedure' =&gt; "subPM-performance",&#10;                        'parallel' =&gt; 1,&#10;                        'actualParameter'=&gt;[{actualParameterName =&gt; 'hostname', value =&gt; $hostName},&#10;                        					{actualParameterName =&gt; 'resource', value =&gt; $$resName}]&#10;                        }); &#10;    $hostsHash{$hostName}=1;  # Mark host as tested&#10;  } &#10;}&#10;&#10;</command>
        <condition></condition>
        <description>Run a performance time on each resource&#10;Test is from http://xahlee.info/UnixResource_dir/sultra_skami.html</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>Database Type</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>$[/myProject/performances/scripts/perf.pm]&#10;$DEBUG=1;&#10;&#10;my $DBPropFile="$[/server/Electric Cloud/dataDirectory]/conf/database.properties";&#10;my $DBType;&#10;open FILE, "&lt; $DBPropFile" || die "Cannot open the file $DBPropFile\n";&#10;while (&lt;FILE&gt;) {&#10;  if (/DB_TYPE/) {&#10;    # Extract DB type&#10;    # COMMANDER_DB_TYPE=mysql&#10;    $_ =~ m/=(\w+)/;   &#10;    $DBType = $1;&#10;    last;&#10;  }&#10;}&#10;close(FILE);&#10;&#10;printf("Database: %s\n", $DBType);&#10;if ($DBType eq "builtin") {&#10;  printf("BAD\n");&#10;  InvokeCommander("SuppressLog", "setProperty", "outcome", "warning");&#10;} elsif ($DBType eq "mysql") {&#10;  printf("GOOD\n");&#10;} elsif (($DBType eq "sqlserver") || ($DBType eq "oracle")) {&#10;  printf("BEST\n");&#10;} else {&#10;  printf ("Unknown\n");&#10;  InvokeCommander("SuppressLog", "setProperty", "summary", "UNKNOWN");&#10;  exit(1);&#10;}  &#10;InvokeCommander("SuppressLog", "setProperty", "summary", $DBType);&#10;&#10;exit(0);&#10;</command>
        <condition></condition>
        <description>Check the Database type for the EC server&#10;Default values:&#10;Bad: H2&#10;Good: mysql&#10;Best: mssql or oracle</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName>local</resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>Database Performance</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>$[/myProject/performances/scripts/perf.pm]&#10;&#10;#&#10;# Parameters&#10;#&#10;my $nbSteps=$[numberOfSteps];&#10;&#10;my $startTime = time();&#10;for (my $i=1; $i &lt;= $nbSteps; $i++) {&#10;  $ec-&gt;createJobStep({'jobStepName' =&gt; "DBperf-$i",&#10;                      'command'     =&gt; "echo Test $i Done"&#10;                        }); &#10;}&#10;my $totalTime=time()-$startTime;&#10;&#10;printf("To run %d steps, it took %d sec\n", $nbSteps, $totalTime);&#10;my $DBperf=$totalTime/$nbSteps;&#10;my $str=sprintf("%.3f step/sec\n", $DBperf);&#10;$ec-&gt;setProperty('/myJob/DBPerf', $DBperf);&#10;&#10;printf("Database performance: $str\n");&#10;checkValue("DBPERF", $DBperf, $str);&#10;&#10;</command>
        <condition></condition>
        <description>Create a bunch of steps to check performance of the DB</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>Write Disk Performance</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>use IO::Handle;&#10;$[/myProject/performances/scripts/perf.pm]&#10;&#10;#&#10;# Parameters&#10;my $nbGBs=$[numberOfGB];&#10;my $filename = "output.txt";&#10;&#10;open my $numbers_outfile, "&gt;", $filename&#10;    or die "could not open $filename: $!";&#10;&#10;$numbers_outfile-&gt;autoflush(1);&#10;&#10;my $startTime = time();&#10;#each time through the loop should be 1 gig&#10;for (1 .. $nbGBs) {&#10;    #each time though the loop should be 1 meg&#10;    for (1 .. 1024) {&#10;        #print 1 meg of Zs&#10;        print {$numbers_outfile} "Z" x (1024*1024)&#10;    }&#10;}&#10;my $totalTime=time()-$startTime;&#10;close $numbers_outfile;&#10;&#10;# Let's keep the file around for the read performance&#10;#unlink ($filename);&#10;&#10;printf("To write %d GB, it took %d sec\n", $nbGBs, $totalTime);&#10;&#10;my$WRITEspeed=$nbGBs * 1024 / $totalTime;&#10;$ec-&gt;setProperty("/myJob/writeDiskPerf", $WRITEspeed);&#10;my $str=sprintf("%5.1f MB/s\n", $WRITEspeed);&#10;printf("Disk Write speed: $str\n");&#10;checkValue("DISKWRITE", $WRITEspeed, $str);&#10;</command>
        <condition></condition>
        <description>Check theDisk Performance for the EC server&#10;Default values:&#10;Bad: H2&#10;Good: mysql&#10;Best: mssql or oracle</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName>local</resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>Read Disk Performance </stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>use IO::Handle;&#10;$[/myProject/performances/scripts/perf.pm]&#10;&#10;#&#10;# Parameters&#10;my $nbGBs=$[numberOfGB];&#10;&#10;# the file was created by the previous step&#10;my $filename = "output.txt";&#10;&#10;open FILE, "&lt; $filename"&#10;    or die "could not open $filename: $!";&#10;binmode FILE;&#10;&#10;my $startTime = time();&#10;my ($data, $n);&#10;# Let's read the file by 1K&#10;while (($n = read(FILE, $data, 1024)) != 0) {}&#10;close FILE;&#10;&#10;my $totalTime=time()-$startTime;&#10;close FILE;&#10;unlink ($filename);&#10;&#10;printf("To read %d GB, it took %d sec\n", $nbGBs, $totalTime); &#10;my $READspeed=$nbGBs * 1024 / $totalTime;&#10;$ec-&gt;setProperty("/myJob/readDiskPerf", $READspeed);&#10;my $str=sprintf("%5.1f MB/s\n", $READspeed);&#10;printf("Disk Read speed: $str\n");&#10;checkValue("DISKREAD", $READspeed, $str);&#10;</command>
        <condition></condition>
        <description>Check theDisk Performance for the EC server&#10;</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName>local</resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>PingTime</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>$[/myProject/performances/scripts/perf.pm]&#10;&#10;my %hostsHash; # List of agents already tested&#10;#Let's loop on Resources&#10;my ($success, $xPath) = InvokeCommander("SuppressLog", "getResources");&#10;my $nodeset = $xPath-&gt;find('//resource');&#10;&#10;foreach my $node ($nodeset-&gt;get_nodelist) {&#10;  my $resName=$node-&gt;findvalue('resourceName');&#10;  my $resDisabled=$node-&gt;findvalue('resourceDisabled');&#10;  my $agentAlive=$node-&gt;findvalue('agentState/alive');&#10;  my $hostName=$node-&gt;findvalue('hostName');&#10;  printf("%s\n\t Disabled: %s\n\t alive: %s\n", $resName, $resDisabled, $agentAlive) if ($DEBUG);&#10;  #&#10;  # Create a sub-step only if agent is alive and not disabled&#10;  # to avoid to have to wait (and fail) for unavailable resources&#10;  if ( ($resDisabled eq "0") &amp;&amp; ($agentAlive eq "1") &amp;&amp; !exists($hostsHash{$hostName})) {&#10;    my $hostName=$node-&gt;findvalue('hostName');&#10;	$ec-&gt;createJobStep({'jobStepName' =&gt; $resName,&#10;                        'subprocedure' =&gt; "subPM-ping",&#10;                        'actualParameter'=&gt;[{actualParameterName =&gt; 'hostname', value =&gt; $hostName},&#10;                        					{actualParameterName =&gt; 'resource', value =&gt; $resName}]&#10;                        }); &#10;    $hostsHash{$hostName}=1;  # Mark host as tested&#10;  }&#10;}&#10;&#10;</command>
        <condition></condition>
        <description>Check the ping times from  the EC server to the agents&#10;</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>Clean Disk Performance Temporary File</stepName>
        <alwaysRun>1</alwaysRun>
        <broadcast>0</broadcast>
        <command>my $filename = "output.txt";&#10;&#10;if (-f $filename) {&#10;  unlink($filename);&#10;  printf("Deleting %s\n", $filename);&#10;}</command>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName>local</resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>releaseSemaphore</procedureName>
      <description>Procedure to release the token &#10;&#10;Changelog:&#10;--------------&#10; 10-04-2013   lrochette   Add job counter to help abort a job.</description>
      <jobNameTemplate>$[/myProject/scripts/jobTemplate]</jobNameTemplate>
      <resourceName></resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName></workspaceName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>maxSemaphoreValue</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>semaphoreProperty</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>serializationResource</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>descriptionForPlugin</propertyName>
          <description></description>
          <expandable>1</expandable>
          <value>Procedure to release the token.</value>
        </property>
        <property>
          <propertyName>exposeToPlugin</propertyName>
          <description>So the procedure is shown in the pickerList</description>
          <expandable>1</expandable>
          <value>1</value>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>semaphoreProperty</formalParameterName>
        <defaultValue></defaultValue>
        <description>The path to the property used as a semaphore</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>serializationResource</formalParameterName>
        <defaultValue></defaultValue>
        <description>This should point to a resouce with a step limit of 1</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>decrementSemaphore</stepName>
        <alwaysRun>1</alwaysRun>
        <broadcast>0</broadcast>
        <command>$[/myProject/scripts/perlHeader]&#10;&#10;my $xPath = $ec-&gt;incrementProperty("$[semaphoreProperty]", -1);&#10;my $semaphore = $xPath-&gt;findvalue('//value')-&gt;string_value;&#10;$ec-&gt;setProperty("summary", "semaphore = $semaphore");&#10;&#10;# Decrement local counter as well&#10;my $xPath = $ec-&gt;incrementProperty("/myJob/localSemaphoreCounter", -1);&#10;</command>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>removeParameterFromCall</procedureName>
      <description>This procedure parse all the projects, procedures and steps to remove a parameter from the call. To be used after it has been removed from a procedure.</description>
      <jobNameTemplate></jobNameTemplate>
      <resourceName></resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName></workspaceName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>debug</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>delete</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>param</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>parameter</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>parameter_Name</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>procedure</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>procedure_Name</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>project</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>project_Name</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>ec_parameterForm</propertyName>
          <description></description>
          <expandable>1</expandable>
          <value>&lt;editor&gt; &#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Project&lt;/label&gt;    &#10;        &lt;property&gt;project_Name&lt;/property&gt;    &#10;        &lt;documentation&gt;The name of the project&lt;/documentation&gt; &#10;        &lt;type&gt;project&lt;/type&gt; &#10;        &lt;required&gt;1&lt;/required&gt;&#10;    &lt;/formElement&gt; &#10;&#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Procedure&lt;/label&gt;    &#10;        &lt;property&gt;procedure_Name&lt;/property&gt;    &#10;        &lt;documentation&gt;The name of the procedure for which you have deleted a parameter&lt;/documentation&gt; &#10;        &lt;type&gt;entry&lt;/type&gt; &#10;        &lt;required&gt;1&lt;/required&gt;&#10;    &lt;/formElement&gt; &#10;&#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Pramater&lt;/label&gt; &#10;        &lt;property&gt;parameter_Name&lt;/property&gt; &#10;        &lt;documentation&gt;The name of the parameter you have deleted from the procedure above.&lt;/documentation&gt; &#10;        &lt;type&gt;entry&lt;/type&gt; &#10;        &lt;required&gt;1&lt;/required&gt;&#10;    &lt;/formElement&gt;  &#10;&#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Delete&lt;/label&gt;    &#10;        &lt;property&gt;delete&lt;/property&gt; &#10;        &lt;documentation&gt;If this option is not set, only report is done. No parameter is deleted from any sub-procedure call&lt;/documentation&gt; &#10;        &lt;type&gt;select&lt;/type&gt;    &#10;        &lt;option&gt; &#10;            &lt;name&gt;Report&lt;/name&gt; &#10;            &lt;value&gt;false&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;Delete&lt;/name&gt; &#10;            &lt;value&gt;true&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;value&gt;false&lt;/value&gt;    &#10;    &lt;/formElement&gt; &#10;&#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Verbose&lt;/label&gt;	&#10;        &lt;property&gt;debug&lt;/property&gt; &#10;        &lt;documentation&gt;Check to show more details in the log.&lt;/documentation&gt; &#10;        &lt;type&gt;checkbox&lt;/type&gt;	&#10;        &lt;checkedValue&gt;true&lt;/checkedValue&gt; &#10;        &lt;uncheckedValue&gt;false&lt;/uncheckedValue&gt; &#10;        &lt;initiallyChecked&gt;1&lt;/initiallyChecked&gt; &#10;        &lt;value&gt;true&lt;/value&gt;	&#10;    &lt;/formElement&gt; &#10;&#10;&lt;/editor&gt;</value>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>debug</formalParameterName>
        <defaultValue>true</defaultValue>
        <description></description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>delete</formalParameterName>
        <defaultValue>false</defaultValue>
        <description></description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>parameter_Name</formalParameterName>
        <defaultValue></defaultValue>
        <description>The name of the parameter to remove</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>procedure_Name</formalParameterName>
        <defaultValue></defaultValue>
        <description>The name of the procedure whose parameter is removed</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>project_Name</formalParameterName>
        <defaultValue></defaultValue>
        <description></description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>project</type>
      </formalParameter>
      <step>
        <stepName>searchAndRemove</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>$[/plugins[EC-Admin]/project/scripts/perlHeaderJSON]&#10;&#10;#&#10;# Parameters&#10;#&#10;my $proj="$[project_Name]";&#10;my $proc="$[procedure_Name]";&#10;my $param="$[parameter_Name]";&#10;my $DEBUG=("$[debug]" eq "true")?1:0;&#10;my $delete=("$[delete]" eq "true")?1:0;&#10;&#10;#&#10;# GlobalVariables&#10;#&#10;my $nbProj=0;			# Number of projects we checked&#10;my $nbProc=0;			# Number of procedures we checked&#10;my $nbStep=0;			# Number of steps we checked&#10;my $nbParam=0;			# Number of parameters that are/can be removed&#10;my $nbSched=0;			# Number of schedules we checked&#10;&#10;#&#10;# Loop over Projects&#10;#&#10;my ($success, $res) = InvokeCommander("SuppressLog", "getProjects");&#10;&#10;foreach my $node ($res-&gt;findnodes("//project")) {&#10;  my $projName=$node-&gt;{projectName};&#10;  my $pluginName=$node-&gt;{pluginName};&#10;&#10;	# skip plugins  &#10;	next if ($pluginName ne "");&#10;	printf("Processing %s\n", $projName) if ($DEBUG);&#10;    $nbProj++;&#10;&#10;  #&#10;  # Loop over procedures&#10;  #&#10;	my ($success, $res2) = InvokeCommander("SuppressLog", "getProcedures", $projName);&#10;	foreach my $node ($res2-&gt;findnodes("//procedure")) {&#10;		my $procName=$node-&gt;{procedureName};&#10;		printf("    procedure: %s\n", $procName) if ($DEBUG);&#10;		$nbProc++;&#10;    #&#10;    # Loop over steps&#10;    #&#10;    my ($success, $res3) = InvokeCommander("SuppressLog", "getSteps", $projName, $procName);&#10;    foreach my $node ($res3-&gt;findnodes("//step")) {&#10;      my $stepName=$node-&gt;{stepName};&#10;      printf("        %s\n", $stepName) if ($DEBUG);&#10;      $nbStep++;&#10;      if ( ($node-&gt;{subprocedure} eq "$proc") &amp;&amp;&#10;            (($node-&gt;{subproject} eq $proj) ||  (($node-&gt;{subproject} eq "") &amp;&amp; ($projName eq $proj)))&#10;           ) {&#10;        #&#10;        # Process param&#10;        #&#10;        processParam($projName, $procName, $stepName, $param, {'projectName' =&gt; $projName, 'procedureName' =&gt; $procName, 'stepName' =&gt; $stepName});&#10;&#10;      }&#10;    }  # step loop&#10;  }  # procedure loop&#10;&#10;  next;&#10;  &#10;  #&#10;  # Loop over schedules&#10;  #&#10;  my ($success, $res2) = InvokeCommander("SuppressLog", "getSchedules", $projName);&#10;  foreach my $node ($res2-&gt;findnodes("//schedule")) {&#10;    my $schedName=$node-&gt;{scheduleName};&#10;    printf("    schedule: %s\n", $schedName) if ($DEBUG);&#10;    $nbSched++;&#10;&#10;      if ( ($node-&gt;{procedure} eq "$proc") &amp;&amp;&#10;            (($node-&gt;{project} eq $proj) ||  (($node-&gt;{project} eq "") &amp;&amp; ($projName eq $proj)))&#10;           ) {&#10;        #&#10;        # Process param&#10;        #&#10;        my ($ok, $res4)=InvokeCommander("SuppressLog IgnoreError", 'getActualParameter', $param, {'projectName' =&gt; $projName, 'scheduleName' =&gt; $schedName} );&#10;        if ($ok) {&#10;          $nbParam++;&#10;          printf(" Project: %s\Schedule: %s:\nStep: %s\n", $projName, $schedName);&#10;        }&#10;      }&#10;&#10;  }  # schedule loop&#10;&#10;}  # project loop&#10;&#10;printf("\n\nSummary\n");&#10;printf("Projects  : %d\n", $nbProj);&#10;printf("Procedures: %d\n", $nbProc);&#10;printf("Steps     : %d\n", $nbStep);&#10;printf("Schedules : %d\n", $nbSched);&#10;printf("Params    : %d\n", $nbParam);&#10;&#10;$ec-&gt;setProperty("summary", sprintf("Projects  : %d\nProcedures: %d\nSteps     : %d\nParams    : %d\n", &#10;					$nbProj, $nbProc, $nbStep, $nbParam));&#10;                    &#10;&#10;sub processParam {&#10;  my ($projName, $procName, $stepName, $paramName)=@_;&#10;  &#10;  my ($ok, $res)=InvokeCommander("SuppressLog IgnoreError", 'getActualParameter', $paramName, {'projectName' =&gt; $projName, 'procedureName' =&gt; $procName, 'stepName' =&gt; $stepName} );&#10;  if ($ok) {&#10;    $nbParam++;&#10;    # printf(" Project: %s\nProcedure: %s:\nStep: %s\n", $projName, $procName, $stepName);&#10;&#10;    if ($delete) {&#10;      ($ok, $res)=InvokeCommander("SuppressLog", 'deleteActualParameter', $projName, $procName, $stepName, $paramName );&#10;      if ($ok) {&#10;        printf("      **** Deleted ***\n");&#10;      }&#10;    }&#10;  }&#10;}&#10;&#10;$[/plugins[EC-Admin]/project/scripts/perlLibJSON]&#10;</command>
        <condition>0 &amp;&amp; Not Ready</condition>
        <description>Process all non plugins projects, all procedures and steps, all schedules</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>saveAllObjects</procedureName>
      <description>export objects individually in a tree like structure for further CMS checkin: &#10;  Projects&#10;  Procedures&#10;  Resources&#10;  ResourcePools&#10;  Workspaces&#10;  Users&#10;  Groups&#10;</description>
      <jobNameTemplate>$[/myProject/scripts/jobTemplate]</jobNameTemplate>
      <resourceName></resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName></workspaceName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>exportGroups</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>exportResourcePools</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>exportResources</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>exportUsers</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>exportWorkspaces</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>extractResourcePools</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>extractResources</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>pathname</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>descriptionForPlugin</propertyName>
          <description></description>
          <expandable>1</expandable>
          <value>This procedure brings a finer granularity to a full server export. For example to retrieve an object after a wrong action or a bad code change. By default it exports projects and each procedure individually. In addition by enabling the matching checkboxes, you can also export resources, resource pools, workspaces, users and groups.</value>
        </property>
        <property>
          <propertyName>ec_parameterForm</propertyName>
          <description>New rendering of the parameters</description>
          <expandable>1</expandable>
          <value>&lt;editor&gt; &#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Backup directory&lt;/label&gt;    &#10;        &lt;property&gt;pathname&lt;/property&gt;    &#10;        &lt;documentation&gt;Directory where to saved the XML files.&lt;/documentation&gt; &#10;        &lt;type&gt;entry&lt;/type&gt;    &#10;        &lt;value&gt;/tmp/BACKUP&lt;/value&gt; &#10;     &lt;required&gt;1&lt;/required&gt; &#10;    &lt;/formElement&gt; &#10;&#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Backup Resources&lt;/label&gt;    &#10;        &lt;property&gt;exportResources&lt;/property&gt; &#10;        &lt;documentation&gt;Boolean to export Resources&lt;/documentation&gt; &#10;        &lt;type&gt;checkbox&lt;/type&gt;    &#10;        &lt;checkedValue&gt;true&lt;/checkedValue&gt; &#10;        &lt;uncheckedValue&gt;false&lt;/uncheckedValue&gt; &#10;        &lt;initiallyChecked&gt;1&lt;/initiallyChecked&gt; &#10;        &lt;value&gt;true&lt;/value&gt;    &#10;    &lt;/formElement&gt; &#10;&#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Backup Resource Pools&lt;/label&gt;    &#10;        &lt;property&gt;exportResourcePools&lt;/property&gt; &#10;        &lt;documentation&gt;Boolean to export Pools&lt;/documentation&gt; &#10;        &lt;type&gt;checkbox&lt;/type&gt;    &#10;        &lt;checkedValue&gt;true&lt;/checkedValue&gt; &#10;        &lt;uncheckedValue&gt;false&lt;/uncheckedValue&gt; &#10;        &lt;initiallyChecked&gt;1&lt;/initiallyChecked&gt; &#10;        &lt;value&gt;true&lt;/value&gt;    &#10;    &lt;/formElement&gt; &#10;&#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Backup Workspaces&lt;/label&gt;    &#10;        &lt;property&gt;exportWorkspaces&lt;/property&gt; &#10;        &lt;documentation&gt;Boolean to export Workspaces&lt;/documentation&gt; &#10;        &lt;type&gt;checkbox&lt;/type&gt;    &#10;        &lt;checkedValue&gt;true&lt;/checkedValue&gt; &#10;        &lt;uncheckedValue&gt;false&lt;/uncheckedValue&gt; &#10;        &lt;initiallyChecked&gt;1&lt;/initiallyChecked&gt; &#10;        &lt;value&gt;true&lt;/value&gt;    &#10;    &lt;/formElement&gt; &#10;&#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Backup Users&lt;/label&gt;    &#10;        &lt;property&gt;exportUsers&lt;/property&gt; &#10;        &lt;documentation&gt;Boolean to export Users&lt;/documentation&gt; &#10;        &lt;type&gt;checkbox&lt;/type&gt;    &#10;        &lt;checkedValue&gt;true&lt;/checkedValue&gt; &#10;        &lt;uncheckedValue&gt;false&lt;/uncheckedValue&gt; &#10;        &lt;initiallyChecked&gt;1&lt;/initiallyChecked&gt; &#10;        &lt;value&gt;true&lt;/value&gt;    &#10;    &lt;/formElement&gt; &#10;&#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Backup Groups&lt;/label&gt;    &#10;        &lt;property&gt;exportGroups&lt;/property&gt; &#10;        &lt;documentation&gt;Boolean to export Groups&lt;/documentation&gt; &#10;        &lt;type&gt;checkbox&lt;/type&gt;    &#10;        &lt;checkedValue&gt;true&lt;/checkedValue&gt; &#10;        &lt;uncheckedValue&gt;false&lt;/uncheckedValue&gt; &#10;        &lt;initiallyChecked&gt;1&lt;/initiallyChecked&gt; &#10;        &lt;value&gt;true&lt;/value&gt;    &#10;    &lt;/formElement&gt; &#10;&#10;&lt;/editor&gt;</value>
        </property>
        <property>
          <propertyName>exposeToPlugin</propertyName>
          <description></description>
          <expandable>1</expandable>
          <value>1</value>
        </property>
      </propertySheet>
      <emailNotifier>
        <notifierName>failureNotification</notifierName>
        <condition>$[/javascript if(getProperty("outcome") == 'error')&#10;    true;&#10;else&#10;    false;]</condition>
        <configName>default</configName>
        <description>Send email to Admin if it fails</description>
        <destinations>$[/users/admin/email]</destinations>
        <eventType>onCompletion</eventType>
        <formattingTemplate>Subject: Job  '$[jobName]'  from procedure  '$[procedureName]'  $[/myEvent/type]  - Commander notification&#10;&#10;$[/server/ec_notifierTemplates/Html_JobTempl/body]</formattingTemplate>
        <propertySheet>
        </propertySheet>
      </emailNotifier>
      <formalParameter>
        <formalParameterName>exportGroups</formalParameterName>
        <defaultValue>true</defaultValue>
        <description></description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>exportResourcePools</formalParameterName>
        <defaultValue>true</defaultValue>
        <description></description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>exportResources</formalParameterName>
        <defaultValue>true</defaultValue>
        <description></description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>exportUsers</formalParameterName>
        <defaultValue>true</defaultValue>
        <description></description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>exportWorkspaces</formalParameterName>
        <defaultValue>true</defaultValue>
        <description></description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>pathname</formalParameterName>
        <defaultValue>/tmp/BACKUP</defaultValue>
        <description>Directory where to saved the XML files</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>saveProjectsProceduresWorkflows</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>#############################################################################&#10;#&#10;#  Copyright 2013 Electric-Cloud Inc.&#10;#&#10;#############################################################################&#10;use File::Path;&#10;&#10;$[/myProject/scripts/perlHeaderJSON]&#10;&#10;$DEBUG=1;&#10;&#10;# Parameters&#10;#&#10;my $path="$[pathname]";&#10;&#10;my $errorCount=0;&#10;my $projCount=0;&#10;my $procCount=0;&#10;my $wkfCount=0;&#10;my $newtimeout=600;&#10;&#10;# Set the time out to newtimeout so the ec commands won't time out at 3 mins&#10;$ec-&gt;setTimeout($newtimeout);&#10;&#10;# Get list of Project&#10;my ($success, $xPath) = InvokeCommander("SuppressLog", "getProjects");&#10;&#10;# Create the Projects directory&#10;mkpath("$path/Projects");&#10;chmod(0777, "$path/Projects");&#10;&#10;foreach my $node ($xPath-&gt;findnodes('//project')) {&#10;  my $pName=$node-&gt;{'projectName'};&#10;  my $pluginName=$node-&gt;{'pluginName',};&#10;&#10;  # skip plugins  &#10;  next if ($pluginName ne "");&#10;  printf("Saving Project: %s\n", $pName);&#10;  my $fileProjectName=safeFilename($pName);&#10;  mkpath("$path/Projects/$fileProjectName");&#10;  chmod(0777, "$path/Projects/$fileProjectName");&#10;  &#10;  my ($success, $res, $errMsg, $errCode) = &#10;      InvokeCommander("SuppressLog", "export", "$path/Projects/$fileProjectName/$fileProjectName".".xml",&#10;  					{ 'path'=&gt; "/projects/".$pName, &#10;                                          'relocatable' =&gt; 1,&#10;                                          'withAcls'    =&gt; 1,&#10;                                          'withNotifiers'=&gt;1});&#10;  if (! $success) {&#10;    printf("  Error exporting %s", $pName);&#10;    printf("  %s: %s\n", $errCode, $errMsg);&#10;    $errorCount++;&#10;  } else {&#10;    $projCount++;&#10;  }&#10;  #&#10;  # Save procedures&#10;  #&#10;  mkpath("$path/Projects/$fileProjectName/Procedures");&#10;  chmod(0777, "$path/Projects/$fileProjectName/Procedures");&#10;  &#10;  my ($success, $xPath) = InvokeCommander("SuppressLog", "getProcedures", $pName);&#10;  foreach my $proc ($xPath-&gt;findnodes('//procedure')) {&#10;    my $procName=$proc-&gt;{'procedureName'};&#10;    my $fileProcedureName=safeFilename($procName);&#10;    printf("  Saving Procedure: %s\n", $procName);&#10; &#10; 	my ($success, $res, $errMsg, $errCode) = &#10;      InvokeCommander("SuppressLog", "export", "$path/Projects/$fileProjectName/Procedures/$fileProcedureName".".xml",&#10;  					{ 'path'=&gt; "/projects/$pName/procedures/$procName", &#10;                                          'relocatable' =&gt; 1,&#10;                                          'withAcls'    =&gt; 1,&#10;                                          'withNotifiers'=&gt;1});&#10;    &#10;    if (! $success) {&#10;      printf("  Error exporting %s", $procName);&#10;      printf("  %s: %s\n", $errCode, $errMsg);&#10;      $errorCount++;&#10;    }&#10;    else {&#10;      $procCount++;&#10;    }&#10;  }&#10;&#10;  #&#10;  # Save workflow definitions&#10;  #&#10;  mkpath("$path/Projects/$fileProjectName/Workflows");&#10;  chmod(0777, "$path/Projects/$fileProjectName/Workflows");&#10;  &#10;  my ($success, $xPath) = InvokeCommander("SuppressLog", "getWorkflowDefinitions", $pName);&#10;  foreach my $proc ($xPath-&gt;findnodes('//workflowDefinition')) {&#10;    my $wkfName=$proc-&gt;{'workflowDefinitionName'};&#10;    my $fileWkfName=safeFilename($wkfName);&#10;    printf("  Saving Workflow Definition: %s\n", $wkfName);&#10;    &#10;    my ($success, $res, $errMsg, $errCode) = &#10;      InvokeCommander("SuppressLog", "export", "$path/Projects/$fileProjectName/Workflows/$fileWkfName".".xml",&#10;  					{ 'path'=&gt; "/projects/$pName/workflowDefinitions/$wkfName", &#10;                                          'relocatable' =&gt; 1,&#10;                                          'withAcls'    =&gt; 1,&#10;                                          'withNotifiers'=&gt;1});&#10;    &#10;    if (! $success) {&#10;      printf("  Error exporting %s", $wkfName);&#10;      printf("  %s: %s\n", $errCode, $errMsg);&#10;      $errorCount++;&#10;    }&#10;    else {&#10;      $wkfCount++;&#10;    }&#10;  }&#10;&#10;}&#10;$ec-&gt;setProperty("preSummary", "$projCount projects exported\n  $procCount procedures exported\n  $wkfCount workflows exported");&#10;exit($errorCount);&#10;&#10;#&#10;# Make the name of an object safe to be a file or directory name&#10;#&#10;sub safeFilename {&#10;  my $safe=@_[0];&#10;  $safe =~ s#[\*\.\"/\[\]\\:;,=\|]#_#g;&#10;  return $safe;&#10;}&#10;&#10;&#10;$[/myProject/scripts/perlLibJSON]&#10;</command>
        <condition></condition>
        <description>A step to export each project and procedure individually&#10;&#10;Changelog:&#10;2014-02-27 Kate McCormack&#10;  Adding setTimeout equal to 600 so the ec commands won't time out&#10;</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>saveResources</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>#############################################################################&#10;#&#10;#  Copyright 2013 Electric-Cloud Inc.&#10;#&#10;#############################################################################&#10;use File::Path;&#10;&#10;$[/myProject/scripts/perlHeaderJSON]&#10;&#10;$DEBUG=1;&#10;&#10;# Parameters&#10;#&#10;my $path="$[pathname]";&#10;&#10;my $errorCount=0;&#10;my $resCount=0;&#10;&#10;# Get list of Project&#10;my ($success, $xPath) = InvokeCommander("SuppressLog", "getResources");&#10;&#10;# Create the Resources directory&#10;mkpath("$path/Resources");&#10;chmod(0777, "$path/Resources");&#10;&#10;foreach my $node ($xPath-&gt;findnodes('//resource')) {&#10;  my $resName=$node-&gt;{'resourceName'};&#10;&#10;  printf("Saving Resource: %s\n", $resName);&#10;  my $fileResourceName=safeFilename($resName); &#10;  &#10;  my ($success, $res, $errMsg, $errCode) = &#10;      InvokeCommander("SuppressLog", "export", "$path/Resources/$fileResourceName".".xml",&#10;  					{ 'path'=&gt; "/resources/".$resName, &#10;                                          'relocatable' =&gt; 1,&#10;                                          'withAcls'    =&gt; 1});&#10;  if (! $success) {&#10;    printf("  Error exporting %s", $resName);&#10;    printf("  %s: %s\n", $errCode, $errMsg);&#10;    $errorCount++;&#10;  } else {&#10;    $resCount++;&#10;  }&#10;}&#10;$ec-&gt;setProperty("preSummary", "$resCount resources exported");&#10;exit($errorCount);&#10;&#10;#&#10;# Make the name of an object safe to be a file or directory name&#10;#&#10;sub safeFilename {&#10;  my $safe=@_[0];&#10;  $safe =~ s#[\*\.\"/\[\]\\:;,=\|]#_#g;&#10;  return $safe;&#10;}&#10;&#10;&#10;$[/myProject/scripts/perlLibJSON]&#10;</command>
        <condition>$[exportResources]</condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>saveResourcePools</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>#############################################################################&#10;#&#10;#  Copyright 2013 Electric-Cloud Inc.&#10;#&#10;#############################################################################&#10;use File::Path;&#10;&#10;$[/myProject/scripts/perlHeaderJSON]&#10;&#10;$DEBUG=1;&#10;&#10;# Parameters&#10;#&#10;my $path="$[pathname]";&#10;&#10;my $errorCount=0;&#10;my $poolCount=0;&#10;&#10;# Get list of Project&#10;my ($success, $xPath) = InvokeCommander("SuppressLog", "getResourcePools");&#10;&#10;# Create the Resources directory&#10;mkpath("$path/Pools");&#10;chmod(0777, "$path/Pools");&#10;&#10;foreach my $node ($xPath-&gt;findnodes('//resourcePool')) {&#10;  my $poolName=$node-&gt;{'resourcePoolName'};&#10;&#10;  printf("Saving Resource Pool: %s\n", $poolName);&#10;  my $filePoolName=safeFilename($poolName);&#10;  &#10;  my ($success, $res, $errMsg, $errCode) = &#10;      InvokeCommander("SuppressLog", "export", "$path/Pools/$filePoolName".".xml",&#10;  					{ 'path'=&gt; "/resourcePools/".$poolName, &#10;                                          'relocatable' =&gt; 1,&#10;                                          'withAcls'    =&gt; 1});&#10;  if (! $success) {&#10;    printf("  Error exporting %s", $poolName);&#10;    printf("  %s: %s\n", $errCode, $errMsg);&#10;    $errorCount++;&#10;  } else {&#10;	$poolCount++;&#10;  }  &#10;}&#10;&#10;$ec-&gt;setProperty("preSummary", "$poolCount pools exported");&#10;exit($errorCount);&#10;&#10;#&#10;# Make the name of an object safe to be a file or directory name&#10;#&#10;sub safeFilename {&#10;  my $safe=@_[0];&#10;  $safe =~ s#[\*\.\"/\[\]\\:;,=\|]#_#g;&#10;  return $safe;&#10;}&#10;&#10;&#10;$[/myProject/scripts/perlLibJSON]&#10;</command>
        <condition>$[exportResourcePools]</condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>saveWorkspaces</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>#############################################################################&#10;#&#10;#  Copyright 2013 Electric-Cloud Inc.&#10;#&#10;#############################################################################&#10;use File::Path;&#10;&#10;$[/myProject/scripts/perlHeaderJSON]&#10;&#10;# Parameters&#10;#&#10;my $path="$[pathname]";&#10;&#10;my $errorCount=0;&#10;my $wksCount=0;&#10;&#10;# Get list of Project&#10;my ($success, $xPath) = InvokeCommander("SuppressLog", "getWorkspaces");&#10;&#10;# Create the Workspaces directory&#10;mkpath("$path/Workspaces");&#10;chmod(0777, "$path/Workspaces");&#10;&#10;foreach my $node ($xPath-&gt;findnodes('//workspace')) {&#10;  my $resName=$node-&gt;{'workspaceName'};&#10;&#10;  printf("Saving Workspace: %s\n", $resName);&#10;  my $fileWorkspaceName=safeFilename($resName); &#10;  &#10;  my ($success, $res, $errMsg, $errCode) = &#10;      InvokeCommander("SuppressLog", "export", "$path/Workspaces/$fileWorkspaceName".".xml",&#10;  					{ 'path'=&gt; "/workspaces/".$resName, &#10;                                          'relocatable' =&gt; 1,&#10;                                          'withAcls'    =&gt; 1});&#10;  if (! $success) {&#10;    printf("  Error exporting %s", $resName);&#10;    printf("  %s: %s\n", $errCode, $errMsg);&#10;    $errorCount++;&#10;  } else {&#10;    $wksCount++;&#10;  }&#10;}&#10;$ec-&gt;setProperty("preSummary", "$wksCount workspaces exported");&#10;exit($errorCount);&#10;&#10;#&#10;# Make the name of an object safe to be a file or directory name&#10;#&#10;sub safeFilename {&#10;  my $safe=@_[0];&#10;  $safe =~ s#[\*\.\"/\[\]\\:;,=\|]#_#g;&#10;  return $safe;&#10;}&#10;&#10;&#10;$[/myProject/scripts/perlLibJSON]&#10;</command>
        <condition>$[exportWorkspaces]</condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>saveUsers</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>#############################################################################&#10;#&#10;#  Copyright 2013 Electric-Cloud Inc.&#10;#&#10;#############################################################################&#10;use File::Path;&#10;&#10;$[/myProject/scripts/perlHeaderJSON]&#10;&#10;$DEBUG=1;&#10;&#10;# Parameters&#10;#&#10;my $path="$[pathname]";&#10;&#10;my $errorCount=0;&#10;my $userCount=0;&#10;&#10;# Get list of Project&#10;my ($success, $xPath) = InvokeCommander("SuppressLog", "getUsers", {maximum=&gt;5000});&#10;&#10;# Create the Resources directory&#10;mkpath("$path/Users");&#10;chmod(0777, "$path/Users");&#10;&#10;foreach my $node ($xPath-&gt;findnodes('//user')) {&#10;  my $userName=$node-&gt;{'userName'};&#10;&#10;  printf("Saving User: %s\n", $userName);&#10;  my $fileUserName=safeFilename($userName); &#10;  &#10;  my ($success, $res, $errMsg, $errCode) = &#10;      InvokeCommander("SuppressLog", "export", "$path/Users/$fileUserName".".xml",&#10;  					{ 'path'=&gt; "/users/".$userName, &#10;                                          'relocatable' =&gt; 1,&#10;                                          'withAcls'    =&gt; 1});&#10;  if (! $success) {&#10;    printf("  Error exporting %s", $userName);&#10;    printf("  %s: %s\n", $errCode, $errMsg);&#10;    $errorCount++;&#10;  } else {&#10;    $userCount++;&#10;  }&#10;}&#10;$ec-&gt;setProperty("preSummary", "$userCount users exported");&#10;exit($errorCount);&#10;&#10;#&#10;# Make the name of an object safe to be a file or directory name&#10;#&#10;sub safeFilename {&#10;  my $safe=@_[0];&#10;  $safe =~ s#[\*\.\"/\[\]\\:;,=\|]#_#g;&#10;  return $safe;&#10;}&#10;&#10;&#10;$[/myProject/scripts/perlLibJSON]&#10;</command>
        <condition>$[exportUsers]</condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>saveGroups</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>#############################################################################&#10;#&#10;#  Copyright 2013 Electric-Cloud Inc.&#10;#&#10;#############################################################################&#10;use File::Path;&#10;&#10;$[/myProject/scripts/perlHeaderJSON]&#10;&#10;$DEBUG=1;&#10;&#10;# Parameters&#10;#&#10;my $path="$[pathname]";&#10;&#10;my $errorCount=0;&#10;my $groupCount=0;&#10;&#10;# Get list of Project&#10;my ($success, $xPath) = InvokeCommander("SuppressLog", "getGroups", {maximum=&gt;5000});&#10;&#10;# Create the Resources directory&#10;mkpath("$path/groups");&#10;chmod(0777, "$path/groups");&#10;&#10;foreach my $node ($xPath-&gt;findnodes('//group')) {&#10;  my $groupName=$node-&gt;{'groupName'};&#10;&#10;  printf("Saving group: %s\n", $groupName);&#10;  my $fileGroupName=safeFilename($groupName); &#10;  &#10;  my ($success, $res, $errMsg, $errCode) = &#10;      InvokeCommander("SuppressLog", "export", "$path/groups/$fileGroupName".".xml",&#10;  					{ 'path'=&gt; "/groups/".$groupName, &#10;                                          'relocatable' =&gt; 1,&#10;                                          'withAcls'    =&gt; 1});&#10;  if (! $success) {&#10;    printf("  Error exporting %s", $groupName);&#10;    printf("  %s: %s\n", $errCode, $errMsg);&#10;    $errorCount++;&#10;  } else {&#10;    $groupCount++;&#10;  }&#10;}&#10;$ec-&gt;setProperty("preSummary", "$groupCount groups exported");&#10;exit($errorCount);&#10;&#10;#&#10;# Make the name of an object safe to be a file or directory name&#10;#&#10;sub safeFilename {&#10;  my $safe=@_[0];&#10;  $safe =~ s#[\*\.\"/\[\]\\:;,=\|]#_#g;&#10;  return $safe;&#10;}&#10;&#10;&#10;$[/myProject/scripts/perlLibJSON]&#10;</command>
        <condition>$[exportGroups]</condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>saveProjects</procedureName>
      <description>a framework to export projects.</description>
      <jobNameTemplate>$[/myProject/scripts/jobTemplate]</jobNameTemplate>
      <resourceName></resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName></workspaceName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>includeACLs</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>includeNotifiers</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>pathname</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>relocatable</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>ec_parameterForm</propertyName>
          <description>To overwrite default parameter panel display</description>
          <expandable>1</expandable>
          <value>&lt;editor&gt; &#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Backup directory&lt;/label&gt;	&#10;        &lt;property&gt;pathname&lt;/property&gt;	&#10;        &lt;documentation&gt;Directory where to saved the XML files.&lt;/documentation&gt; &#10;        &lt;type&gt;entry&lt;/type&gt;	&#10;        &lt;value&gt;/tmp&lt;/value&gt; &#10;	    &lt;required&gt;1&lt;/required&gt; &#10;    &lt;/formElement&gt; &#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Relocatable&lt;/label&gt;	&#10;        &lt;property&gt;relocatable&lt;/property&gt; &#10;        &lt;documentation&gt;If set to "true", the export will not include object IDs, ACLs, system property sheets, create/modify times, owners, &#10;email notifiers or lastModifiedBy information, and the export file result will be much smaller than a normal export.&lt;/documentation&gt; &#10;        &lt;type&gt;checkbox&lt;/type&gt;	&#10;        &lt;checkedValue&gt;true&lt;/checkedValue&gt; &#10;        &lt;uncheckedValue&gt;false&lt;/uncheckedValue&gt; &#10;        &lt;initiallyChecked&gt;1&lt;/initiallyChecked&gt; &#10;        &lt;value&gt;true&lt;/value&gt;	&#10;    &lt;/formElement&gt; &#10;    &lt;formElement&gt; &#10;        &lt;label&gt;ACLs&lt;/label&gt;	&#10;        &lt;property&gt;includeACLs&lt;/property&gt; &#10;        &lt;documentation&gt;If set to "true", the export will include ACLs.&lt;/documentation&gt; &#10;        &lt;type&gt;checkbox&lt;/type&gt;	&#10;        &lt;checkedValue&gt;true&lt;/checkedValue&gt; &#10;        &lt;uncheckedValue&gt;false&lt;/uncheckedValue&gt; &#10;        &lt;initiallyChecked&gt;0&lt;/initiallyChecked&gt; &#10;        &lt;value&gt;false&lt;/value&gt;	&#10;    &lt;/formElement&gt; &#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Notifiers&lt;/label&gt;	&#10;        &lt;property&gt;includeNotifiers&lt;/property&gt; &#10;        &lt;documentation&gt;If set to "true", the export will include email notifiers.&lt;/documentation&gt; &#10;        &lt;type&gt;checkbox&lt;/type&gt;	&#10;        &lt;checkedValue&gt;true&lt;/checkedValue&gt; &#10;        &lt;uncheckedValue&gt;false&lt;/uncheckedValue&gt; &#10;        &lt;initiallyChecked&gt;0&lt;/initiallyChecked&gt; &#10;        &lt;value&gt;false&lt;/value&gt;	&#10;    &lt;/formElement&gt; &#10;&lt;/editor&gt; </value>
        </property>
        <property>
          <propertyName>exposeToPlugin</propertyName>
          <description>So the procedure is shown in the pickerList</description>
          <expandable>1</expandable>
          <value>1</value>
        </property>
      </propertySheet>
      <emailNotifier>
        <notifierName>backupFailed</notifierName>
        <condition>$[/javascript if(getProperty("outcome") == 'error')&#10;    true;&#10;else&#10;    false;]</condition>
        <configName>ecloud</configName>
        <description></description>
        <destinations>$[/users/admin/email]</destinations>
        <eventType>onCompletion</eventType>
        <formattingTemplate>Subject:Project Backup Failed&#10;Job  '$[jobName]'  from procedure  '$[procedureName]'  $[/myEvent/type]  - Commander notification&#10;&#10;$[/server/ec_notifierTemplates/Html_JobTempl/body]</formattingTemplate>
        <propertySheet>
        </propertySheet>
      </emailNotifier>
      <formalParameter>
        <formalParameterName>includeACLs</formalParameterName>
        <defaultValue>false</defaultValue>
        <description> if set to "true", the export will include ACLs.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>includeNotifiers</formalParameterName>
        <defaultValue>false</defaultValue>
        <description> If  set to "true", the export will include email notifiers.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>pathname</formalParameterName>
        <defaultValue>/tmp</defaultValue>
        <description>Directory where to saved the XML files</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>relocatable</formalParameterName>
        <defaultValue>true</defaultValue>
        <description>If set to "true", the export will not include object IDs, ACLs, system property sheets, create/modify times, owners, email notifiers or lastModifiedBy information, and the export file result will be much smaller than a normal export.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <step>
        <stepName>save Projects</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>#############################################################################&#10;#&#10;#  Copyright 2013 Electric-Cloud Inc.&#10;#&#10;#############################################################################&#10;use File::Path;&#10;&#10;$[/myProject/scripts/perlHeader]&#10;$[/myProject/scripts/perlLib]&#10;#&#10;# Parameters&#10;#&#10;my $path="$[pathname]";&#10;my $includeACLs="$[includeACLs]";&#10;my $includeNotifiers="$[includeNotifiers]";&#10;my $relocatable="$[relocatable]";&#10;my $newtimeout=600;&#10;&#10;# Set the time out to newtimeout so the ec commands won't time out at 3 mins&#10;$ec-&gt;setTimeout($newtimeout);&#10;&#10;my $errorCount=0;&#10;# Get list of Project&#10;my ($success, $xPath) = InvokeCommander("SuppressLog", "getProjects");&#10;&#10;# Create the directory&#10;# chmod required for cases when the server agent user and the server user &#10;# are different and the mask prevent the created directory to be written&#10;# by the latter.&#10;mkpath($path);&#10;chmod 0777, $path;&#10;&#10;my $nodeset = $xPath-&gt;find('//project');&#10;foreach my $node ($nodeset-&gt;get_nodelist) {&#10;  my $pName=$xPath-&gt;findvalue('projectName', $node);&#10;  my $pluginName=$xPath-&gt;findvalue('pluginName', $node);&#10;&#10;  # skip plugins  &#10;  next if ($pluginName ne "");&#10;  printf("Saving Project: %s\n", $pName);&#10;  my ($success, $xPath, $errMsg, $errCode) = InvokeCommander("SuppressLog", "export", $path."/$pName".".xml",&#10;  					{ 'path'=&gt; "/projects/".$pName, &#10;                                          'relocatable' =&gt; $relocatable,&#10;                                          'withAcls'    =&gt; $includeACLs,&#10;                                          'withNotifiers'=&gt;$includeNotifiers});&#10;  if (! $success) {&#10;    printf("  Error exporting %s", $pName);&#10;    printf("  %s: %s\n", $errCode, $errMsg);&#10;    $errorCount++;&#10;  }&#10;}&#10;exit($errorCount);&#10;</command>
        <condition></condition>
        <description>A procedure to export each project individually into a XML file for backup&#10;&#10;Changelog:&#10;2014-02-27 Kate McCormack&#10;  Adding setTimeout equal to 600 so the ec commands won't time out&#10;2013-12-17 Laurent Rochette&#10;  Add chmod after directory creation for cases when server service and &#10;      server agent service user are different.&#10;2013-07-28 Laurent Rochette&#10;  Add parameters to include or not ACLs and email notifiers</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>subPM-deploymentSize</procedureName>
      <description>a couple of steps to size your ElectricCommander instllation&#10;&#10;Number per&#10; Implementation	     Small	Medium	Large&#10;---------------------------------------------------------&#10;Agents	                      &lt;50	   &gt;50	&gt;1000&#10;Projects	                      &lt;10	   &lt;100	&gt;100&#10;Jobs Per Day	              &lt;200	   &gt;200	&gt;1000&#10;Managed Resources      &lt;100   &lt;1000	&gt;1000&#10;</description>
      <jobNameTemplate>$[/myProject/scripts/jobTemplate]</jobNameTemplate>
      <resourceName></resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName></workspaceName>
      <propertySheet>
      </propertySheet>
      <step>
        <stepName>agents</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>$[/myProject/scripts/perlHeaderJSON]&#10;&#10;################################################################################&#10;#&#10;# GLobal variables&#10;#&#10;################################################################################&#10;my $SMALL=50;&#10;my $LARGE=1000;&#10;my $nbAgents;&#10;my $size;&#10;my %hAg;&#10;&#10;my ($ok, $json)=InvokeCommander("SuppressLog", 'getResources');&#10;&#10;#&#10;# Loop over resources to extract unique hostnames&#10;#&#10;foreach my $node ($json-&gt;findnodes('//resource')){&#10;	printf("Processing %s\n", $node-&gt;{hostName});&#10;    $hAg{lc($node-&gt;{hostName})}=1;&#10;}&#10;&#10;$nbAgents=scalar(keys(%hAg));&#10;if ($nbAgents &lt; $SMALL) {&#10;	$size="SMALL";&#10;} elsif ($nbAgents &gt; $LARGE) {&#10;	$size="LARGE";&#10;} else {&#10;	$size="MEDIUM";&#10;}&#10;$ec-&gt;setProperty("summary", "$size: $nbAgents agents");&#10;$ec-&gt;setProperty("/myJob/PM-numberOfAgents", $nbAgents);&#10;&#10;$[/myProject/scripts/perlLibJSON]&#10;</command>
        <condition></condition>
        <description>Number per &#10;Implementation	Small	Medium	Large&#10;-------------------------------------------------------&#10;Agents	                &lt;50	          &gt;50	 &gt;1000&#10;</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>managedResources</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>$[/myProject/scripts/perlHeaderJSON]&#10;&#10;################################################################################&#10;#&#10;# GLobal variables&#10;#&#10;################################################################################&#10;my $SMALL=100;&#10;my $LARGE=1000;&#10;&#10;my ($ok, $json)=InvokeCommander("SuppressLog", 'getResources');&#10;my $nbResources=scalar ($json-&gt;findnodes('//resource'));&#10;&#10;my $size;&#10;if ($nbResources &lt; $SMALL) {&#10;	$size="SMALL";&#10;} elsif ($nbResources &gt; $LARGE) {&#10;	$size="LARGE";&#10;} else {&#10;	$size="MEDIUM";&#10;}&#10;$ec-&gt;setProperty("summary", "$size: $nbResources resources");&#10;$ec-&gt;setProperty("/myJob/PM-numberOfResources", $nbResources);&#10;&#10;$[/myProject/scripts/perlLibJSON]&#10;</command>
        <condition></condition>
        <description>Number per &#10;Implementation	Small	Medium	Large&#10;-------------------------------------------------------&#10;Agents	                &lt;100	&lt;1000	 &gt;1000&#10;</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>projects</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>$[/myProject/scripts/perlHeaderJSON]&#10;&#10;################################################################################&#10;#&#10;# GLobal variables&#10;#&#10;################################################################################&#10;my $SMALL=10;&#10;my $LARGE=100;&#10;my $size;&#10;my $nb=0;&#10;&#10;my ($ok, $json)=InvokeCommander("SuppressLog", 'getProjects');&#10;foreach my $node ($json-&gt;findnodes('//project')) {&#10;    # Skip plugins&#10;    next if ($node-&gt;{pluginName});&#10;	my $name=$node-&gt;{projectName};&#10;    printf("Processing %s\n", $name);&#10;	$nb++;&#10;}&#10;&#10;&#10;if ($nb &lt; $SMALL) {&#10;	$size="SMALL";&#10;} elsif ($nb &gt; $LARGE) {&#10;	$size="LARGE";&#10;} else {&#10;	$size="MEDIUM";&#10;}&#10;$ec-&gt;setProperty("summary", "$size: $nb projects");&#10;$ec-&gt;setProperty("/myJob/PM-numberOfProjects", $nb);&#10;&#10;$[/myProject/scripts/perlLibJSON]&#10;</command>
        <condition></condition>
        <description>Number per &#10;Implementation	Small	Medium	Large&#10;-------------------------------------------------------&#10;Agents	                &lt;10   	&lt;100	 &gt;100&#10;</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>jobsPerDay</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>$[/myProject/scripts/perlHeaderJSON]&#10;&#10;use DateTime;&#10;&#10;################################################################################&#10;#&#10;# GLobal variables&#10;#&#10;################################################################################&#10;my $SMALL=100;&#10;my $LARGE=1000;&#10;my $size;&#10;my $nbDays=7;		# check over the last 7 days only&#10;my $count=0;		# total number of jobs&#10;my $nb=1.0;&#10;my $MAXJOBS=7000;&#10;my $now="$[/timestamp yyyy-MM-dd]" . "T00:00:00.000Z";&#10;my $weekAgo=calculateDate($nbDays);&#10;&#10;printf("Now: $now\n");&#10;printf("1 week: $weekAgo\n");&#10;&#10;# create filterList&#10;my @filterList;&#10;# only finished jobs&#10;push (@filterList, {"propertyName" =&gt; "status",&#10;                    "operator" =&gt; "equals",&#10;                    "operand1" =&gt; "completed"});&#10;# newer than&#10;push (@filterList, {"propertyName" =&gt; "start",&#10;                    "operator" =&gt; "greaterOrEqual",&#10;                    "operand1" =&gt; $weekAgo});&#10;# older than today midnight&#10;push (@filterList, {"propertyName" =&gt; "start",&#10;                    "operator" =&gt; "lessThan",&#10;                    "operand1" =&gt; $now});&#10;&#10;my ($ok, $json)=InvokeCommander("SuppressLog", 'findObjects', 'job',&#10;									{maxIds =&gt; $MAXJOBS, &#10;                                     numObjects =&gt; $MAXJOBS,&#10;                                     filter =&gt; \@filterList}&#10;								);&#10;$count=scalar($json-&gt;findnodes('//job'));&#10;$nb=$count/$nbDays;&#10;&#10;printf("Count: %d\n", $count);&#10;printf("Average: %3.1f\n", $nb);&#10;if ($nb &lt; $SMALL) {&#10;	$size="SMALL";&#10;} elsif ($nb &gt; $LARGE) {&#10;	$size="LARGE";&#10;} else {&#10;	$size="MEDIUM";&#10;}&#10;$ec-&gt;setProperty("summary", sprintf("$size: %.1f jobs per day", $nb));&#10;$ec-&gt;setProperty("/myJob/PM-numberOfJobsPerDay", sprintf("%.1f", $nb));&#10;&#10;exit(0);&#10;&#10;&#10;#############################################################################&#10;#&#10;#  Return the day/time at midnight X days back&#10;#&#10;#############################################################################&#10;sub calculateDate {&#10;    my $nbDays=shift;&#10;    my $string=DateTime-&gt;now()-&gt;subtract(days =&gt; $nbDays)-&gt;iso8601();&#10;    $string =~ s/(\d{4}-\d{1,2}-\d{1,2})T.*/$1/;&#10;    $string .= "T00:00:00.000Z";&#10;    return $string;&#10;}&#10;&#10;&#10;$[/myProject/scripts/perlLibJSON]&#10;</command>
        <condition></condition>
        <description>Number per &#10;Implementation	Small	Medium	Large&#10;-------------------------------------------------------&#10;jobs  	                &lt;100	&lt;1000	 &gt;1000&#10;</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>subPM-localUsage</procedureName>
      <description></description>
      <jobNameTemplate>$[/myProject/scripts/jobTemplate]</jobNameTemplate>
      <resourceName></resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName></workspaceName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>debugMode</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>number</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>debugMode</formalParameterName>
        <defaultValue>0</defaultValue>
        <description>debug mode</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>number</formalParameterName>
        <defaultValue>1000</defaultValue>
        <description>Number of jobSteps to evaluate</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>localUsage</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>#############################################################################&#10;#&#10;#  findSteps -- Script to find steps and figure out where they run&#10;#  Copyright 2014 Electric-Cloud Inc.&#10;#&#10;#############################################################################&#10;&#10;$[/myProject/scripts/perlHeaderJSON]&#10;&#10;#############################################################################&#10;#&#10;#  Assign Commander parameters to variables&#10;#&#10;#############################################################################&#10;my $totalJobs= $[number];&#10;$DEBUG=$[debugMode];&#10;&#10;#############################################################################&#10;#&#10;#  Global Variables&#10;#&#10;#############################################################################&#10;my $totalTime=0;&#10;my $localTime=0;&#10;my $totalSteps=0;&#10;my $localSteps=0;&#10;&#10;my $serverName=lc("$[/server/hostName]");&#10;my $serverIP="$[/server/hostIP]";&#10;&#10;# create filterList&#10;my @filterList;&#10;# only finished jobSteps&#10;push (@filterList, {"propertyName" =&gt; "status",&#10;                    "operator" =&gt; "equals",&#10;                    "operand1" =&gt; "completed"});&#10;&#10;#&#10;# get newest first&#10;my ($ok, $res)= InvokeCommander("SuppressLog", "findObjects", "jobStep",&#10;                                 {numObjects =&gt; $totalJobs,&#10;                                  filter =&gt; \@filterList,&#10;                                  sort =&gt; [ {propertyName =&gt; "finish",&#10;                                                    order =&gt; "descending"} ]&#10;                                 }&#10;                                );&#10;foreach my $step ($res-&gt;findnodes('//jobStep')) {&#10;    	my $rtime=$step-&gt;{runTime};&#10;        my $host=lc($step-&gt;{hostName});&#10;        next if ($host eq "");&#10;        $totalSteps++;&#10;        $totalTime+=$rtime;&#10;        if (($host eq "localhost") || ($host eq $serverName) || ($host eq $serverIP)){&#10;          #printf("  Step %s (%d)\n", $step-&gt;{stepName}, $rtime)  if ($DEBUG);&#10;          $localTime += $rtime;&#10;          $localSteps ++;&#10;        } else {&#10;          printf("NOT LOCAL: $host  -&gt; %s\n", $step-&gt;{stepName}) if ($DEBUG);&#10;        }&#10;}&#10;&#10;printf("Job time spent on local: %d ms\n", $localTime);&#10;printf("Total job time: %d ms\n", $totalTime);&#10;my $percTime=$localTime*100/$totalTime;&#10;printf("%.1f%% of job time spent on local\n\n", $percTime);&#10;&#10;printf("Number of steps on local: %d\n", $localSteps);&#10;printf("Total number of steps: %d\n", $totalSteps);&#10;my $percSteps=$localSteps*100/$totalSteps;&#10;printf("%.1f%% of steps spent on local\n", $percSteps);&#10;&#10;$ec-&gt;setProperty("summary", sprintf("%03.1f%% time\n%03.1f%% steps", $percTime, $percSteps));&#10;#&#10;# Perl Commander library&#10;$[/myProject/scripts/perlLibJSON]&#10;</command>
        <condition></condition>
        <description>A step to find out the percentage of steps and time spend running on local. Best practices call for jobs to run on remote agents&#10;</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>subPM-performance</procedureName>
      <description>This is a procedure to test resource performance</description>
      <jobNameTemplate></jobNameTemplate>
      <resourceName></resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName></workspaceName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>hostName</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>resource</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>hostname</formalParameterName>
        <defaultValue></defaultValue>
        <description>Name of the machine to test</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>resource</formalParameterName>
        <defaultValue></defaultValue>
        <description>Name of the resource</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>performance</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>$[/myProject/performances/scripts/perf.pm]&#10;&#10;#&#10;# Parameters&#10;#&#10;my $hostname="$[hostname]";&#10;my $resource="$[resource]";&#10;&#10;&#10;my $start = time();&#10;for (my $i=0; $i &lt; 4469134; $i++) {dec2bin(3);}&#10;my $totalTime = time()-$start;&#10;&#10;my $str=sprintf("%s: %d s\n", $hostname, $totalTime);&#10;checkValue("PERF", $totalTime, $str);&#10;exit(0);&#10;&#10;&#10;# 2004&#10;# Xah&#10;# xah@xahlee.org&#10;# http://xahlee.org/&#10;&#10;# convert to/from binary&#10;sub dec2bin {&#10;  my $str = unpack ("B32", pack("N", shift ));&#10;  $str =~ s@^0+(?=\d)@@; # otherwise you'll get leading zeros&#10;  return $str;&#10;}&#10;&#10;</command>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName>$[resource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit>10</timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName>$[/javascript ("$[/resources/$[resource]/workspaceName]" == "")?"default": "$[/resources/$[resource]/workspaceName]"; ]</workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>subPM-ping</procedureName>
      <description>This is a procedure to test ping answer time</description>
      <jobNameTemplate></jobNameTemplate>
      <resourceName></resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName></workspaceName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>hostName</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>resource</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>hostname</formalParameterName>
        <defaultValue></defaultValue>
        <description>Name of the machine to test</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>resource</formalParameterName>
        <defaultValue></defaultValue>
        <description>Name of the resource</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>ping</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>$[/myProject/performances/scripts/perf.pm]&#10;&#10;#&#10;# Parameters&#10;#&#10;my $hostname="$[hostname]";&#10;my $resource="$[resource]";&#10;&#10;#&#10;# Global Variables&#10;# &#10;my $pingCount=5;&#10;my $avgPing=0;&#10;my $result;&#10;my $str;&#10;&#10;if ($OSNAME eq "linux") {&#10;  $result=`ping -c $pingCount -q $hostname | tail -1`;&#10;&#10;  if ($result =~ /rtt/) {&#10;    # rtt min/avg/max/mdev = 0.167/0.190/0.238/0.027 ms&#10;    $result =~ m#[\d\.]+/([\d\.]+)/[\d\.]+/[\d\.]+#;&#10;    $avgPing=$1;&#10;  } elsif ($result =~ /unknown host/) {&#10;    InvokeCommander("SuppressLog", "setProperty", "outcome", "warning");&#10;    InvokeCommander("SuppressLog", "setProperty", "summary", "$hostname unknown");&#10;    exit(2);&#10;  } else {&#10;    # unreachable host&#10;    InvokeCommander("SuppressLog", "setProperty", "outcome", "warning");&#10;    InvokeCommander("SuppressLog", "setProperty", "summary", "$hostname unreachable");&#10;    exit(1);&#10;  }&#10;  $str=sprintf("%s: %4.3f ms\n", $hostname, $avgPing);&#10;} else {   # Windows&#10;  $result=`C:/Windows/system32/ping -n $pingCount $hostname`;&#10;  &#10;  if ($result =~ /Minimum/) {&#10;    #  Minimum = 178ms, Maximum = 530ms, Average = 357ms&#10;    $result =~ m/Average = (\d+)ms/;&#10;    $avgPing=$1;&#10;  } elsif ($result =~ /could not find host/) {&#10;    InvokeCommander("SuppressLog", "setProperty", "outcome", "warning");&#10;    InvokeCommander("SuppressLog", "setProperty", "summary", "$hostname unknown");&#10;    exit(2);&#10;  } else {&#10;    # unreachable host&#10;    InvokeCommander("SuppressLog", "setProperty", "outcome", "warning");&#10;    InvokeCommander("SuppressLog", "setProperty", "summary", "$hostname unreachable");&#10;    exit(1);&#10;  }&#10;  $str=sprintf("%s: %d ms\n", $hostname, $avgPing);&#10;}&#10;&#10;checkValue("PING", $avgPing, $str);&#10;</command>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>synchronizePlugins</procedureName>
      <description>A procedure to synchronize plugins between the server and a resource. Plugins are uploaded first as artifacts and downloaded on the resource if it does not already exist.</description>
      <jobNameTemplate></jobNameTemplate>
      <resourceName></resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName></workspaceName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>agent</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>descriptionForPlugin</propertyName>
          <description></description>
          <expandable>1</expandable>
          <value>A procedure to synchronize plugins between the server and a resource. Plugins are uploaded first as artifacts and downloaded on the resource if it does not already exist.</value>
        </property>
        <property>
          <propertyName>exposeToPlugin</propertyName>
          <description></description>
          <expandable>1</expandable>
          <value>1</value>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>agent</formalParameterName>
        <defaultValue></defaultValue>
        <description>Name of the resrouce where to synchronize the plugins</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>uploadPlugins</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>#############################################################################&#10;#&#10;#  uploadPlugins -- upload all plugins in the Artifact Repository&#10;#  Copyright 2014 Electric-Cloud Inc.&#10;#&#10;#############################################################################&#10;&#10;$[/myProject/scripts/perlHeader]&#10;&#10;#############################################################################&#10;#&#10;#  Global Variables&#10;#&#10;#############################################################################&#10;my $nbPlugins=0;&#10;&#10;my ($ok, $res)=InvokeCommander("SuppressLog", "getPlugins");&#10;foreach my $node ($res-&gt;findnodes('//plugin') ){&#10;	my $fullName=$node-&gt;findvalue('pluginName');&#10;    my ($name, $version) = $fullName =~ m/([\w \-]+)-([\d\.]+)/;&#10;    #my $version=$node-&gt;{pluginVersion};&#10;    printf("Processing $name : $version\n");&#10;    &#10;	#&#10;    # Is this plugin already imported in an Artifact Version&#10;    #&#10;	($ok)=InvokeCommander("SuppressLog IgnoreError", 'getArtifactVersion', "plugins:$name:$version");&#10;    if ($ok) {&#10;    	printf("\tAV already exist\n");&#10;        next;    # Artifact already exist&#10;    }&#10;	#&#10;    # Does the Artifact already exist?&#10;    #&#10;    ($ok)=InvokeCommander("SuppressLog IgnoreError", 'getArtifact', "plugins:$name");&#10;    if (! $ok) {&#10;    	InvokeCommander("SuppressLog", 'createArtifact',&#10;    		{&#10;            	groupId=&gt;"plugins", artifactKey=&gt;$name&#10;    		}&#10;    );&#10;    }&#10;    InvokeCommander("SuppressLog", 'publishArtifactVersion',&#10;    		{&#10;            	groupId=&gt;"plugins", artifactKey=&gt;$name,  version=&gt;$version,&#10;            	fromDirectory=&gt;"$[/server/Electric Cloud/dataDirectory]/plugins/$name-$version"&#10;    		}&#10;    );&#10;    $nbPlugins++;&#10;}&#10;$ec-&gt;setProperty("summary", "$nbPlugins plugins uploaded");&#10;&#10;$[/myProject/scripts/perlLib]</command>
        <condition></condition>
        <description>upload all plugins in the artifact Repository</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>downloadPlugins</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>#############################################################################&#10;#&#10;#  downloadPlugins -- Script to parse all plugins from the artifact&#10;#      repository and retrieve the latest version in the plugin directory if&#10;#      it's not already there&#10;#  Copyright 2014 Electric-Cloud Inc.&#10;#&#10;#############################################################################&#10;$[/myProject/scripts/perlHeader]&#10;&#10;#############################################################################&#10;#&#10;#  Global Variables&#10;#&#10;#############################################################################&#10;my $nbPlugins=0;&#10;&#10;my ($ok, $res)=InvokeCommander("SuppressLog", "findObjects", 'artifact', &#10;	{ filter=&gt; [&#10;					{propertyName =&gt; 'groupId', operator=&gt;"equals", operand1=&gt;"plugins"}&#10;               ]&#10;    });&#10;foreach my $node ($res-&gt;findnodes('//artifact')) {&#10;	my $artName=$node-&gt;findvalue('artifactKey');&#10;    printf("Processing $artName\n");&#10;    &#10;	#&#10;    # What is the latest Version of this Artfact/plugin&#10;    #&#10;	my ($ok, $avRes)=InvokeCommander("SuppressLog", 'findArtifactVersions', &#10;    			{artifactName=&gt;"plugins:$artName"}&#10;            );&#10;    my $version=$avRes-&gt;findvalue('//version');&#10;    my $AVN=$avRes-&gt;findvalue('//artifactVersionName');&#10;    printf("\tRetrieved $version\n");&#10;    &#10;    if (-d "$[/server/Electric Cloud/dataDirectory]/plugins/$artName-$version") {&#10;    	printf("\tplugins already exists\n");&#10;        next;    # Plugin already exists&#10;    } else {&#10;	#&#10;    # Retrieve the plugin&#10;    #&#10;    	$ec-&gt;retrieveArtifactVersions(&#10;    		{&#10;            	artifactVersionName =&gt; $AVN,&#10;            	toDirectory =&gt; "$[/server/Electric Cloud/dataDirectory]/plugins/$artName-$version",&#10;                overwrite =&gt; 'true'&#10;    		}&#10;    	);&#10;        printf("\tDownloaded\n");&#10;        $nbPlugins++;&#10;    }&#10;}&#10;$ec-&gt;setProperty("summary", "$nbPlugins plugins downloaded");&#10;&#10;$[/myProject/scripts/perlLib]</command>
        <condition></condition>
        <description>Parse all plugins:.... artifact and retrieve the latest version in the plugin directory if it's not already there</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName>$[agent]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>workflowCleanup</procedureName>
      <description>Delete workflows older than a number of days.&#10;Report the number of workflows.</description>
      <jobNameTemplate>$[/myProject/scripts/jobTemplate]</jobNameTemplate>
      <resourceName>local</resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName></workspaceName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>delete Aborted Jobs</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>delete Error Jobs</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>delete Successful Jobs</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>deleteAbortedJobs</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>executeDeletion</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>options</propertyName>
                      <propertySheet>
                        <property>
                          <propertyName>option1</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Report</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>false</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option2</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Delete</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>true</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>optionCount</propertyName>
                          <expandable>1</expandable>
                          <value>2</value>
                        </property>
                        <property>
                          <propertyName>type</propertyName>
                          <expandable>1</expandable>
                          <value>list</value>
                        </property>
                      </propertySheet>
                    </property>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>jobLevel</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>options</propertyName>
                      <propertySheet>
                        <property>
                          <propertyName>option1</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Aborted</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>Aborted</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option2</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Error &amp; Aborted</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>Error</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option3</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>All</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>All</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>optionCount</propertyName>
                          <expandable>1</expandable>
                          <value>3</value>
                        </property>
                        <property>
                          <propertyName>type</propertyName>
                          <expandable>1</expandable>
                          <value>list</value>
                        </property>
                      </propertySheet>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>jobPatternMatching</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>jobProperty</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>olderThan</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>options</propertyName>
                      <propertySheet>
                        <property>
                          <propertyName>option1</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>1 month</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>30</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option2</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>2 months</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>60</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option3</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>3 months</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>91</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option4</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>6 months</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>182</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option5</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>1 year</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>365</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>optionCount</propertyName>
                          <expandable>1</expandable>
                          <value>5</value>
                        </property>
                        <property>
                          <propertyName>type</propertyName>
                          <expandable>1</expandable>
                          <value>list</value>
                        </property>
                      </propertySheet>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>wkfPatternMatching</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>wkfProperty</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>ec_parameterForm</propertyName>
          <description>Redefine UI</description>
          <expandable>1</expandable>
          <value>&lt;editor&gt; &#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Delete workflows older than&lt;/label&gt;    &#10;        &lt;property&gt;olderThan&lt;/property&gt;    &#10;        &lt;documentation&gt;Indicate the numbers of days after which workflows should be deleted&lt;/documentation&gt; &#10;        &lt;type&gt;select&lt;/type&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;1 month&lt;/name&gt; &#10;            &lt;value&gt;30&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;2 months&lt;/name&gt; &#10;            &lt;value&gt;60&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;3 months&lt;/name&gt; &#10;            &lt;value&gt;91&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;6 months&lt;/name&gt; &#10;            &lt;value&gt;182&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;1 year&lt;/name&gt; &#10;            &lt;value&gt;365&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;value&gt;91&lt;/value&gt;  &#10;        &lt;required&gt;1&lt;/required&gt;&#10;    &lt;/formElement&gt; &#10;&#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Workflow property&lt;/label&gt; &#10;        &lt;property&gt;wkfProperty&lt;/property&gt; &#10;        &lt;documentation&gt;Name of a property attached to your workflows. If this property is set, your workflow won't be deleted.&#10;        &lt;/documentation&gt; &#10;        &lt;type&gt;entry&lt;/type&gt; &#10;        &lt;value&gt;doNotDelete&lt;/value&gt; &#10;        &lt;required&gt;1&lt;/required&gt;&#10;    &lt;/formElement&gt; &#10;&#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Pattern matching&lt;/label&gt; &#10;        &lt;property&gt;wkfPatternMatching&lt;/property&gt; &#10;        &lt;documentation&gt;a SQL pattern matching to automatically preserve some workflows. The pattern must solve for a LIKE statement.&lt;/documentation&gt; &#10;        &lt;type&gt;entry&lt;/type&gt;&#10;    &lt;/formElement&gt; &#10;&#10;    &lt;formElement&gt; &#10;        &lt;label&gt;Delete&lt;/label&gt;    &#10;        &lt;property&gt;executeDeletion&lt;/property&gt; &#10;        &lt;documentation&gt;If this option is not set, only report is done. No real data are deleted&lt;/documentation&gt; &#10;        &lt;type&gt;select&lt;/type&gt;    &#10;        &lt;option&gt; &#10;            &lt;name&gt;Report&lt;/name&gt; &#10;            &lt;value&gt;false&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;option&gt; &#10;            &lt;name&gt;Delete&lt;/name&gt; &#10;            &lt;value&gt;true&lt;/value&gt; &#10;        &lt;/option&gt; &#10;        &lt;value&gt;false&lt;/value&gt;    &#10;    &lt;/formElement&gt; &#10;&#10;&lt;/editor&gt;</value>
        </property>
        <property>
          <propertyName>exposeToPlugin</propertyName>
          <description>So the procedure is shown in the pickerList</description>
          <expandable>1</expandable>
          <value>1</value>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>executeDeletion</formalParameterName>
        <defaultValue>false</defaultValue>
        <description>If this option is not set, only report is done. No real data are deleted</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>select</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>olderThan</formalParameterName>
        <defaultValue>91</defaultValue>
        <description>Indicate the numbers of days after which jobs should be deleted</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>select</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>wkfPatternMatching</formalParameterName>
        <defaultValue></defaultValue>
        <description>a SQL pattern matching to automatically preserve some workflows. The pattern must solve for a LIKE statement.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>wkfProperty</formalParameterName>
        <defaultValue>doNotDelete</defaultValue>
        <description>Name of a property attached to your workflows. If this property is set, your workflow won't be deleted no matter how old it is.&#10;</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>deleteWorkflows</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>#############################################################################&#10;#&#10;#  deleteWorkflows -- Script to delete workflowss&#10;#  Copyright 2013 Electric-Cloud Inc.&#10;#&#10;#############################################################################&#10;&#10;#&#10;# Perl Commander Header&#10;$[/myProject/scripts/perlHeader]&#10;use DateTime;&#10;&#10;#&#10;# Perl Commander library&#10;$[/myProject/scripts/perlLib]&#10;&#10;#############################################################################&#10;#&#10;#  Assign Commander parameters to variables&#10;#&#10;#############################################################################&#10;my $wkfProperty     = "$[wkfProperty]";&#10;my $timeLimit       =  $[olderThan];&#10;my $executeDeletion = "$[executeDeletion]";&#10;my $wkfPattern      = "$[wkfPatternMatching]"; &#10;&#10;#############################################################################&#10;#&#10;#  Global Variables&#10;#&#10;#############################################################################&#10;my $version="1.0";&#10;my $totalNbWkfs=0;          # Number of workflows to delete potentially&#10;my $totalNbStates=0;        # Number of states to evaluate DB size&#10;my $totalNbTrans=0;         # Number of transitions to evaluate DB size&#10;my $DBStateSize=10240;      # State is about 10K in DB&#10;my $DBTransSize=5120;       # Transition is about 5K in DB&#10;&#10;#############################################################################&#10;#&#10;#  Main&#10;#&#10;#############################################################################&#10;&#10;printf("%s workflows older than $timeLimit days (%s).\n", &#10;    $executeDeletion eq "true"?"Deleting":"Reporting", &#10;    calculateDate($timeLimit));&#10;printf("  Skipping over \"%s\" workflows.\n\n", $wkfPattern) if ($wkfPattern ne "");&#10;&#10;# create filterList&#10;my @filterList;&#10;# only completed workflows&#10;push (@filterList, {"propertyName" =&gt; "completed",&#10;                    "operator" =&gt; "equals",&#10;                    "operand1" =&gt; "1"});&#10;# older than&#10;if ($timeLimit &gt;0) {&#10;  push (@filterList, {"propertyName" =&gt; "finish",&#10;                    "operator" =&gt; "lessThan",&#10;                    "operand1" =&gt; calculateDate($timeLimit)});&#10;}&#10;                    # do not have specific job property&#10;push (@filterList, {"propertyName" =&gt; $wkfProperty,&#10;                    "operator" =&gt; "isNull"});&#10;# workflow pattern does not match&#10;if ($wkfPattern ne "") {&#10;  push (@filterList, {"propertyName" =&gt; "workflowName",&#10;                      "operator" =&gt; "notLike",&#10;                      "operand1" =&gt; $wkfPattern});&#10;}              &#10;&#10;my ($success, $xPath) = InvokeCommander("SuppressLog", "findObjects", "workflow",&#10;                                        {maxIds =&gt; 5000,&#10;                                         filter =&gt; \@filterList ,&#10;                                         sort =&gt; [ {propertyName =&gt; "finish",&#10;                                                    order =&gt; "ascending"} ]&#10;                                        }&#10;									   );&#10;print "Search Status:\t$success\n";&#10;&#10;# Loop over all returned workflows&#10;my $nodeset = $xPath-&gt;find('//workflow');&#10;foreach my $node ($nodeset-&gt;get_nodelist) {&#10;        $totalNbWkfs++;&#10;&#10;        my $wkfName = $xPath-&gt;findvalue('workflowName', $node);&#10;		my $projName= $xPath-&gt;findvalue('projectName', $node);&#10;&#10;        print "Workflow: $wkfName\n";&#10;&#10;        #&#10;        # Find number of states for the workflow&#10;		my $nbStates=0;&#10;		my $nbTrans=0;&#10;        my ($success, $stateXML) = InvokeCommander("SuppressLog", "getStates", $projName, $wkfName);&#10;        foreach my $stateNode ($stateXML-&gt;find('//state')-&gt;get_nodelist) {&#10;		  $nbStates ++;&#10;		  my $stateName=$stateXML-&gt;findvalue('stateName', $stateNode);&#10;		  printf("  State name: $stateName\n") if ($DEBUG);&#10;		  #&#10;		  # Find numbers of transitions per state&#10;		  my ($success, $transXML) = InvokeCommander("SuppressLog", "getTransitions", $projName, $wkfName, $stateName);&#10;		  $nbTrans += scalar($transXML-&gt;findnodes('//transition')-&gt;get_nodelist);&#10;		}&#10;        printf("  Workflow states:\t%d\n", $nbStates);&#10;        printf("  Workflow transitions:\t%d\n", $nbTrans);&#10;		$totalNbStates += $nbStates;&#10;		$totalNbTrans  += $nbTrans;&#10;		&#10;        # Delete the workflow&#10;&#10;        if ($executeDeletion eq "true") {&#10;            InvokeCommander("SuppressLog", "deleteWorkflow", $projName, $wkfName) ;&#10;            print "  Deleting Workflow\n\n";&#10;        } &#10;}&#10;&#10;printf("\nSUMMARY:\n");&#10;printf("Total number of workflows:   %d\n", $totalNbWkfs);&#10;printf("Total number of states:      %d\n", $totalNbStates);&#10;printf("Total number of transitions: %d\n", $totalNbTrans);&#10;printf("Total Database size:         %s\n", &#10;       humanSize($totalNbStates * $DBStateSize + $totalNbTrans * $DBTransSize));&#10;&#10;$ec-&gt;setProperty("/myJob/numberOfWorkflows", $totalNbWkfs);&#10;$ec-&gt;setProperty("/myJob/numbernumberOfStates", $totalNbStates);&#10;&#10;$ec-&gt;setProperty("summary", $totalNbWkfs . " workflows deleted" ) if ($executeDeletion eq "true");&#10;&#10;exit(0);&#10;&#10;&#10;#############################################################################&#10;#&#10;#  Calculate the Date based on now and the number of days required by&#10;#  the user before deleting jobs&#10;#&#10;#############################################################################&#10;sub calculateDate {&#10;    my $nbDays=shift;&#10;    return DateTime-&gt;now()-&gt;subtract(days =&gt; $nbDays)-&gt;iso8601() . ".000Z";&#10;}&#10;</command>
        <condition></condition>
        <description>Script to delete workflows</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <schedule>
      <scheduleName>CleanJobs</scheduleName>
      <beginDate></beginDate>
      <description>A Schedule to automatically delete jobs older than 30 days</description>
      <endDate></endDate>
      <interval>0</interval>
      <intervalUnits>seconds</intervalUnits>
      <misfirePolicy>runOnce</misfirePolicy>
      <monthDays></monthDays>
      <priority>normal</priority>
      <procedureName>jobsCleanup</procedureName>
      <scheduleDisabled>1</scheduleDisabled>
      <startTime>2:00</startTime>
      <stopTime></stopTime>
      <timeZone>America/Los_Angeles</timeZone>
      <weekDays>Tuesday Friday </weekDays>
      <actualParameters>
        <property>
          <propertyName>computeUsage</propertyName>
          <expandable>1</expandable>
          <value>false</value>
        </property>
        <property>
          <propertyName>executeDeletion</propertyName>
          <expandable>1</expandable>
          <value>true</value>
        </property>
        <property>
          <propertyName>jobLevel</propertyName>
          <expandable>1</expandable>
          <value>All</value>
        </property>
        <property>
          <propertyName>jobProperty</propertyName>
          <expandable>1</expandable>
          <value>doNotDeleteThisJob</value>
        </property>
        <property>
          <propertyName>olderThan</propertyName>
          <expandable>1</expandable>
          <value>30</value>
        </property>
      </actualParameters>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>formType</propertyName>
              <expandable>1</expandable>
              <value>standard</value>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
    </schedule>
    <schedule>
      <scheduleName>performanceSchedule</scheduleName>
      <beginDate></beginDate>
      <description></description>
      <endDate></endDate>
      <interval>0</interval>
      <intervalUnits>seconds</intervalUnits>
      <misfirePolicy>runOnce</misfirePolicy>
      <monthDays></monthDays>
      <priority>normal</priority>
      <procedureName>performanceMetrics</procedureName>
      <scheduleDisabled>1</scheduleDisabled>
      <startTime>0:05</startTime>
      <stopTime></stopTime>
      <timeZone>America/Los_Angeles</timeZone>
      <weekDays></weekDays>
      <actualParameters>
        <property>
          <propertyName>debugMode</propertyName>
          <expandable>1</expandable>
          <value>0</value>
        </property>
        <property>
          <propertyName>numberOfGB</propertyName>
          <expandable>1</expandable>
          <value>10</value>
        </property>
        <property>
          <propertyName>numberOfSteps</propertyName>
          <expandable>1</expandable>
          <value>500</value>
        </property>
      </actualParameters>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>formType</propertyName>
              <expandable>1</expandable>
              <value>standard</value>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
    </schedule>
    <schedule>
      <scheduleName>RunReport_Performance_Schedule</scheduleName>
      <beginDate></beginDate>
      <description></description>
      <endDate></endDate>
      <interval>0</interval>
      <intervalUnits>seconds</intervalUnits>
      <misfirePolicy>ignore</misfirePolicy>
      <monthDays></monthDays>
      <priority>normal</priority>
      <procedureName>/plugins/EC-Reports/project/procedures/RunReport_MultiSeries</procedureName>
      <scheduleDisabled>1</scheduleDisabled>
      <startTime>02:00</startTime>
      <stopTime></stopTime>
      <timeZone>America/Los_Angeles</timeZone>
      <weekDays></weekDays>
      <actualParameters>
        <property>
          <propertyName>Chart Time Grouping</propertyName>
          <expandable>1</expandable>
          <value>day</value>
        </property>
        <property>
          <propertyName>Chart X-Axis Label</propertyName>
          <expandable>1</expandable>
          <value>Date</value>
        </property>
        <property>
          <propertyName>Chart Y-Axis Label</propertyName>
          <expandable>1</expandable>
          <value>Seconds</value>
        </property>
        <property>
          <propertyName>Generate Thumbnail</propertyName>
          <expandable>1</expandable>
          <value>1</value>
        </property>
        <property>
          <propertyName>Object Type</propertyName>
          <expandable>1</expandable>
          <value>job</value>
        </property>
        <property>
          <propertyName>Report Title</propertyName>
          <expandable>1</expandable>
          <value>Performance Report</value>
        </property>
        <property>
          <propertyName>Resource</propertyName>
          <expandable>1</expandable>
          <value>local</value>
        </property>
        <property>
          <propertyName>Saved Filter</propertyName>
          <expandable>1</expandable>
          <value>/plugins/EC-Admin/project/ec_savedSearches/last500PerformanceMetricsJobs</value>
        </property>
        <property>
          <propertyName>Series 1 Chart Type</propertyName>
          <expandable>1</expandable>
          <value>Line</value>
        </property>
        <property>
          <propertyName>Series 1 Display Name</propertyName>
          <expandable>1</expandable>
          <value>Read Perf.</value>
        </property>
        <property>
          <propertyName>Series 1 Property</propertyName>
          <expandable>1</expandable>
          <value>readDiskPerf</value>
        </property>
        <property>
          <propertyName>Series 1 Property Function</propertyName>
          <expandable>1</expandable>
          <value>Min</value>
        </property>
        <property>
          <propertyName>Series 1 Stacked</propertyName>
          <expandable>1</expandable>
          <value>0</value>
        </property>
        <property>
          <propertyName>Series 2 Chart Type</propertyName>
          <expandable>1</expandable>
          <value>Line</value>
        </property>
        <property>
          <propertyName>Series 2 Display Name</propertyName>
          <expandable>1</expandable>
          <value>Write Perf.</value>
        </property>
        <property>
          <propertyName>Series 2 Property</propertyName>
          <expandable>1</expandable>
          <value>writeDiskPerf</value>
        </property>
        <property>
          <propertyName>Series 2 Property Function</propertyName>
          <expandable>1</expandable>
          <value>Min</value>
        </property>
        <property>
          <propertyName>Series 2 Stacked</propertyName>
          <expandable>1</expandable>
          <value>0</value>
        </property>
        <property>
          <propertyName>Series 3 Chart Type</propertyName>
          <expandable>1</expandable>
          <value>Line</value>
        </property>
        <property>
          <propertyName>Series 3 Display Name</propertyName>
          <expandable>1</expandable>
          <value>Database Perf.</value>
        </property>
        <property>
          <propertyName>Series 3 Property</propertyName>
          <expandable>1</expandable>
          <value>DBPerf</value>
        </property>
        <property>
          <propertyName>Series 3 Property Function</propertyName>
          <expandable>1</expandable>
          <value>Ave</value>
        </property>
        <property>
          <propertyName>Series 3 Stacked</propertyName>
          <expandable>1</expandable>
          <value>0</value>
        </property>
        <property>
          <propertyName>Series 4 Chart Type</propertyName>
          <expandable>1</expandable>
          <value>Line</value>
        </property>
        <property>
          <propertyName>Series 4 Property Function</propertyName>
          <expandable>1</expandable>
          <value>Ave</value>
        </property>
        <property>
          <propertyName>Series 4 Stacked</propertyName>
          <expandable>1</expandable>
          <value>0</value>
        </property>
        <property>
          <propertyName>Series 5 Chart Type</propertyName>
          <expandable>1</expandable>
          <value>Line</value>
        </property>
        <property>
          <propertyName>Series 5 Property Function</propertyName>
          <expandable>1</expandable>
          <value>Ave</value>
        </property>
        <property>
          <propertyName>Series 5 Stacked</propertyName>
          <expandable>1</expandable>
          <value>0</value>
        </property>
        <property>
          <propertyName>Table Time Column Display Name</propertyName>
          <expandable>1</expandable>
          <value>Time</value>
        </property>
        <property>
          <propertyName>Table Time Grouping</propertyName>
          <expandable>1</expandable>
          <value>auto</value>
        </property>
        <property>
          <propertyName>Time Period</propertyName>
          <expandable>1</expandable>
          <value>window,30</value>
        </property>
      </actualParameters>
      <propertySheet>
      </propertySheet>
    </schedule>
    <schedule>
      <scheduleName>weeklySaveProjects</scheduleName>
      <beginDate></beginDate>
      <description></description>
      <endDate></endDate>
      <interval>0</interval>
      <intervalUnits>seconds</intervalUnits>
      <misfirePolicy>runOnce</misfirePolicy>
      <monthDays></monthDays>
      <priority>normal</priority>
      <procedureName>saveProjects</procedureName>
      <scheduleDisabled>1</scheduleDisabled>
      <startTime>4:30</startTime>
      <stopTime></stopTime>
      <timeZone>America/Los_Angeles</timeZone>
      <weekDays>Tuesday Thursday Saturday </weekDays>
      <actualParameters>
        <property>
          <propertyName>includeACLs</propertyName>
          <expandable>1</expandable>
          <value>true</value>
        </property>
        <property>
          <propertyName>includeNotifiers</propertyName>
          <expandable>1</expandable>
          <value>true</value>
        </property>
        <property>
          <propertyName>pathname</propertyName>
          <expandable>1</expandable>
          <value>/scratch/BACKUP</value>
        </property>
        <property>
          <propertyName>relocatable</propertyName>
          <expandable>1</expandable>
          <value>true</value>
        </property>
      </actualParameters>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>formType</propertyName>
              <expandable>1</expandable>
              <value>standard</value>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
    </schedule>
  </project>
</exportedData>
